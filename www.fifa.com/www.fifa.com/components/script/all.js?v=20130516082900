var currLang='E';var cookieDomain='.fifa.com';var baseUrl='http://www.fifa.com';var siteLang='en';var idSplitLen=3;var numWordsComment=100;var commentsPerPage=10;var titlePrefixReverse=true;var vocJsBasic = {"tzcUtcNotAvailable":{"abbr":"","text":"Time conversion not available"}};
vocJsBasic.translate = function(tag){return vocJsBasic.hasOwnProperty(tag) ? (vocJsBasic[tag].text || tag) : tag;};
vocJsBasic.translateAbbr = function(tag){return vocJsBasic.hasOwnProperty(tag) ? (vocJsBasic[tag].abbr || tag) : tag;};
(function(){var l = this, g, y = l.jQuery, p = l.$, o = l.jQuery = l.$ = function(E, F) { return new o.fn.init(E, F) }, D = /^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/, f = /^.[^:#\[\.,]*$/; o.fn = o.prototype = { init: function(E, H) { E = E || document; if (E.nodeType) { this[0] = E; this.length = 1; this.context = E; return this } if (typeof E === "string") { var G = D.exec(E); if (G && (G[1] || !H)) { if (G[1]) { E = o.clean([G[1]], H) } else { var I = document.getElementById(G[3]); if (I && I.id != G[3]) { return o().find(E) } var F = o(I || []); F.context = document; F.selector = E; return F } } else { return o(H).find(E) } } else { if (o.isFunction(E)) { return o(document).ready(E) } } if (E.selector && E.context) { this.selector = E.selector; this.context = E.context } return this.setArray(o.isArray(E) ? E : o.makeArray(E)) }, selector: "", jquery: "1.3.2", size: function() { return this.length }, get: function(E) { return E === g ? Array.prototype.slice.call(this) : this[E] }, pushStack: function(F, H, E) { var G = o(F); G.prevObject = this; G.context = this.context; if (H === "find") { G.selector = this.selector + (this.selector ? " " : "") + E } else { if (H) { G.selector = this.selector + "." + H + "(" + E + ")" } } return G }, setArray: function(E) { this.length = 0; Array.prototype.push.apply(this, E); return this }, each: function(F, E) { return o.each(this, F, E) }, index: function(E) { return o.inArray(E && E.jquery ? E[0] : E, this) }, attr: function(F, H, G) { var E = F; if (typeof F === "string") { if (H === g) { return this[0] && o[G || "attr"](this[0], F) } else { E = {}; E[F] = H } } return this.each(function(I) { for (F in E) { o.attr(G ? this.style : this, F, o.prop(this, E[F], G, I, F)) } }) }, css: function(E, F) { if ((E == "width" || E == "height") && parseFloat(F) < 0) { F = g } return this.attr(E, F, "curCSS") }, text: function(F) { if (typeof F !== "object" && F != null) { return this.empty().append((this[0] && this[0].ownerDocument || document).createTextNode(F)) } var E = ""; o.each(F || this, function() { o.each(this.childNodes, function() { if (this.nodeType != 8) { E += this.nodeType != 1 ? this.nodeValue : o.fn.text([this]) } }) }); return E }, wrapAll: function(E) { if (this[0]) { var F = o(E, this[0].ownerDocument).clone(); if (this[0].parentNode) { F.insertBefore(this[0]) } F.map(function() { var G = this; while (G.firstChild) { G = G.firstChild } return G }).append(this) } return this }, wrapInner: function(E) { return this.each(function() { o(this).contents().wrapAll(E) }) }, wrap: function(E) { return this.each(function() { o(this).wrapAll(E) }) }, append: function() { return this.domManip(arguments, true, function(E) { if (this.nodeType == 1) { this.appendChild(E) } }) }, prepend: function() { return this.domManip(arguments, true, function(E) { if (this.nodeType == 1) { this.insertBefore(E, this.firstChild) } }) }, before: function() { return this.domManip(arguments, false, function(E) { this.parentNode.insertBefore(E, this) }) }, after: function() { return this.domManip(arguments, false, function(E) { this.parentNode.insertBefore(E, this.nextSibling) }) }, end: function() { return this.prevObject || o([]) }, push: [].push, sort: [].sort, splice: [].splice, find: function(E) { if (this.length === 1) { var F = this.pushStack([], "find", E); F.length = 0; o.find(E, this[0], F); return F } else { return this.pushStack(o.unique(o.map(this, function(G) { return o.find(E, G) })), "find", E) } }, clone: function(G) { var E = this.map(function() { if (!o.support.noCloneEvent && !o.isXMLDoc(this)) { var I = this.outerHTML; if (!I) { var J = this.ownerDocument.createElement("div"); J.appendChild(this.cloneNode(true)); I = J.innerHTML } return o.clean([I.replace(/ jQuery\d+="(?:\d+|null)"/g, "").replace(/^\s*/, "")])[0] } else { return this.cloneNode(true) } }); if (G === true) { var H = this.find("*").andSelf(), F = 0; E.find("*").andSelf().each(function() { if (this.nodeName !== H[F].nodeName) { return } var I = o.data(H[F], "events"); for (var K in I) { for (var J in I[K]) { o.event.add(this, K, I[K][J], I[K][J].data) } } F++ }) } return E }, filter: function(E) { return this.pushStack(o.isFunction(E) && o.grep(this, function(G, F) { return E.call(G, F) }) || o.multiFilter(E, o.grep(this, function(F) { return F.nodeType === 1 })), "filter", E) }, closest: function(E) { var G = o.expr.match.POS.test(E) ? o(E) : null, F = 0; return this.map(function() { var H = this; while (H && H.ownerDocument) { if (G ? G.index(H) > -1 : o(H).is(E)) { o.data(H, "closest", F); return H } H = H.parentNode; F++ } }) }, not: function(E) { if (typeof E === "string") { if (f.test(E)) { return this.pushStack(o.multiFilter(E, this, true), "not", E) } else { E = o.multiFilter(E, this) } } var F = E.length && E[E.length - 1] !== g && !E.nodeType; return this.filter(function() { return F ? o.inArray(this, E) < 0 : this != E }) }, add: function(E) { return this.pushStack(o.unique(o.merge(this.get(), typeof E === "string" ? o(E) : o.makeArray(E)))) }, is: function(E) { return !!E && o.multiFilter(E, this).length > 0 }, hasClass: function(E) { return !!E && this.is("." + E) }, val: function(K) { if (K === g) { var E = this[0]; if (E) { if (o.nodeName(E, "option")) { return (E.attributes.value || {}).specified ? E.value : E.text } if (o.nodeName(E, "select")) { var I = E.selectedIndex, L = [], M = E.options, H = E.type == "select-one"; if (I < 0) { return null } for (var F = H ? I : 0, J = H ? I + 1 : M.length; F < J; F++) { var G = M[F]; if (G.selected) { K = o(G).val(); if (H) { return K } L.push(K) } } return L } return (E.value || "").replace(/\r/g, "") } return g } if (typeof K === "number") { K += "" } return this.each(function() { if (this.nodeType != 1) { return } if (o.isArray(K) && /radio|checkbox/.test(this.type)) { this.checked = (o.inArray(this.value, K) >= 0 || o.inArray(this.name, K) >= 0) } else { if (o.nodeName(this, "select")) { var N = o.makeArray(K); o("option", this).each(function() { this.selected = (o.inArray(this.value, N) >= 0 || o.inArray(this.text, N) >= 0) }); if (!N.length) { this.selectedIndex = -1 } } else { this.value = K } } }) }, html: function(E) { return E === g ? (this[0] ? this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g, "") : null) : this.empty().append(E) }, replaceWith: function(E) { return this.after(E).remove() }, eq: function(E) { return this.slice(E, +E + 1) }, slice: function() { return this.pushStack(Array.prototype.slice.apply(this, arguments), "slice", Array.prototype.slice.call(arguments).join(",")) }, map: function(E) { return this.pushStack(o.map(this, function(G, F) { return E.call(G, F, G) })) }, andSelf: function() { return this.add(this.prevObject) }, domManip: function(J, M, L) { if (this[0]) { var I = (this[0].ownerDocument || this[0]).createDocumentFragment(), F = o.clean(J, (this[0].ownerDocument || this[0]), I), H = I.firstChild; if (H) { for (var G = 0, E = this.length; G < E; G++) { L.call(K(this[G], H), this.length > 1 || G > 0 ? I.cloneNode(true) : I) } } if (F) { o.each(F, z) } } return this; function K(N, O) { return M && o.nodeName(N, "table") && o.nodeName(O, "tr") ? (N.getElementsByTagName("tbody")[0] || N.appendChild(N.ownerDocument.createElement("tbody"))) : N } } }; o.fn.init.prototype = o.fn; function z(E, F) { if (F.src) { o.ajax({ url: F.src, async: false, dataType: "script" }) } else { o.globalEval(F.text || F.textContent || F.innerHTML || "") } if (F.parentNode) { F.parentNode.removeChild(F) } } function e() { return +new Date } o.extend = o.fn.extend = function() { var J = arguments[0] || {}, H = 1, I = arguments.length, E = false, G; if (typeof J === "boolean") { E = J; J = arguments[1] || {}; H = 2 } if (typeof J !== "object" && !o.isFunction(J)) { J = {} } if (I == H) { J = this; --H } for (; H < I; H++) { if ((G = arguments[H]) != null) { for (var F in G) { var K = J[F], L = G[F]; if (J === L) { continue } if (E && L && typeof L === "object" && !L.nodeType) { J[F] = o.extend(E, K || (L.length != null ? [] : {}), L) } else { if (L !== g) { J[F] = L } } } } } return J }; var b = /z-?index|font-?weight|opacity|zoom|line-?height/i, q = document.defaultView || {}, s = Object.prototype.toString; o.extend({ noConflict: function(E) { l.$ = p; if (E) { l.jQuery = y } return o }, isFunction: function(E) { return s.call(E) === "[object Function]" }, isArray: function(E) { return s.call(E) === "[object Array]" }, isXMLDoc: function(E) { return E.nodeType === 9 && E.documentElement.nodeName !== "HTML" || !!E.ownerDocument && o.isXMLDoc(E.ownerDocument) }, globalEval: function(G) { if (G && /\S/.test(G)) { var F = document.getElementsByTagName("head")[0] || document.documentElement, E = document.createElement("script"); E.type = "text/javascript"; if (o.support.scriptEval) { E.appendChild(document.createTextNode(G)) } else { E.text = G } F.insertBefore(E, F.firstChild); F.removeChild(E) } }, nodeName: function(F, E) { return F.nodeName && F.nodeName.toUpperCase() == E.toUpperCase() }, each: function(G, K, F) { var E, H = 0, I = G.length; if (F) { if (I === g) { for (E in G) { if (K.apply(G[E], F) === false) { break } } } else { for (; H < I; ) { if (K.apply(G[H++], F) === false) { break } } } } else { if (I === g) { for (E in G) { if (K.call(G[E], E, G[E]) === false) { break } } } else { for (var J = G[0]; H < I && K.call(J, H, J) !== false; J = G[++H]) { } } } return G }, prop: function(H, I, G, F, E) { if (o.isFunction(I)) { I = I.call(H, F) } return typeof I === "number" && G == "curCSS" && !b.test(E) ? I + "px" : I }, className: { add: function(E, F) { o.each((F || "").split(/\s+/), function(G, H) { if (E.nodeType == 1 && !o.className.has(E.className, H)) { E.className += (E.className ? " " : "") + H } }) }, remove: function(E, F) { if (E.nodeType == 1) { E.className = F !== g ? o.grep(E.className.split(/\s+/), function(G) { return !o.className.has(F, G) }).join(" ") : "" } }, has: function(F, E) { return F && o.inArray(E, (F.className || F).toString().split(/\s+/)) > -1 } }, swap: function(H, G, I) { var E = {}; for (var F in G) { E[F] = H.style[F]; H.style[F] = G[F] } I.call(H); for (var F in G) { H.style[F] = E[F] } }, css: function(H, F, J, E) { if (F == "width" || F == "height") { var L, G = { position: "absolute", visibility: "hidden", display: "block" }, K = F == "width" ? ["Left", "Right"] : ["Top", "Bottom"]; function I() { L = F == "width" ? H.offsetWidth : H.offsetHeight; if (E === "border") { return } o.each(K, function() { if (!E) { L -= parseFloat(o.curCSS(H, "padding" + this, true)) || 0 } if (E === "margin") { L += parseFloat(o.curCSS(H, "margin" + this, true)) || 0 } else { L -= parseFloat(o.curCSS(H, "border" + this + "Width", true)) || 0 } }) } if (H.offsetWidth !== 0) { I() } else { o.swap(H, G, I) } return Math.max(0, Math.round(L)) } return o.curCSS(H, F, J) }, curCSS: function(I, F, G) { var L, E = I.style; if (F == "opacity" && !o.support.opacity) { L = o.attr(E, "opacity"); return L == "" ? "1" : L } if (F.match(/float/i)) { F = w } if (!G && E && E[F]) { L = E[F] } else { if (q.getComputedStyle) { if (F.match(/float/i)) { F = "float" } F = F.replace(/([A-Z])/g, "-$1").toLowerCase(); var M = q.getComputedStyle(I, null); if (M) { L = M.getPropertyValue(F) } if (F == "opacity" && L == "") { L = "1" } } else { if (I.currentStyle) { var J = F.replace(/\-(\w)/g, function(N, O) { return O.toUpperCase() }); L = I.currentStyle[F] || I.currentStyle[J]; if (!/^\d+(px)?$/i.test(L) && /^\d/.test(L)) { var H = E.left, K = I.runtimeStyle.left; I.runtimeStyle.left = I.currentStyle.left; E.left = L || 0; L = E.pixelLeft + "px"; E.left = H; I.runtimeStyle.left = K } } } } return L }, clean: function(F, K, I) { K = K || document; if (typeof K.createElement === "undefined") { K = K.ownerDocument || K[0] && K[0].ownerDocument || document } if (!I && F.length === 1 && typeof F[0] === "string") { var H = /^<(\w+)\s*\/?>$/.exec(F[0]); if (H) { return [K.createElement(H[1])] } } var G = [], E = [], L = K.createElement("div"); o.each(F, function(P, S) { if (typeof S === "number") { S += "" } if (!S) { return } if (typeof S === "string") { S = S.replace(/(<(\w+)[^>]*?)\/>/g, function(U, V, T) { return T.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i) ? U : V + "></" + T + ">" }); var O = S.replace(/^\s+/, "").substring(0, 10).toLowerCase(); var Q = !O.indexOf("<opt") && [1, "<select multiple='multiple'>", "</select>"] || !O.indexOf("<leg") && [1, "<fieldset>", "</fieldset>"] || O.match(/^<(thead|tbody|tfoot|colg|cap)/) && [1, "<table>", "</table>"] || !O.indexOf("<tr") && [2, "<table><tbody>", "</tbody></table>"] || (!O.indexOf("<td") || !O.indexOf("<th")) && [3, "<table><tbody><tr>", "</tr></tbody></table>"] || !O.indexOf("<col") && [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"] || !o.support.htmlSerialize && [1, "div<div>", "</div>"] || [0, "", ""]; L.innerHTML = Q[1] + S + Q[2]; while (Q[0]--) { L = L.lastChild } if (!o.support.tbody) { var R = /<tbody/i.test(S), N = !O.indexOf("<table") && !R ? L.firstChild && L.firstChild.childNodes : Q[1] == "<table>" && !R ? L.childNodes : []; for (var M = N.length - 1; M >= 0; --M) { if (o.nodeName(N[M], "tbody") && !N[M].childNodes.length) { N[M].parentNode.removeChild(N[M]) } } } if (!o.support.leadingWhitespace && /^\s/.test(S)) { L.insertBefore(K.createTextNode(S.match(/^\s*/)[0]), L.firstChild) } S = o.makeArray(L.childNodes) } if (S.nodeType) { G.push(S) } else { G = o.merge(G, S) } }); if (I) { for (var J = 0; G[J]; J++) { if (o.nodeName(G[J], "script") && (!G[J].type || G[J].type.toLowerCase() === "text/javascript")) { E.push(G[J].parentNode ? G[J].parentNode.removeChild(G[J]) : G[J]) } else { if (G[J].nodeType === 1) { G.splice.apply(G, [J + 1, 0].concat(o.makeArray(G[J].getElementsByTagName("script")))) } I.appendChild(G[J]) } } return E } return G }, attr: function(J, G, K) { if (!J || J.nodeType == 3 || J.nodeType == 8) { return g } var H = !o.isXMLDoc(J), L = K !== g; G = H && o.props[G] || G; if (J.tagName) { var F = /href|src|style/.test(G); if (G == "selected" && J.parentNode) { J.parentNode.selectedIndex } if (G in J && H && !F) { if (L) { if (G == "type" && o.nodeName(J, "input") && J.parentNode) { throw "type property can't be changed" } J[G] = K } if (o.nodeName(J, "form") && J.getAttributeNode(G)) { return J.getAttributeNode(G).nodeValue } if (G == "tabIndex") { var I = J.getAttributeNode("tabIndex"); return I && I.specified ? I.value : J.nodeName.match(/(button|input|object|select|textarea)/i) ? 0 : J.nodeName.match(/^(a|area)$/i) && J.href ? 0 : g } return J[G] } if (!o.support.style && H && G == "style") { return o.attr(J.style, "cssText", K) } if (L) { J.setAttribute(G, "" + K) } var E = !o.support.hrefNormalized && H && F ? J.getAttribute(G, 2) : J.getAttribute(G); return E === null ? g : E } if (!o.support.opacity && G == "opacity") { if (L) { J.zoom = 1; J.filter = (J.filter || "").replace(/alpha\([^)]*\)/, "") + (parseInt(K) + "" == "NaN" ? "" : "alpha(opacity=" + K * 100 + ")") } return J.filter && J.filter.indexOf("opacity=") >= 0 ? (parseFloat(J.filter.match(/opacity=([^)]*)/)[1]) / 100) + "" : "" } G = G.replace(/-([a-z])/ig, function(M, N) { return N.toUpperCase() }); if (L) { J[G] = K } return J[G] }, trim: function(E) { return (E || "").replace(/^\s+|\s+$/g, "") }, makeArray: function(G) { var E = []; if (G != null) { var F = G.length; if (F == null || typeof G === "string" || o.isFunction(G) || G.setInterval) { E[0] = G } else { while (F) { E[--F] = G[F] } } } return E }, inArray: function(G, H) { for (var E = 0, F = H.length; E < F; E++) { if (H[E] === G) { return E } } return -1 }, merge: function(H, E) { var F = 0, G, I = H.length; if (!o.support.getAll) { while ((G = E[F++]) != null) { if (G.nodeType != 8) { H[I++] = G } } } else { while ((G = E[F++]) != null) { H[I++] = G } } return H }, unique: function(K) { var F = [], E = {}; try { for (var G = 0, H = K.length; G < H; G++) { var J = o.data(K[G]); if (!E[J]) { E[J] = true; F.push(K[G]) } } } catch (I) { F = K } return F }, grep: function(F, J, E) { var G = []; for (var H = 0, I = F.length; H < I; H++) { if (!E != !J(F[H], H)) { G.push(F[H]) } } return G }, map: function(E, J) { var F = []; for (var G = 0, H = E.length; G < H; G++) { var I = J(E[G], G); if (I != null) { F[F.length] = I } } return F.concat.apply([], F) } }); var C = navigator.userAgent.toLowerCase(); o.browser = { version: (C.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/) || [0, "0"])[1], safari: /webkit/.test(C), opera: /opera/.test(C), msie: /msie/.test(C) && !/opera/.test(C), mozilla: /mozilla/.test(C) && !/(compatible|webkit)/.test(C) }; o.each({ parent: function(E) { return E.parentNode }, parents: function(E) { return o.dir(E, "parentNode") }, next: function(E) { return o.nth(E, 2, "nextSibling") }, prev: function(E) { return o.nth(E, 2, "previousSibling") }, nextAll: function(E) { return o.dir(E, "nextSibling") }, prevAll: function(E) { return o.dir(E, "previousSibling") }, siblings: function(E) { return o.sibling(E.parentNode.firstChild, E) }, children: function(E) { return o.sibling(E.firstChild) }, contents: function(E) { return o.nodeName(E, "iframe") ? E.contentDocument || E.contentWindow.document : o.makeArray(E.childNodes) } }, function(E, F) { o.fn[E] = function(G) { var H = o.map(this, F); if (G && typeof G == "string") { H = o.multiFilter(G, H) } return this.pushStack(o.unique(H), E, G) } }); o.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function(E, F) { o.fn[E] = function(G) { var J = [], L = o(G); for (var K = 0, H = L.length; K < H; K++) { var I = (K > 0 ? this.clone(true) : this).get(); o.fn[F].apply(o(L[K]), I); J = J.concat(I) } return this.pushStack(J, E, G) } }); o.each({ removeAttr: function(E) { o.attr(this, E, ""); if (this.nodeType == 1) { this.removeAttribute(E) } }, addClass: function(E) { o.className.add(this, E) }, removeClass: function(E) { o.className.remove(this, E) }, toggleClass: function(F, E) { if (typeof E !== "boolean") { E = !o.className.has(this, F) } o.className[E ? "add" : "remove"](this, F) }, remove: function(E) { if (!E || o.filter(E, [this]).length) { o("*", this).add([this]).each(function() { o.event.remove(this); o.removeData(this) }); if (this.parentNode) { this.parentNode.removeChild(this) } } }, empty: function() { o(this).children().remove(); while (this.firstChild) { this.removeChild(this.firstChild) } } }, function(E, F) { o.fn[E] = function() { return this.each(F, arguments) } }); function j(E, F) { return E[0] && parseInt(o.curCSS(E[0], F, true), 10) || 0 } var h = "jQuery" + e(), v = 0, A = {}; o.extend({ cache: {}, data: function(F, E, G) { F = F == l ? A : F; var H = F[h]; if (!H) { H = F[h] = ++v } if (E && !o.cache[H]) { o.cache[H] = {} } if (G !== g) { o.cache[H][E] = G } return E ? o.cache[H][E] : H }, removeData: function(F, E) { F = F == l ? A : F; var H = F[h]; if (E) { if (o.cache[H]) { delete o.cache[H][E]; E = ""; for (E in o.cache[H]) { break } if (!E) { o.removeData(F) } } } else { try { delete F[h] } catch (G) { if (F.removeAttribute) { F.removeAttribute(h) } } delete o.cache[H] } }, queue: function(F, E, H) { if (F) { E = (E || "fx") + "queue"; var G = o.data(F, E); if (!G || o.isArray(H)) { G = o.data(F, E, o.makeArray(H)) } else { if (H) { G.push(H) } } } return G }, dequeue: function(H, G) { var E = o.queue(H, G), F = E.shift(); if (!G || G === "fx") { F = E[0] } if (F !== g) { F.call(H) } } }); o.fn.extend({ data: function(E, G) { var H = E.split("."); H[1] = H[1] ? "." + H[1] : ""; if (G === g) { var F = this.triggerHandler("getData" + H[1] + "!", [H[0]]); if (F === g && this.length) { F = o.data(this[0], E) } return F === g && H[1] ? this.data(H[0]) : F } else { return this.trigger("setData" + H[1] + "!", [H[0], G]).each(function() { o.data(this, E, G) }) } }, removeData: function(E) { return this.each(function() { o.removeData(this, E) }) }, queue: function(E, F) { if (typeof E !== "string") { F = E; E = "fx" } if (F === g) { return o.queue(this[0], E) } return this.each(function() { var G = o.queue(this, E, F); if (E == "fx" && G.length == 1) { G[0].call(this) } }) }, dequeue: function(E) { return this.each(function() { o.dequeue(this, E) }) } });(function() { var R = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g, L = 0, H = Object.prototype.toString; var F = function(Y, U, ab, ac) { ab = ab || []; U = U || document; if (U.nodeType !== 1 && U.nodeType !== 9) { return [] } if (!Y || typeof Y !== "string") { return ab } var Z = [], W, af, ai, T, ad, V, X = true; R.lastIndex = 0; while ((W = R.exec(Y)) !== null) { Z.push(W[1]); if (W[2]) { V = RegExp.rightContext; break } } if (Z.length > 1 && M.exec(Y)) { if (Z.length === 2 && I.relative[Z[0]]) { af = J(Z[0] + Z[1], U) } else { af = I.relative[Z[0]] ? [U] : F(Z.shift(), U); while (Z.length) { Y = Z.shift(); if (I.relative[Y]) { Y += Z.shift() } af = J(Y, af) } } } else { var ae = ac ? { expr: Z.pop(), set: E(ac)} : F.find(Z.pop(), Z.length === 1 && U.parentNode ? U.parentNode : U, Q(U)); af = F.filter(ae.expr, ae.set); if (Z.length > 0) { ai = E(af) } else { X = false } while (Z.length) { var ah = Z.pop(), ag = ah; if (!I.relative[ah]) { ah = "" } else { ag = Z.pop() } if (ag == null) { ag = U } I.relative[ah](ai, ag, Q(U)) } } if (!ai) { ai = af } if (!ai) { throw "Syntax error, unrecognized expression: " + (ah || Y) } if (H.call(ai) === "[object Array]") { if (!X) { ab.push.apply(ab, ai) } else { if (U.nodeType === 1) { for (var aa = 0; ai[aa] != null; aa++) { if (ai[aa] && (ai[aa] === true || ai[aa].nodeType === 1 && K(U, ai[aa]))) { ab.push(af[aa]) } } } else { for (var aa = 0; ai[aa] != null; aa++) { if (ai[aa] && ai[aa].nodeType === 1) { ab.push(af[aa]) } } } } } else { E(ai, ab) } if (V) { F(V, U, ab, ac); if (G) { hasDuplicate = false; ab.sort(G); if (hasDuplicate) { for (var aa = 1; aa < ab.length; aa++) { if (ab[aa] === ab[aa - 1]) { ab.splice(aa--, 1) } } } } } return ab }; F.matches = function(T, U) { return F(T, null, null, U) }; F.find = function(aa, T, ab) { var Z, X; if (!aa) { return [] } for (var W = 0, V = I.order.length; W < V; W++) { var Y = I.order[W], X; if ((X = I.match[Y].exec(aa))) { var U = RegExp.leftContext; if (U.substr(U.length - 1) !== "\\") { X[1] = (X[1] || "").replace(/\\/g, ""); Z = I.find[Y](X, T, ab); if (Z != null) { aa = aa.replace(I.match[Y], ""); break } } } } if (!Z) { Z = T.getElementsByTagName("*") } return { set: Z, expr: aa} }; F.filter = function(ad, ac, ag, W) { var V = ad, ai = [], aa = ac, Y, T, Z = ac && ac[0] && Q(ac[0]); while (ad && ac.length) { for (var ab in I.filter) { if ((Y = I.match[ab].exec(ad)) != null) { var U = I.filter[ab], ah, af; T = false; if (aa == ai) { ai = [] } if (I.preFilter[ab]) { Y = I.preFilter[ab](Y, aa, ag, ai, W, Z); if (!Y) { T = ah = true } else { if (Y === true) { continue } } } if (Y) { for (var X = 0; (af = aa[X]) != null; X++) { if (af) { ah = U(af, Y, X, aa); var ae = W ^ !!ah; if (ag && ah != null) { if (ae) { T = true } else { aa[X] = false } } else { if (ae) { ai.push(af); T = true } } } } } if (ah !== g) { if (!ag) { aa = ai } ad = ad.replace(I.match[ab], ""); if (!T) { return [] } break } } } if (ad == V) { if (T == null) { throw "Syntax error, unrecognized expression: " + ad } else { break } } V = ad } return aa }; var I = F.selectors = { order: ["ID", "NAME", "TAG"], match: { ID: /#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/, CLASS: /\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/, NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/, ATTR: /\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/, TAG: /^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/, CHILD: /:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/, POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/, PSEUDO: /:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/ }, attrMap: { "class": "className", "for": "htmlFor" }, attrHandle: { href: function(T) { return T.getAttribute("href") } }, relative: { "+": function(aa, T, Z) { var X = typeof T === "string", ab = X && !/\W/.test(T), Y = X && !ab; if (ab && !Z) { T = T.toUpperCase() } for (var W = 0, V = aa.length, U; W < V; W++) { if ((U = aa[W])) { while ((U = U.previousSibling) && U.nodeType !== 1) { } aa[W] = Y || U && U.nodeName === T ? U || false : U === T } } if (Y) { F.filter(T, aa, true) } }, ">": function(Z, U, aa) { var X = typeof U === "string"; if (X && !/\W/.test(U)) { U = aa ? U : U.toUpperCase(); for (var V = 0, T = Z.length; V < T; V++) { var Y = Z[V]; if (Y) { var W = Y.parentNode; Z[V] = W.nodeName === U ? W : false } } } else { for (var V = 0, T = Z.length; V < T; V++) { var Y = Z[V]; if (Y) { Z[V] = X ? Y.parentNode : Y.parentNode === U } } if (X) { F.filter(U, Z, true) } } }, "": function(W, U, Y) { var V = L++, T = S; if (!U.match(/\W/)) { var X = U = Y ? U : U.toUpperCase(); T = P } T("parentNode", U, V, W, X, Y) }, "~": function(W, U, Y) { var V = L++, T = S; if (typeof U === "string" && !U.match(/\W/)) { var X = U = Y ? U : U.toUpperCase(); T = P } T("previousSibling", U, V, W, X, Y) } }, find: { ID: function(U, V, W) { if (typeof V.getElementById !== "undefined" && !W) { var T = V.getElementById(U[1]); return T ? [T] : [] } }, NAME: function(V, Y, Z) { if (typeof Y.getElementsByName !== "undefined") { var U = [], X = Y.getElementsByName(V[1]); for (var W = 0, T = X.length; W < T; W++) { if (X[W].getAttribute("name") === V[1]) { U.push(X[W]) } } return U.length === 0 ? null : U } }, TAG: function(T, U) { return U.getElementsByTagName(T[1]) } }, preFilter: { CLASS: function(W, U, V, T, Z, aa) { W = " " + W[1].replace(/\\/g, "") + " "; if (aa) { return W } for (var X = 0, Y; (Y = U[X]) != null; X++) { if (Y) { if (Z ^ (Y.className && (" " + Y.className + " ").indexOf(W) >= 0)) { if (!V) { T.push(Y) } } else { if (V) { U[X] = false } } } } return false }, ID: function(T) { return T[1].replace(/\\/g, "") }, TAG: function(U, T) { for (var V = 0; T[V] === false; V++) { } return T[V] && Q(T[V]) ? U[1] : U[1].toUpperCase() }, CHILD: function(T) { if (T[1] == "nth") { var U = /(-?)(\d*)n((?:\+|-)?\d*)/.exec(T[2] == "even" && "2n" || T[2] == "odd" && "2n+1" || !/\D/.test(T[2]) && "0n+" + T[2] || T[2]); T[2] = (U[1] + (U[2] || 1)) - 0; T[3] = U[3] - 0 } T[0] = L++; return T }, ATTR: function(X, U, V, T, Y, Z) { var W = X[1].replace(/\\/g, ""); if (!Z && I.attrMap[W]) { X[1] = I.attrMap[W] } if (X[2] === "~=") { X[4] = " " + X[4] + " " } return X }, PSEUDO: function(X, U, V, T, Y) { if (X[1] === "not") { if (X[3].match(R).length > 1 || /^\w/.test(X[3])) { X[3] = F(X[3], null, null, U) } else { var W = F.filter(X[3], U, V, true ^ Y); if (!V) { T.push.apply(T, W) } return false } } else { if (I.match.POS.test(X[0]) || I.match.CHILD.test(X[0])) { return true } } return X }, POS: function(T) { T.unshift(true); return T } }, filters: { enabled: function(T) { return T.disabled === false && T.type !== "hidden" }, disabled: function(T) { return T.disabled === true }, checked: function(T) { return T.checked === true }, selected: function(T) { T.parentNode.selectedIndex; return T.selected === true }, parent: function(T) { return !!T.firstChild }, empty: function(T) { return !T.firstChild }, has: function(V, U, T) { return !!F(T[3], V).length }, header: function(T) { return /h\d/i.test(T.nodeName) }, text: function(T) { return "text" === T.type }, radio: function(T) { return "radio" === T.type }, checkbox: function(T) { return "checkbox" === T.type }, file: function(T) { return "file" === T.type }, password: function(T) { return "password" === T.type }, submit: function(T) { return "submit" === T.type }, image: function(T) { return "image" === T.type }, reset: function(T) { return "reset" === T.type }, button: function(T) { return "button" === T.type || T.nodeName.toUpperCase() === "BUTTON" }, input: function(T) { return /input|select|textarea|button/i.test(T.nodeName) } }, setFilters: { first: function(U, T) { return T === 0 }, last: function(V, U, T, W) { return U === W.length - 1 }, even: function(U, T) { return T % 2 === 0 }, odd: function(U, T) { return T % 2 === 1 }, lt: function(V, U, T) { return U < T[3] - 0 }, gt: function(V, U, T) { return U > T[3] - 0 }, nth: function(V, U, T) { return T[3] - 0 == U }, eq: function(V, U, T) { return T[3] - 0 == U } }, filter: { PSEUDO: function(Z, V, W, aa) { var U = V[1], X = I.filters[U]; if (X) { return X(Z, W, V, aa) } else { if (U === "contains") { return (Z.textContent || Z.innerText || "").indexOf(V[3]) >= 0 } else { if (U === "not") { var Y = V[3]; for (var W = 0, T = Y.length; W < T; W++) { if (Y[W] === Z) { return false } } return true } } } }, CHILD: function(T, W) { var Z = W[1], U = T; switch (Z) { case "only": case "first": while (U = U.previousSibling) { if (U.nodeType === 1) { return false } } if (Z == "first") { return true } U = T; case "last": while (U = U.nextSibling) { if (U.nodeType === 1) { return false } } return true; case "nth": var V = W[2], ac = W[3]; if (V == 1 && ac == 0) { return true } var Y = W[0], ab = T.parentNode; if (ab && (ab.sizcache !== Y || !T.nodeIndex)) { var X = 0; for (U = ab.firstChild; U; U = U.nextSibling) { if (U.nodeType === 1) { U.nodeIndex = ++X } } ab.sizcache = Y } var aa = T.nodeIndex - ac; if (V == 0) { return aa == 0 } else { return (aa % V == 0 && aa / V >= 0) } } }, ID: function(U, T) { return U.nodeType === 1 && U.getAttribute("id") === T }, TAG: function(U, T) { return (T === "*" && U.nodeType === 1) || U.nodeName === T }, CLASS: function(U, T) { return (" " + (U.className || U.getAttribute("class")) + " ").indexOf(T) > -1 }, ATTR: function(Y, W) { var V = W[1], T = I.attrHandle[V] ? I.attrHandle[V](Y) : Y[V] != null ? Y[V] : Y.getAttribute(V), Z = T + "", X = W[2], U = W[4]; return T == null ? X === "!=" : X === "=" ? Z === U : X === "*=" ? Z.indexOf(U) >= 0 : X === "~=" ? (" " + Z + " ").indexOf(U) >= 0 : !U ? Z && T !== false : X === "!=" ? Z != U : X === "^=" ? Z.indexOf(U) === 0 : X === "$=" ? Z.substr(Z.length - U.length) === U : X === "|=" ? Z === U || Z.substr(0, U.length + 1) === U + "-" : false }, POS: function(X, U, V, Y) { var T = U[2], W = I.setFilters[T]; if (W) { return W(X, V, U, Y) } } } }; var M = I.match.POS; for (var O in I.match) { I.match[O] = RegExp(I.match[O].source + /(?![^\[]*\])(?![^\(]*\))/.source) } var E = function(U, T) { U = Array.prototype.slice.call(U); if (T) { T.push.apply(T, U); return T } return U }; try { Array.prototype.slice.call(document.documentElement.childNodes) } catch (N) { E = function(X, W) { var U = W || []; if (H.call(X) === "[object Array]") { Array.prototype.push.apply(U, X) } else { if (typeof X.length === "number") { for (var V = 0, T = X.length; V < T; V++) { U.push(X[V]) } } else { for (var V = 0; X[V]; V++) { U.push(X[V]) } } } return U } } var G; if (document.documentElement.compareDocumentPosition) { G = function(U, T) { var V = U.compareDocumentPosition(T) & 4 ? -1 : U === T ? 0 : 1; if (V === 0) { hasDuplicate = true } return V } } else { if ("sourceIndex" in document.documentElement) { G = function(U, T) { var V = U.sourceIndex - T.sourceIndex; if (V === 0) { hasDuplicate = true } return V } } else { if (document.createRange) { G = function(W, U) { var V = W.ownerDocument.createRange(), T = U.ownerDocument.createRange(); V.selectNode(W); V.collapse(true); T.selectNode(U); T.collapse(true); var X = V.compareBoundaryPoints(Range.START_TO_END, T); if (X === 0) { hasDuplicate = true } return X } } } } (function() { var U = document.createElement("form"), V = "script" + (new Date).getTime(); U.innerHTML = "<input name='" + V + "'/>"; var T = document.documentElement; T.insertBefore(U, T.firstChild); if (!!document.getElementById(V)) { I.find.ID = function(X, Y, Z) { if (typeof Y.getElementById !== "undefined" && !Z) { var W = Y.getElementById(X[1]); return W ? W.id === X[1] || typeof W.getAttributeNode !== "undefined" && W.getAttributeNode("id").nodeValue === X[1] ? [W] : g : [] } }; I.filter.ID = function(Y, W) { var X = typeof Y.getAttributeNode !== "undefined" && Y.getAttributeNode("id"); return Y.nodeType === 1 && X && X.nodeValue === W } } T.removeChild(U) })(); (function() { var T = document.createElement("div"); T.appendChild(document.createComment("")); if (T.getElementsByTagName("*").length > 0) { I.find.TAG = function(U, Y) { var X = Y.getElementsByTagName(U[1]); if (U[1] === "*") { var W = []; for (var V = 0; X[V]; V++) { if (X[V].nodeType === 1) { W.push(X[V]) } } X = W } return X } } T.innerHTML = "<a href='#'></a>"; if (T.firstChild && typeof T.firstChild.getAttribute !== "undefined" && T.firstChild.getAttribute("href") !== "#") { I.attrHandle.href = function(U) { return U.getAttribute("href", 2) } } })(); if (document.querySelectorAll) { (function() { var T = F, U = document.createElement("div"); U.innerHTML = "<p class='TEST'></p>"; if (U.querySelectorAll && U.querySelectorAll(".TEST").length === 0) { return } F = function(Y, X, V, W) { X = X || document; if (!W && X.nodeType === 9 && !Q(X)) { try { return E(X.querySelectorAll(Y), V) } catch (Z) { } } return T(Y, X, V, W) }; F.find = T.find; F.filter = T.filter; F.selectors = T.selectors; F.matches = T.matches })() } if (document.getElementsByClassName && document.documentElement.getElementsByClassName) { (function() { var T = document.createElement("div"); T.innerHTML = "<div class='test e'></div><div class='test'></div>"; if (T.getElementsByClassName("e").length === 0) { return } T.lastChild.className = "e"; if (T.getElementsByClassName("e").length === 1) { return } I.order.splice(1, 0, "CLASS"); I.find.CLASS = function(U, V, W) { if (typeof V.getElementsByClassName !== "undefined" && !W) { return V.getElementsByClassName(U[1]) } } })() } function P(U, Z, Y, ad, aa, ac) { var ab = U == "previousSibling" && !ac; for (var W = 0, V = ad.length; W < V; W++) { var T = ad[W]; if (T) { if (ab && T.nodeType === 1) { T.sizcache = Y; T.sizset = W } T = T[U]; var X = false; while (T) { if (T.sizcache === Y) { X = ad[T.sizset]; break } if (T.nodeType === 1 && !ac) { T.sizcache = Y; T.sizset = W } if (T.nodeName === Z) { X = T; break } T = T[U] } ad[W] = X } } } function S(U, Z, Y, ad, aa, ac) { var ab = U == "previousSibling" && !ac; for (var W = 0, V = ad.length; W < V; W++) { var T = ad[W]; if (T) { if (ab && T.nodeType === 1) { T.sizcache = Y; T.sizset = W } T = T[U]; var X = false; while (T) { if (T.sizcache === Y) { X = ad[T.sizset]; break } if (T.nodeType === 1) { if (!ac) { T.sizcache = Y; T.sizset = W } if (typeof Z !== "string") { if (T === Z) { X = true; break } } else { if (F.filter(Z, [T]).length > 0) { X = T; break } } } T = T[U] } ad[W] = X } } } var K = document.compareDocumentPosition ? function(U, T) { return U.compareDocumentPosition(T) & 16 } : function(U, T) { return U !== T && (U.contains ? U.contains(T) : true) }; var Q = function(T) { return T.nodeType === 9 && T.documentElement.nodeName !== "HTML" || !!T.ownerDocument && Q(T.ownerDocument) }; var J = function(T, aa) { var W = [], X = "", Y, V = aa.nodeType ? [aa] : aa; while ((Y = I.match.PSEUDO.exec(T))) { X += Y[0]; T = T.replace(I.match.PSEUDO, "") } T = I.relative[T] ? T + "*" : T; for (var Z = 0, U = V.length; Z < U; Z++) { F(T, V[Z], W) } return F.filter(X, W) }; o.find = F; o.filter = F.filter; o.expr = F.selectors; o.expr[":"] = o.expr.filters; F.selectors.filters.hidden = function(T) { return T.offsetWidth === 0 || T.offsetHeight === 0 }; F.selectors.filters.visible = function(T) { return T.offsetWidth > 0 || T.offsetHeight > 0 }; F.selectors.filters.animated = function(T) { return o.grep(o.timers, function(U) { return T === U.elem }).length }; o.multiFilter = function(V, T, U) { if (U) { V = ":not(" + V + ")" } return F.matches(V, T) }; o.dir = function(V, U) { var T = [], W = V[U]; while (W && W != document) { if (W.nodeType == 1) { T.push(W) } W = W[U] } return T }; o.nth = function(X, T, V, W) { T = T || 1; var U = 0; for (; X; X = X[V]) { if (X.nodeType == 1 && ++U == T) { break } } return X }; o.sibling = function(V, U) { var T = []; for (; V; V = V.nextSibling) { if (V.nodeType == 1 && V != U) { T.push(V) } } return T }; return; l.Sizzle = F })(); o.event = { add: function(I, F, H, K) { if (I.nodeType == 3 || I.nodeType == 8) { return } if (I.setInterval && I != l) { I = l } if (!H.guid) { H.guid = this.guid++ } if (K !== g) { var G = H; H = this.proxy(G); H.data = K } var E = o.data(I, "events") || o.data(I, "events", {}), J = o.data(I, "handle") || o.data(I, "handle", function() { return typeof o !== "undefined" && !o.event.triggered ? o.event.handle.apply(arguments.callee.elem, arguments) : g }); J.elem = I; o.each(F.split(/\s+/), function(M, N) { var O = N.split("."); N = O.shift(); H.type = O.slice().sort().join("."); var L = E[N]; if (o.event.specialAll[N]) { o.event.specialAll[N].setup.call(I, K, O) } if (!L) { L = E[N] = {}; if (!o.event.special[N] || o.event.special[N].setup.call(I, K, O) === false) { if (I.addEventListener) { I.addEventListener(N, J, false) } else { if (I.attachEvent) { I.attachEvent("on" + N, J) } } } } L[H.guid] = H; o.event.global[N] = true }); I = null }, guid: 1, global: {}, remove: function(K, H, J) { if (K.nodeType == 3 || K.nodeType == 8) { return } var G = o.data(K, "events"), F, E; if (G) { if (H === g || (typeof H === "string" && H.charAt(0) == ".")) { for (var I in G) { this.remove(K, I + (H || "")) } } else { if (H.type) { J = H.handler; H = H.type } o.each(H.split(/\s+/), function(M, O) { var Q = O.split("."); O = Q.shift(); var N = RegExp("(^|\\.)" + Q.slice().sort().join(".*\\.") + "(\\.|$)"); if (G[O]) { if (J) { delete G[O][J.guid] } else { for (var P in G[O]) { if (N.test(G[O][P].type)) { delete G[O][P] } } } if (o.event.specialAll[O]) { o.event.specialAll[O].teardown.call(K, Q) } for (F in G[O]) { break } if (!F) { if (!o.event.special[O] || o.event.special[O].teardown.call(K, Q) === false) { if (K.removeEventListener) { K.removeEventListener(O, o.data(K, "handle"), false) } else { if (K.detachEvent) { K.detachEvent("on" + O, o.data(K, "handle")) } } } F = null; delete G[O] } } }) } for (F in G) { break } if (!F) { var L = o.data(K, "handle"); if (L) { L.elem = null } o.removeData(K, "events"); o.removeData(K, "handle") } } }, trigger: function(I, K, H, E) { var G = I.type || I; if (!E) { I = typeof I === "object" ? I[h] ? I : o.extend(o.Event(G), I) : o.Event(G); if (G.indexOf("!") >= 0) { I.type = G = G.slice(0, -1); I.exclusive = true } if (!H) { I.stopPropagation(); if (this.global[G]) { o.each(o.cache, function() { if (this.events && this.events[G]) { o.event.trigger(I, K, this.handle.elem) } }) } } if (!H || H.nodeType == 3 || H.nodeType == 8) { return g } I.result = g; I.target = H; K = o.makeArray(K); K.unshift(I) } I.currentTarget = H; var J = o.data(H, "handle"); if (J) { J.apply(H, K) } if ((!H[G] || (o.nodeName(H, "a") && G == "click")) && H["on" + G] && H["on" + G].apply(H, K) === false) { I.result = false } if (!E && H[G] && !I.isDefaultPrevented() && !(o.nodeName(H, "a") && G == "click")) { this.triggered = true; try { H[G]() } catch (L) { } } this.triggered = false; if (!I.isPropagationStopped()) { var F = H.parentNode || H.ownerDocument; if (F) { o.event.trigger(I, K, F, true) } } }, handle: function(K) { var J, E; K = arguments[0] = o.event.fix(K || l.event); K.currentTarget = this; var L = K.type.split("."); K.type = L.shift(); J = !L.length && !K.exclusive; var I = RegExp("(^|\\.)" + L.slice().sort().join(".*\\.") + "(\\.|$)"); E = (o.data(this, "events") || {})[K.type]; for (var G in E) { var H = E[G]; if (J || I.test(H.type)) { K.handler = H; K.data = H.data; var F = H.apply(this, arguments); if (F !== g) { K.result = F; if (F === false) { K.preventDefault(); K.stopPropagation() } } if (K.isImmediatePropagationStopped()) { break } } } }, props: "altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "), fix: function(H) { if (H[h]) { return H } var F = H; H = o.Event(F); for (var G = this.props.length, J; G; ) { J = this.props[--G]; H[J] = F[J] } if (!H.target) { H.target = H.srcElement || document } if (H.target.nodeType == 3) { H.target = H.target.parentNode } if (!H.relatedTarget && H.fromElement) { H.relatedTarget = H.fromElement == H.target ? H.toElement : H.fromElement } if (H.pageX == null && H.clientX != null) { var I = document.documentElement, E = document.body; H.pageX = H.clientX + (I && I.scrollLeft || E && E.scrollLeft || 0) - (I.clientLeft || 0); H.pageY = H.clientY + (I && I.scrollTop || E && E.scrollTop || 0) - (I.clientTop || 0) } if (!H.which && ((H.charCode || H.charCode === 0) ? H.charCode : H.keyCode)) { H.which = H.charCode || H.keyCode } if (!H.metaKey && H.ctrlKey) { H.metaKey = H.ctrlKey } if (!H.which && H.button) { H.which = (H.button & 1 ? 1 : (H.button & 2 ? 3 : (H.button & 4 ? 2 : 0))) } return H }, proxy: function(F, E) { E = E || function() { return F.apply(this, arguments) }; E.guid = F.guid = F.guid || E.guid || this.guid++; return E }, special: { ready: { setup: B, teardown: function() { } } }, specialAll: { live: { setup: function(E, F) { o.event.add(this, F[0], c) }, teardown: function(G) { if (G.length) { var E = 0, F = RegExp("(^|\\.)" + G[0] + "(\\.|$)"); o.each((o.data(this, "events").live || {}), function() { if (F.test(this.type)) { E++ } }); if (E < 1) { o.event.remove(this, G[0], c) } } } }} }; o.Event = function(E) { if (!this.preventDefault) { return new o.Event(E) } if (E && E.type) { this.originalEvent = E; this.type = E.type } else { this.type = E } this.timeStamp = e(); this[h] = true }; function k() { return false } function u() { return true } o.Event.prototype = { preventDefault: function() { this.isDefaultPrevented = u; var E = this.originalEvent; if (!E) { return } if (E.preventDefault) { E.preventDefault() } E.returnValue = false }, stopPropagation: function() { this.isPropagationStopped = u; var E = this.originalEvent; if (!E) { return } if (E.stopPropagation) { E.stopPropagation() } E.cancelBubble = true }, stopImmediatePropagation: function() { this.isImmediatePropagationStopped = u; this.stopPropagation() }, isDefaultPrevented: k, isPropagationStopped: k, isImmediatePropagationStopped: k }; var a = function(F) { var E = F.relatedTarget; while (E && E != this) { try { E = E.parentNode } catch (G) { E = this } } if (E != this) { F.type = F.data; o.event.handle.apply(this, arguments) } }; o.each({ mouseover: "mouseenter", mouseout: "mouseleave" }, function(F, E) { o.event.special[E] = { setup: function() { o.event.add(this, F, a, E) }, teardown: function() { o.event.remove(this, F, a) } } }); o.fn.extend({ bind: function(F, G, E) { return F == "unload" ? this.one(F, G, E) : this.each(function() { o.event.add(this, F, E || G, E && G) }) }, one: function(G, H, F) { var E = o.event.proxy(F || H, function(I) { o(this).unbind(I, E); return (F || H).apply(this, arguments) }); return this.each(function() { o.event.add(this, G, E, F && H) }) }, unbind: function(F, E) { return this.each(function() { o.event.remove(this, F, E) }) }, trigger: function(E, F) { return this.each(function() { o.event.trigger(E, F, this) }) }, triggerHandler: function(E, G) { if (this[0]) { var F = o.Event(E); F.preventDefault(); F.stopPropagation(); o.event.trigger(F, G, this[0]); return F.result } }, toggle: function(G) { var E = arguments, F = 1; while (F < E.length) { o.event.proxy(G, E[F++]) } return this.click(o.event.proxy(G, function(H) { this.lastToggle = (this.lastToggle || 0) % F; H.preventDefault(); return E[this.lastToggle++].apply(this, arguments) || false })) }, hover: function(E, F) { return this.mouseenter(E).mouseleave(F) }, ready: function(E) { B(); if (o.isReady) { E.call(document, o) } else { o.readyList.push(E) } return this }, live: function(G, F) { var E = o.event.proxy(F); E.guid += this.selector + G; o(document).bind(i(G, this.selector), this.selector, E); return this }, die: function(F, E) { o(document).unbind(i(F, this.selector), E ? { guid: E.guid + this.selector + F} : null); return this } }); function c(H) { var E = RegExp("(^|\\.)" + H.type + "(\\.|$)"), G = true, F = []; o.each(o.data(this, "events").live || [], function(I, J) { if (E.test(J.type)) { var K = o(H.target).closest(J.data)[0]; if (K) { F.push({ elem: K, fn: J }) } } }); F.sort(function(J, I) { return o.data(J.elem, "closest") - o.data(I.elem, "closest") }); o.each(F, function() { if (this.fn.call(this.elem, H, this.fn.data) === false) { return (G = false) } }); return G } function i(F, E) { return ["live", F, E.replace(/\./g, "`").replace(/ /g, "|")].join(".") } o.extend({ isReady: false, readyList: [], ready: function() { if (!o.isReady) { o.isReady = true; if (o.readyList) { o.each(o.readyList, function() { this.call(document, o) }); o.readyList = null } o(document).triggerHandler("ready") } } }); var x = false; function B() { if (x) { return } x = true; if (document.addEventListener) { document.addEventListener("DOMContentLoaded", function() { document.removeEventListener("DOMContentLoaded", arguments.callee, false); o.ready() }, false) } else { if (document.attachEvent) { document.attachEvent("onreadystatechange", function() { if (document.readyState === "complete") { document.detachEvent("onreadystatechange", arguments.callee); o.ready() } }); if (document.documentElement.doScroll && l == l.top) { (function() { if (o.isReady) { return } try { document.documentElement.doScroll("left") } catch (E) { setTimeout(arguments.callee, 0); return } o.ready() })() } } } o.event.add(l, "load", o.ready) } o.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error").split(","), function(F, E) { o.fn[E] = function(G) { return G ? this.bind(E, G) : this.trigger(E) } }); o(l).bind("unload", function() { for (var E in o.cache) { if (E != 1 && o.cache[E].handle) { o.event.remove(o.cache[E].handle.elem) } } }); (function() { o.support = {}; var F = document.documentElement, G = document.createElement("script"), K = document.createElement("div"), J = "script" + (new Date).getTime(); K.style.display = "none"; K.innerHTML = '  <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>'; var H = K.getElementsByTagName("*"), E = K.getElementsByTagName("a")[0]; if (!H || !H.length || !E) { return } o.support = { leadingWhitespace: K.firstChild.nodeType == 3, tbody: !K.getElementsByTagName("tbody").length, objectAll: !!K.getElementsByTagName("object")[0].getElementsByTagName("*").length, htmlSerialize: !!K.getElementsByTagName("link").length, style: /red/.test(E.getAttribute("style")), hrefNormalized: E.getAttribute("href") === "/a", opacity: E.style.opacity === "0.5", cssFloat: !!E.style.cssFloat, scriptEval: false, noCloneEvent: true, boxModel: null }; G.type = "text/javascript"; try { G.appendChild(document.createTextNode("window." + J + "=1;")) } catch (I) { } F.insertBefore(G, F.firstChild); if (l[J]) { o.support.scriptEval = true; delete l[J] } F.removeChild(G); if (K.attachEvent && K.fireEvent) { K.attachEvent("onclick", function() { o.support.noCloneEvent = false; K.detachEvent("onclick", arguments.callee) }); K.cloneNode(true).fireEvent("onclick") } o(function() { var L = document.createElement("div"); L.style.width = L.style.paddingLeft = "1px"; document.body.appendChild(L); o.boxModel = o.support.boxModel = L.offsetWidth === 2; document.body.removeChild(L).style.display = "none" }) })(); var w = o.support.cssFloat ? "cssFloat" : "styleFloat"; o.props = { "for": "htmlFor", "class": "className", "float": w, cssFloat: w, styleFloat: w, readonly: "readOnly", maxlength: "maxLength", cellspacing: "cellSpacing", rowspan: "rowSpan", tabindex: "tabIndex" }; o.fn.extend({ _load: o.fn.load, load: function(G, J, K) { if (typeof G !== "string") { return this._load(G) } var I = G.indexOf(" "); if (I >= 0) { var E = G.slice(I, G.length); G = G.slice(0, I) } var H = "GET"; if (J) { if (o.isFunction(J)) { K = J; J = null } else { if (typeof J === "object") { J = o.param(J); H = "POST" } } } var F = this; o.ajax({ url: G, type: H, dataType: "html", data: J, complete: function(M, L) { if (L == "success" || L == "notmodified") { F.html(E ? o("<div/>").append(M.responseText.replace(/<script(.|\s)*?\/script>/g, "")).find(E) : M.responseText) } if (K) { F.each(K, [M.responseText, L, M]) } } }); return this }, serialize: function() { return o.param(this.serializeArray()) }, serializeArray: function() { return this.map(function() { return this.elements ? o.makeArray(this.elements) : this }).filter(function() { return this.name && !this.disabled && (this.checked || /select|textarea/i.test(this.nodeName) || /text|hidden|password|search/i.test(this.type)) }).map(function(E, F) { var G = o(this).val(); return G == null ? null : o.isArray(G) ? o.map(G, function(I, H) { return { name: F.name, value: I} }) : { name: F.name, value: G} }).get() } }); o.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","), function(E, F) { o.fn[F] = function(G) { return this.bind(F, G) } }); var r = e(); o.extend({ get: function(E, G, H, F) { if (o.isFunction(G)) { H = G; G = null } return o.ajax({ type: "GET", url: E, data: G, success: H, dataType: F }) }, getScript: function(E, F) { return o.get(E, null, F, "script") }, getJSON: function(E, F, G) { return o.get(E, F, G, "json") }, post: function(E, G, H, F) { if (o.isFunction(G)) { H = G; G = {} } return o.ajax({ type: "POST", url: E, data: G, success: H, dataType: F }) }, ajaxSetup: function(E) { o.extend(o.ajaxSettings, E) }, ajaxSettings: { url: location.href, global: true, type: "GET", contentType: "application/x-www-form-urlencoded", processData: true, async: true, xhr: function() { return l.ActiveXObject ? new ActiveXObject("Microsoft.XMLHTTP") : new XMLHttpRequest() }, accepts: { xml: "application/xml, text/xml", html: "text/html", script: "text/javascript, application/javascript", json: "application/json, text/javascript", text: "text/plain", _default: "*/*"} }, lastModified: {}, ajax: function(M) { M = o.extend(true, M, o.extend(true, {}, o.ajaxSettings, M)); var W, F = /=\?(&|$)/g, R, V, G = M.type.toUpperCase(); if (M.data && M.processData && typeof M.data !== "string") { M.data = o.param(M.data) } if (M.dataType == "jsonp") { if (G == "GET") { if (!M.url.match(F)) { M.url += (M.url.match(/\?/) ? "&" : "?") + (M.jsonp || "callback") + "=?" } } else { if (!M.data || !M.data.match(F)) { M.data = (M.data ? M.data + "&" : "") + (M.jsonp || "callback") + "=?" } } M.dataType = "json" } if (M.dataType == "json" && (M.data && M.data.match(F) || M.url.match(F))) { W = "jsonp" + r++; if (M.data) { M.data = (M.data + "").replace(F, "=" + W + "$1") } M.url = M.url.replace(F, "=" + W + "$1"); M.dataType = "script"; l[W] = function(X) { V = X; I(); L(); l[W] = g; try { delete l[W] } catch (Y) { } if (H) { H.removeChild(T) } } } if (M.dataType == "script" && M.cache == null) { M.cache = false } if (M.cache === false && G == "GET") { var E = e(); var U = M.url.replace(/(\?|&)_=.*?(&|$)/, "$1_=" + E + "$2"); M.url = U + ((U == M.url) ? (M.url.match(/\?/) ? "&" : "?") + "_=" + E : "") } if (M.data && G == "GET") { M.url += (M.url.match(/\?/) ? "&" : "?") + M.data; M.data = null } if (M.global && !o.active++) { o.event.trigger("ajaxStart") } var Q = /^(\w+:)?\/\/([^\/?#]+)/.exec(M.url); if (M.dataType == "script" && G == "GET" && Q && (Q[1] && Q[1] != location.protocol || Q[2] != location.host)) { var H = document.getElementsByTagName("head")[0]; var T = document.createElement("script"); T.src = M.url; if (M.scriptCharset) { T.charset = M.scriptCharset } if (!W) { var O = false; T.onload = T.onreadystatechange = function() { if (!O && (!this.readyState || this.readyState == "loaded" || this.readyState == "complete")) { O = true; I(); L(); T.onload = T.onreadystatechange = null; H.removeChild(T) } } } H.appendChild(T); return g } var K = false; var J = M.xhr(); if (M.username) { J.open(G, M.url, M.async, M.username, M.password) } else { J.open(G, M.url, M.async) } try { if (M.data) { J.setRequestHeader("Content-Type", M.contentType) } if (M.ifModified) { J.setRequestHeader("If-Modified-Since", o.lastModified[M.url] || "Thu, 01 Jan 1970 00:00:00 GMT") } J.setRequestHeader("X-Requested-With", "XMLHttpRequest"); J.setRequestHeader("Accept", M.dataType && M.accepts[M.dataType] ? M.accepts[M.dataType] + ", */*" : M.accepts._default) } catch (S) { } if (M.beforeSend && M.beforeSend(J, M) === false) { if (M.global && ! --o.active) { o.event.trigger("ajaxStop") } J.abort(); return false } if (M.global) { o.event.trigger("ajaxSend", [J, M]) } var N = function(X) { if (J.readyState == 0) { if (P) { clearInterval(P); P = null; if (M.global && ! --o.active) { o.event.trigger("ajaxStop") } } } else { if (!K && J && (J.readyState == 4 || X == "timeout")) { K = true; if (P) { clearInterval(P); P = null } R = X == "timeout" ? "timeout" : !o.httpSuccess(J) ? "error" : M.ifModified && o.httpNotModified(J, M.url) ? "notmodified" : "success"; if (R == "success") { try { V = o.httpData(J, M.dataType, M) } catch (Z) { R = "parsererror" } } if (R == "success") { var Y; try { Y = J.getResponseHeader("Last-Modified") } catch (Z) { } if (M.ifModified && Y) { o.lastModified[M.url] = Y } if (!W) { I() } } else { o.handleError(M, J, R) } L(); if (X) { J.abort() } if (M.async) { J = null } } } }; if (M.async) { var P = setInterval(N, 13); if (M.timeout > 0) { setTimeout(function() { if (J && !K) { N("timeout") } }, M.timeout) } } try { J.send(M.data) } catch (S) { o.handleError(M, J, null, S) } if (!M.async) { N() } function I() { if (M.success) { M.success(V, R) } if (M.global) { o.event.trigger("ajaxSuccess", [J, M]) } } function L() { if (M.complete) { M.complete(J, R) } if (M.global) { o.event.trigger("ajaxComplete", [J, M]) } if (M.global && ! --o.active) { o.event.trigger("ajaxStop") } } return J }, handleError: function(F, H, E, G) { if (F.error) { F.error(H, E, G) } if (F.global) { o.event.trigger("ajaxError", [H, F, G]) } }, active: 0, httpSuccess: function(F) { try { return !F.status && location.protocol == "file:" || (F.status >= 200 && F.status < 300) || F.status == 304 || F.status == 1223 } catch (E) { } return false }, httpNotModified: function(G, E) { try { var H = G.getResponseHeader("Last-Modified"); return G.status == 304 || H == o.lastModified[E] } catch (F) { } return false }, httpData: function(J, H, G) { var F = J.getResponseHeader("content-type"), E = H == "xml" || !H && F && F.indexOf("xml") >= 0, I = E ? J.responseXML : J.responseText; if (E && I.documentElement.tagName == "parsererror") { throw "parsererror" } if (G && G.dataFilter) { I = G.dataFilter(I, H) } if (typeof I === "string") { if (H == "script") { o.globalEval(I) } if (H == "json") { I = l["eval"]("(" + I + ")") } } return I }, param: function(E) { var G = []; function H(I, J) { G[G.length] = encodeURIComponent(I) + "=" + encodeURIComponent(J) } if (o.isArray(E) || E.jquery) { o.each(E, function() { H(this.name, this.value) }) } else { for (var F in E) { if (o.isArray(E[F])) { o.each(E[F], function() { H(F, this) }) } else { H(F, o.isFunction(E[F]) ? E[F]() : E[F]) } } } return G.join("&").replace(/%20/g, "+") } }); var m = {}, n, d = [["height", "marginTop", "marginBottom", "paddingTop", "paddingBottom"], ["width", "marginLeft", "marginRight", "paddingLeft", "paddingRight"], ["opacity"]]; function t(F, E) { var G = {}; o.each(d.concat.apply([], d.slice(0, E)), function() { G[this] = F }); return G } o.fn.extend({ show: function(J, L) { if (J) { return this.animate(t("show", 3), J, L) } else { for (var H = 0, F = this.length; H < F; H++) { var E = o.data(this[H], "olddisplay"); this[H].style.display = E || ""; if (o.css(this[H], "display") === "none") { var G = this[H].tagName, K; if (m[G]) { K = m[G] } else { var I = o("<" + G + " />").appendTo("body"); K = I.css("display"); if (K === "none") { K = "block" } I.remove(); m[G] = K } o.data(this[H], "olddisplay", K) } } for (var H = 0, F = this.length; H < F; H++) { this[H].style.display = o.data(this[H], "olddisplay") || "" } return this } }, hide: function(H, I) { if (H) { return this.animate(t("hide", 3), H, I) } else { for (var G = 0, F = this.length; G < F; G++) { var E = o.data(this[G], "olddisplay"); if (!E && E !== "none") { o.data(this[G], "olddisplay", o.css(this[G], "display")) } } for (var G = 0, F = this.length; G < F; G++) { this[G].style.display = "none" } return this } }, _toggle: o.fn.toggle, toggle: function(G, F) { var E = typeof G === "boolean"; return o.isFunction(G) && o.isFunction(F) ? this._toggle.apply(this, arguments) : G == null || E ? this.each(function() { var H = E ? G : o(this).is(":hidden"); o(this)[H ? "show" : "hide"]() }) : this.animate(t("toggle", 3), G, F) }, fadeTo: function(E, G, F) { return this.animate({ opacity: G }, E, F) }, animate: function(I, F, H, G) { var E = o.speed(F, H, G); return this[E.queue === false ? "each" : "queue"](function() { var K = o.extend({}, E), M, L = this.nodeType == 1 && o(this).is(":hidden"), J = this; for (M in I) { if (I[M] == "hide" && L || I[M] == "show" && !L) { return K.complete.call(this) } if ((M == "height" || M == "width") && this.style) { K.display = o.css(this, "display"); K.overflow = this.style.overflow } } if (K.overflow != null) { this.style.overflow = "hidden" } K.curAnim = o.extend({}, I); o.each(I, function(O, S) { var R = new o.fx(J, K, O); if (/toggle|show|hide/.test(S)) { R[S == "toggle" ? L ? "show" : "hide" : S](I) } else { var Q = S.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/), T = R.cur(true) || 0; if (Q) { var N = parseFloat(Q[2]), P = Q[3] || "px"; if (P != "px") { J.style[O] = (N || 1) + P; T = ((N || 1) / R.cur(true)) * T; J.style[O] = T + P } if (Q[1]) { N = ((Q[1] == "-=" ? -1 : 1) * N) + T } R.custom(T, N, P) } else { R.custom(T, S, "") } } }); return true }) }, stop: function(F, E) { var G = o.timers; if (F) { this.queue([]) } this.each(function() { for (var H = G.length - 1; H >= 0; H--) { if (G[H].elem == this) { if (E) { G[H](true) } G.splice(H, 1) } } }); if (!E) { this.dequeue() } return this } }); o.each({ slideDown: t("show", 1), slideUp: t("hide", 1), slideToggle: t("toggle", 1), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide"} }, function(E, F) { o.fn[E] = function(G, H) { return this.animate(F, G, H) } }); o.extend({ speed: function(G, H, F) { var E = typeof G === "object" ? G : { complete: F || !F && H || o.isFunction(G) && G, duration: G, easing: F && H || H && !o.isFunction(H) && H }; E.duration = o.fx.off ? 0 : typeof E.duration === "number" ? E.duration : o.fx.speeds[E.duration] || o.fx.speeds._default; E.old = E.complete; E.complete = function() { if (E.queue !== false) { o(this).dequeue() } if (o.isFunction(E.old)) { E.old.call(this) } }; return E }, easing: { linear: function(G, H, E, F) { return E + F * G }, swing: function(G, H, E, F) { return ((-Math.cos(G * Math.PI) / 2) + 0.5) * F + E } }, timers: [], fx: function(F, E, G) { this.options = E; this.elem = F; this.prop = G; if (!E.orig) { E.orig = {} } } }); o.fx.prototype = { update: function() { if (this.options.step) { this.options.step.call(this.elem, this.now, this) } (o.fx.step[this.prop] || o.fx.step._default)(this); if ((this.prop == "height" || this.prop == "width") && this.elem.style) { this.elem.style.display = "block" } }, cur: function(F) { if (this.elem[this.prop] != null && (!this.elem.style || this.elem.style[this.prop] == null)) { return this.elem[this.prop] } var E = parseFloat(o.css(this.elem, this.prop, F)); return E && E > -10000 ? E : parseFloat(o.curCSS(this.elem, this.prop)) || 0 }, custom: function(I, H, G) { this.startTime = e(); this.start = I; this.end = H; this.unit = G || this.unit || "px"; this.now = this.start; this.pos = this.state = 0; var E = this; function F(J) { return E.step(J) } F.elem = this.elem; if (F() && o.timers.push(F) && !n) { n = setInterval(function() { var K = o.timers; for (var J = 0; J < K.length; J++) { if (!K[J]()) { K.splice(J--, 1) } } if (!K.length) { clearInterval(n); n = g } }, 13) } }, show: function() { this.options.orig[this.prop] = o.attr(this.elem.style, this.prop); this.options.show = true; this.custom(this.prop == "width" || this.prop == "height" ? 1 : 0, this.cur()); o(this.elem).show() }, hide: function() { this.options.orig[this.prop] = o.attr(this.elem.style, this.prop); this.options.hide = true; this.custom(this.cur(), 0) }, step: function(H) { var G = e(); if (H || G >= this.options.duration + this.startTime) { this.now = this.end; this.pos = this.state = 1; this.update(); this.options.curAnim[this.prop] = true; var E = true; for (var F in this.options.curAnim) { if (this.options.curAnim[F] !== true) { E = false } } if (E) { if (this.options.display != null) { this.elem.style.overflow = this.options.overflow; this.elem.style.display = this.options.display; if (o.css(this.elem, "display") == "none") { this.elem.style.display = "block" } } if (this.options.hide) { o(this.elem).hide() } if (this.options.hide || this.options.show) { for (var I in this.options.curAnim) { o.attr(this.elem.style, I, this.options.orig[I]) } } this.options.complete.call(this.elem) } return false } else { var J = G - this.startTime; this.state = J / this.options.duration; this.pos = o.easing[this.options.easing || (o.easing.swing ? "swing" : "linear")](this.state, J, 0, 1, this.options.duration); this.now = this.start + ((this.end - this.start) * this.pos); this.update() } return true } }; o.extend(o.fx, { speeds: { slow: 600, fast: 200, _default: 400 }, step: { opacity: function(E) { o.attr(E.elem.style, "opacity", E.now) }, _default: function(E) { if (E.elem.style && E.elem.style[E.prop] != null) { E.elem.style[E.prop] = E.now + E.unit } else { E.elem[E.prop] = E.now } } } }); if (document.documentElement.getBoundingClientRect) { o.fn.offset = function() { if (!this[0]) { return { top: 0, left: 0} } if (this[0] === this[0].ownerDocument.body) { return o.offset.bodyOffset(this[0]) } var G = this[0].getBoundingClientRect(), J = this[0].ownerDocument, F = J.body, E = J.documentElement, L = E.clientTop || F.clientTop || 0, K = E.clientLeft || F.clientLeft || 0, I = G.top + (self.pageYOffset || o.boxModel && E.scrollTop || F.scrollTop) - L, H = G.left + (self.pageXOffset || o.boxModel && E.scrollLeft || F.scrollLeft) - K; return { top: I, left: H} } } else { o.fn.offset = function() { if (!this[0]) { return { top: 0, left: 0} } if (this[0] === this[0].ownerDocument.body) { return o.offset.bodyOffset(this[0]) } o.offset.initialized || o.offset.initialize(); var J = this[0], G = J.offsetParent, F = J, O = J.ownerDocument, M, H = O.documentElement, K = O.body, L = O.defaultView, E = L.getComputedStyle(J, null), N = J.offsetTop, I = J.offsetLeft; while ((J = J.parentNode) && J !== K && J !== H) { M = L.getComputedStyle(J, null); N -= J.scrollTop, I -= J.scrollLeft; if (J === G) { N += J.offsetTop, I += J.offsetLeft; if (o.offset.doesNotAddBorder && !(o.offset.doesAddBorderForTableAndCells && /^t(able|d|h)$/i.test(J.tagName))) { N += parseInt(M.borderTopWidth, 10) || 0, I += parseInt(M.borderLeftWidth, 10) || 0 } F = G, G = J.offsetParent } if (o.offset.subtractsBorderForOverflowNotVisible && M.overflow !== "visible") { N += parseInt(M.borderTopWidth, 10) || 0, I += parseInt(M.borderLeftWidth, 10) || 0 } E = M } if (E.position === "relative" || E.position === "static") { N += K.offsetTop, I += K.offsetLeft } if (E.position === "fixed") { N += Math.max(H.scrollTop, K.scrollTop), I += Math.max(H.scrollLeft, K.scrollLeft) } return { top: N, left: I} } } o.offset = { initialize: function() { if (this.initialized) { return } var L = document.body, F = document.createElement("div"), H, G, N, I, M, E, J = L.style.marginTop, K = '<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>'; M = { position: "absolute", top: 0, left: 0, margin: 0, border: 0, width: "1px", height: "1px", visibility: "hidden" }; for (E in M) { F.style[E] = M[E] } F.innerHTML = K; L.insertBefore(F, L.firstChild); H = F.firstChild, G = H.firstChild, I = H.nextSibling.firstChild.firstChild; this.doesNotAddBorder = (G.offsetTop !== 5); this.doesAddBorderForTableAndCells = (I.offsetTop === 5); H.style.overflow = "hidden", H.style.position = "relative"; this.subtractsBorderForOverflowNotVisible = (G.offsetTop === -5); L.style.marginTop = "1px"; this.doesNotIncludeMarginInBodyOffset = (L.offsetTop === 0); L.style.marginTop = J; L.removeChild(F); this.initialized = true }, bodyOffset: function(E) { o.offset.initialized || o.offset.initialize(); var G = E.offsetTop, F = E.offsetLeft; if (o.offset.doesNotIncludeMarginInBodyOffset) { G += parseInt(o.curCSS(E, "marginTop", true), 10) || 0, F += parseInt(o.curCSS(E, "marginLeft", true), 10) || 0 } return { top: G, left: F} } }; o.fn.extend({ position: function() { var I = 0, H = 0, F; if (this[0]) { var G = this.offsetParent(), J = this.offset(), E = /^body|html$/i.test(G[0].tagName) ? { top: 0, left: 0} : G.offset(); J.top -= j(this, "marginTop"); J.left -= j(this, "marginLeft"); E.top += j(G, "borderTopWidth"); E.left += j(G, "borderLeftWidth"); F = { top: J.top - E.top, left: J.left - E.left} } return F }, offsetParent: function() { var E = this[0].offsetParent || document.body; while (E && (!/^body|html$/i.test(E.tagName) && o.css(E, "position") == "static")) { E = E.offsetParent } return o(E) } }); o.each(["Left", "Top"], function(F, E) { var G = "scroll" + E; o.fn[G] = function(H) { if (!this[0]) { return null } return H !== g ? this.each(function() { this == l || this == document ? l.scrollTo(!F ? H : o(l).scrollLeft(), F ? H : o(l).scrollTop()) : this[G] = H }) : this[0] == l || this[0] == document ? self[F ? "pageYOffset" : "pageXOffset"] || o.boxModel && document.documentElement[G] || document.body[G] : this[0][G] } }); o.each(["Height", "Width"], function(I, G) { var E = I ? "Left" : "Top", H = I ? "Right" : "Bottom", F = G.toLowerCase(); o.fn["inner" + G] = function() { return this[0] ? o.css(this[0], F, false, "padding") : null }; o.fn["outer" + G] = function(K) { return this[0] ? o.css(this[0], F, false, K ? "margin" : "border") : null }; var J = G.toLowerCase(); o.fn[J] = function(K) { return this[0] == l ? document.compatMode == "CSS1Compat" && document.documentElement["client" + G] || document.body["client" + G] : this[0] == document ? Math.max(document.documentElement["client" + G], document.body["scroll" + G], document.documentElement["scroll" + G], document.body["offset" + G], document.documentElement["offset" + G]) : K === g ? (this.length ? o.css(this[0], J) : null) : this.css(J, typeof K === "string" ? K : K + "px") } })})();/*Corner*/(function($) { var expr = (function() { var div = document.createElement('div'); try { div.style.setExpression('width', '0+0') } catch (e) { return false } return true })(); function sz(el, p) { return parseInt($.css(el, p)) || 0 }; function hex2(s) { var s = parseInt(s).toString(16); return (s.length < 2) ? '0' + s : s }; function gpc(node) { for (; node && node.nodeName.toLowerCase() != 'html'; node = node.parentNode) { var v = $.css(node, 'backgroundColor'); if (v.indexOf('rgb') >= 0) { if ($.browser.safari && v == 'rgba(0, 0, 0, 0)') continue; var rgb = v.match(/\d+/g); return '#' + hex2(rgb[0]) + hex2(rgb[1]) + hex2(rgb[2]) } if (v && v != 'transparent') return v } return '#ffffff' }; function getWidth(fx, i, width) { switch (fx) { case 'round': return Math.round(width * (1 - Math.cos(Math.asin(i / width)))); case 'cool': return Math.round(width * (1 + Math.cos(Math.asin(i / width)))); case 'sharp': return Math.round(width * (1 - Math.cos(Math.acos(i / width)))); case 'bite': return Math.round(width * (Math.cos(Math.asin((width - i - 1) / width)))); case 'slide': return Math.round(width * (Math.atan2(i, width / i))); case 'jut': return Math.round(width * (Math.atan2(width, (width - i - 1)))); case 'curl': return Math.round(width * (Math.atan(i))); case 'tear': return Math.round(width * (Math.cos(i))); case 'wicked': return Math.round(width * (Math.tan(i))); case 'long': return Math.round(width * (Math.sqrt(i))); case 'sculpt': return Math.round(width * (Math.log((width - i - 1), width))); case 'dog': return (i & 1) ? (i + 1) : width; case 'dog2': return (i & 2) ? (i + 1) : width; case 'dog3': return (i & 3) ? (i + 1) : width; case 'fray': return (i % 2) * width; case 'notch': return width; case 'bevel': return i + 1 } }; $.fn.corner = function(o) { if (this.length == 0) { if (!$.isReady && this.selector) { var s = this.selector, c = this.context; $(function() { $(s, c).corner(o) }) } return this } o = (o || "").toLowerCase(); var keep = /keep/.test(o); var cc = ((o.match(/cc:(#[0-9a-f]+)/) || [])[1]); var sc = ((o.match(/sc:(#[0-9a-f]+)/) || [])[1]); var width = parseInt((o.match(/(\d+)px/) || [])[1]) || 10; var re = /round|bevel|notch|bite|cool|sharp|slide|jut|curl|tear|fray|wicked|sculpt|long|dog3|dog2|dog/; var fx = ((o.match(re) || ['round'])[0]); var edges = { T: 0, B: 1 }; var opts = { TL: /top|tl/.test(o), TR: /top|tr/.test(o), BL: /bottom|bl/.test(o), BR: /bottom|br/.test(o) }; if (!opts.TL && !opts.TR && !opts.BL && !opts.BR) opts = { TL: 1, TR: 1, BL: 1, BR: 1 }; var strip = document.createElement('div'); strip.style.overflow = 'hidden'; strip.style.height = '1px'; strip.style.backgroundColor = sc || 'transparent'; strip.style.borderStyle = 'solid'; return this.each(function(index) { var pad = { T: parseInt($.css(this, 'paddingTop')) || 0, R: parseInt($.css(this, 'paddingRight')) || 0, B: parseInt($.css(this, 'paddingBottom')) || 0, L: parseInt($.css(this, 'paddingLeft')) || 0 }; if (typeof this.style.zoom != undefined) this.style.zoom = 1; if (!keep) this.style.border = 'none'; strip.style.borderColor = cc || gpc(this.parentNode); var cssHeight = $.curCSS(this, 'height'); for (var j in edges) { var bot = edges[j]; if ((bot && (opts.BL || opts.BR)) || (!bot && (opts.TL || opts.TR))) { strip.style.borderStyle = 'none ' + (opts[j + 'R'] ? 'solid' : 'none') + ' none ' + (opts[j + 'L'] ? 'solid' : 'none'); var d = document.createElement('div'); $(d).addClass('jquery-corner'); var ds = d.style; bot ? this.appendChild(d) : this.insertBefore(d, this.firstChild); if (bot && cssHeight != 'auto') { if ($.css(this, 'position') == 'static') this.style.position = 'relative'; ds.position = 'absolute'; ds.bottom = ds.left = ds.padding = ds.margin = '0'; if (expr) ds.setExpression('width', 'this.parentNode.offsetWidth'); else ds.width = '100%' } else if (!bot && $.browser.msie) { if ($.css(this, 'position') == 'static') this.style.position = 'relative'; ds.position = 'absolute'; ds.top = ds.left = ds.right = ds.padding = ds.margin = '0'; if (expr) { var bw = sz(this, 'borderLeftWidth') + sz(this, 'borderRightWidth'); ds.setExpression('width', 'this.parentNode.offsetWidth - ' + bw + '+ "px"') } else ds.width = '100%' } else { ds.margin = !bot ? '-' + pad.T + 'px -' + pad.R + 'px ' + (pad.T - width) + 'px -' + pad.L + 'px' : (pad.B - width) + 'px -' + pad.R + 'px -' + pad.B + 'px -' + pad.L + 'px' } for (var i = 0; i < width; i++) { var w = Math.max(0, getWidth(fx, i, width)); var e = strip.cloneNode(false); e.style.borderWidth = '0 ' + (opts[j + 'R'] ? w : 0) + 'px 0 ' + (opts[j + 'L'] ? w : 0) + 'px'; bot ? d.appendChild(e) : d.insertBefore(e, d.firstChild) } } } }) }; $.fn.uncorner = function() { $('div.jquery-corner', this).remove(); return this } })(jQuery);/*hoverpulse*/(function($) { $.fn.hoverpulse = function(options) { if (this.length == 0) { if (!$.isReady && this.selector) { var s = this.selector, c = this.context; $(function() { $(s, c).hoverpulse(options) }) } return this } var opts = $.extend({}, $.fn.hoverpulse.defaults, options); this.parent().css({ position: 'relative' }); this.css({ position: 'absolute', top: 0, left: 0 }); this.each(function() { var $this = $(this); var w = $this.width(), h = $this.height(); $this.data('hoverpulse.size', { w: parseInt(w), h: parseInt(h) }) }); return this.hover(function() { var $this = $(this); $this.parent().css('z-index', opts.zIndexActive); var size = $this.data('hoverpulse.size'); var w = size.w, h = size.h; $this.stop().animate({ top: ('-' + opts.size + 'px'), left: ('-' + opts.size + 'px'), height: (h + 2 * opts.size) + 'px', width: (w + 2 * opts.size) + 'px' }, opts.speed) }, function() { var $this = $(this); var size = $this.data('hoverpulse.size'); var w = size.w, h = size.h; $this.stop().animate({ top: 0, left: 0, height: (h + 'px'), width: (w + 'px') }, opts.speed, function() { $this.parent().css('z-index', opts.zIndexNormal) }) }) }; $.fn.hoverpulse.defaults = { size: 20, speed: 200, zIndexActive: 100, zIndexNormal: 1} })(jQuery);var $j = jQuery.noConflict();var Prototype = { Version: '1.5.1', Browser: { IE: !!(window.attachEvent && !window.opera), Opera: !!window.opera, WebKit: navigator.userAgent.indexOf('AppleWebKit/') > -1, Gecko: navigator.userAgent.indexOf('Gecko') > -1 && navigator.userAgent.indexOf('KHTML') == -1 }, BrowserFeatures: { XPath: !!document.evaluate, ElementExtensions: !!window.HTMLElement, SpecificElementExtensions: (document.createElement('div').__proto__ !== document.createElement('form').__proto__) }, ScriptFragment: '<script[^>]*>([\u0001-\uFFFF]*?)</script>', JSONFilter: /^\/\*-secure-\s*(.*)\s*\*\/\s*$/, emptyFunction: function() { }, K: function(x) { return x } }; var Class = { create: function() { return function() { this.initialize.apply(this, arguments) } } }; var Abstract = new Object(); Object.extend = function(a, b) { for (var c in b) { a[c] = b[c] } return a }; Object.extend(Object, { inspect: function(a) { try { if (a === undefined) return 'undefined'; if (a === null) return 'null'; return a.inspect ? a.inspect() : a.toString() } catch (e) { if (e instanceof RangeError) return '...'; throw e; } }, toJSON: function(a) { var b = typeof a; switch (b) { case 'undefined': case 'function': case 'unknown': return; case 'boolean': return a.toString() } if (a === null) return 'null'; if (a.toJSON) return a.toJSON(); if (a.ownerDocument === document) return; var c = []; for (var d in a) { var e = Object.toJSON(a[d]); if (e !== undefined) c.push(d.toJSON() + ': ' + e) } return '{' + c.join(', ') + '}' }, keys: function(a) { var b = []; for (var c in a) b.push(c); return b }, values: function(a) { var b = []; for (var c in a) b.push(a[c]); return b }, clone: function(a) { return Object.extend({}, a) } }); Function.prototype.bind = function() { var a = this, args = $A(arguments), object = args.shift(); return function() { return a.apply(object, args.concat($A(arguments))) } }; Function.prototype.bindAsEventListener = function(b) { var c = this, args = $A(arguments), b = args.shift(); return function(a) { return c.apply(b, [a || window.event].concat(args)) } }; Object.extend(Number.prototype, { toColorPart: function() { return this.toPaddedString(2, 16) }, succ: function() { return this + 1 }, times: function(a) { $R(0, this, true).each(a); return this }, toPaddedString: function(a, b) { var c = this.toString(b || 10); return '0'.times(a - c.length) + c }, toJSON: function() { return isFinite(this) ? this.toString() : 'null' } }); Date.prototype.toJSON = function() { return '"' + this.getFullYear() + '-' + (this.getMonth() + 1).toPaddedString(2) + '-' + this.getDate().toPaddedString(2) + 'T' + this.getHours().toPaddedString(2) + ':' + this.getMinutes().toPaddedString(2) + ':' + this.getSeconds().toPaddedString(2) + '"' }; var Try = { these: function() { var a; for (var i = 0, length = arguments.length; i < length; i++) { var b = arguments[i]; try { a = b(); break } catch (e) { } } return a } }; var PeriodicalExecuter = Class.create(); PeriodicalExecuter.prototype = { initialize: function(a, b) { this.callback = a; this.frequency = b; this.currentlyExecuting = false; this.registerCallback() }, registerCallback: function() { this.timer = setInterval(this.onTimerEvent.bind(this), this.frequency * 1000) }, stop: function() { if (!this.timer) return; clearInterval(this.timer); this.timer = null }, onTimerEvent: function() { if (!this.currentlyExecuting) { try { this.currentlyExecuting = true; this.callback(this) } finally { this.currentlyExecuting = false } } } }; Object.extend(String, { interpret: function(a) { return a == null ? '' : String(a) }, specialChar: { '\b': '\\b', '\t': '\\t', '\n': '\\n', '\f': '\\f', '\r': '\\r', '\\': '\\\\'} }); Object.extend(String.prototype, { gsub: function(a, b) { var c = '', source = this, match; b = arguments.callee.prepareReplacement(b); while (source.length > 0) { if (match = source.match(a)) { c += source.slice(0, match.index); c += String.interpret(b(match)); source = source.slice(match.index + match[0].length) } else { c += source, source = '' } } return c }, sub: function(b, c, d) { c = this.gsub.prepareReplacement(c); d = d === undefined ? 1 : d; return this.gsub(b, function(a) { if (--d < 0) return a[0]; return c(a) }) }, scan: function(a, b) { this.gsub(a, b); return this }, truncate: function(a, b) { a = a || 30; b = b === undefined ? '...' : b; return this.length > a ? this.slice(0, a - b.length) + b : this }, strip: function() { return this.replace(/^\s+/, '').replace(/\s+$/, '') }, stripTags: function() { return this.replace(/<\/?[^>]+>/gi, '') }, stripScripts: function() { return this.replace(new RegExp(Prototype.ScriptFragment, 'img'), '') }, extractScripts: function() { var b = new RegExp(Prototype.ScriptFragment, 'img'); var c = new RegExp(Prototype.ScriptFragment, 'im'); return (this.match(b) || []).map(function(a) { return (a.match(c) || ['', ''])[1] }) }, evalScripts: function() { return this.extractScripts().map(function(a) { return eval(a) }) }, escapeHTML: function() { var a = arguments.callee; a.text.data = this; return a.div.innerHTML }, unescapeHTML: function() { var c = document.createElement('div'); c.innerHTML = this.stripTags(); return c.childNodes[0] ? (c.childNodes.length > 1 ? $A(c.childNodes).inject('', function(a, b) { return a + b.nodeValue }) : c.childNodes[0].nodeValue) : '' }, toQueryParams: function(e) { var f = this.strip().match(/([^?#]*)(#.*)?$/); if (!f) return {}; return f[1].split(e || '&').inject({}, function(a, b) { if ((b = b.split('='))[0]) { var c = decodeURIComponent(b.shift()); var d = b.length > 1 ? b.join('=') : b[0]; if (d != undefined) d = decodeURIComponent(d); if (c in a) { if (a[c].constructor != Array) a[c] = [a[c]]; a[c].push(d) } else a[c] = d } return a }) }, toArray: function() { return this.split('') }, succ: function() { return this.slice(0, this.length - 1) + String.fromCharCode(this.charCodeAt(this.length - 1) + 1) }, times: function(a) { var b = ''; for (var i = 0; i < a; i++) b += this; return b }, camelize: function() { var a = this.split('-'), len = a.length; if (len == 1) return a[0]; var b = this.charAt(0) == '-' ? a[0].charAt(0).toUpperCase() + a[0].substring(1) : a[0]; for (var i = 1; i < len; i++) b += a[i].charAt(0).toUpperCase() + a[i].substring(1); return b }, capitalize: function() { return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase() }, underscore: function() { return this.gsub(/::/, '/').gsub(/([A-Z]+)([A-Z][a-z])/, '#{1}_#{2}').gsub(/([a-z\d])([A-Z])/, '#{1}_#{2}').gsub(/-/, '_').toLowerCase() }, dasherize: function() { return this.gsub(/_/, '-') }, inspect: function(c) { var d = this.gsub(/[\x00-\x1f\\]/, function(a) { var b = String.specialChar[a[0]]; return b ? b : '\\u00' + a[0].charCodeAt().toPaddedString(2, 16) }); if (c) return '"' + d.replace(/"/g, '\\"') + '"'; return "'" + d.replace(/'/g, '\\\'') + "'" }, toJSON: function() { return this.inspect(true) }, unfilterJSON: function(a) { return this.sub(a || Prototype.JSONFilter, '#{1}') }, evalJSON: function(a) { var b = this.unfilterJSON(); try { if (!a || (new RegExp('^("(\\\\.|[^"\\\\\\n\\r])' + '*' + '?"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$').test(b))) { return eval('(' + b + ')') } } catch (e) { } throw new SyntaxError('Badly formed JSON string: ' + this.inspect()); }, include: function(a) { return this.indexOf(a) > -1 }, startsWith: function(a) { return this.indexOf(a) === 0 }, endsWith: function(a) { var d = this.length - a.length; return d >= 0 && this.lastIndexOf(a) === d }, empty: function() { return this == '' }, blank: function() { return /^\s*$/.test(this) } }); if (Prototype.Browser.WebKit || Prototype.Browser.IE) { Object.extend(String.prototype, { escapeHTML: function() { return this.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;') }, unescapeHTML: function() { return this.replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>') } }) } String.prototype.gsub.prepareReplacement = function(b) { if (typeof b == 'function') return b; var c = new Template(b); return function(a) { return c.evaluate(a) } }; String.prototype.parseQuery = String.prototype.toQueryParams; Object.extend(String.prototype.escapeHTML, { div: document.createElement('div'), text: document.createTextNode('') }); with (String.prototype.escapeHTML) div.appendChild(text); var Template = Class.create(); Template.Pattern = /(^|.|\r|\n)(#\{(.*?)\})/; Template.prototype = { initialize: function(a, b) { this.template = a.toString(); this.pattern = b || Template.Pattern }, evaluate: function(c) { return this.template.gsub(this.pattern, function(a) { var b = a[1]; if (b == '\\') return a[2]; return b + String.interpret(c[a[3]]) }) } }; var $break = {}; var $continue = new Error('"throw $continue" is deprecated, use "return" instead'); var Enumerable = { each: function(b) { var c = 0; try { this._each(function(a) { b(a, c++) }) } catch (e) { if (e != $break) throw e; } return this }, eachSlice: function(a, b) { var c = -a, slices = [], array = this.toArray(); while ((c += a) < array.length) slices.push(array.slice(c, c + a)); return slices.map(b) }, all: function(c) { var d = true; this.each(function(a, b) { d = d && !!(c || Prototype.K)(a, b); if (!d) throw $break; }); return d }, any: function(c) { var d = false; this.each(function(a, b) { if (d = !!(c || Prototype.K)(a, b)) throw $break; }); return d }, collect: function(c) { var d = []; this.each(function(a, b) { d.push((c || Prototype.K)(a, b)) }); return d }, detect: function(c) { var d; this.each(function(a, b) { if (c(a, b)) { d = a; throw $break; } }); return d }, findAll: function(c) { var d = []; this.each(function(a, b) { if (c(a, b)) d.push(a) }); return d }, grep: function(d, e) { var f = []; this.each(function(a, b) { var c = a.toString(); if (c.match(d)) f.push((e || Prototype.K)(a, b)) }); return f }, include: function(b) { var c = false; this.each(function(a) { if (a == b) { c = true; throw $break; } }); return c }, inGroupsOf: function(b, c) { c = c === undefined ? null : c; return this.eachSlice(b, function(a) { while (a.length < b) a.push(c); return a }) }, inject: function(c, d) { this.each(function(a, b) { c = d(c, a, b) }); return c }, invoke: function(b) { var c = $A(arguments).slice(1); return this.map(function(a) { return a[b].apply(a, c) }) }, max: function(c) { var d; this.each(function(a, b) { a = (c || Prototype.K)(a, b); if (d == undefined || a >= d) d = a }); return d }, min: function(c) { var d; this.each(function(a, b) { a = (c || Prototype.K)(a, b); if (d == undefined || a < d) d = a }); return d }, partition: function(c) { var d = [], falses = []; this.each(function(a, b) { ((c || Prototype.K)(a, b) ? d : falses).push(a) }); return [d, falses] }, pluck: function(c) { var d = []; this.each(function(a, b) { d.push(a[c]) }); return d }, reject: function(c) { var d = []; this.each(function(a, b) { if (!c(a, b)) d.push(a) }); return d }, sortBy: function(e) { return this.map(function(a, b) { return { value: a, criteria: e(a, b)} }).sort(function(c, d) { var a = c.criteria, b = d.criteria; return a < b ? -1 : a > b ? 1 : 0 }).pluck('value') }, toArray: function() { return this.map() }, zip: function() { var c = Prototype.K, args = $A(arguments); if (typeof args.last() == 'function') c = args.pop(); var d = [this].concat(args).map($A); return this.map(function(a, b) { return c(d.pluck(b)) }) }, size: function() { return this.toArray().length }, inspect: function() { return '#<Enumerable:' + this.toArray().inspect() + '>' } }; Object.extend(Enumerable, { map: Enumerable.collect, find: Enumerable.detect, select: Enumerable.findAll, member: Enumerable.include, entries: Enumerable.toArray }); var $A = Array.from = function(a) { if (!a) return []; if (a.toArray) { return a.toArray() } else { var b = []; for (var i = 0, length = a.length; i < length; i++) b.push(a[i]); return b } }; if (Prototype.Browser.WebKit) { $A = Array.from = function(a) { if (!a) return []; if (!(typeof a == 'function' && a == '[object NodeList]') && a.toArray) { return a.toArray() } else { var b = []; for (var i = 0, length = a.length; i < length; i++) b.push(a[i]); return b } } } Object.extend(Array.prototype, Enumerable); if (!Array.prototype._reverse) Array.prototype._reverse = Array.prototype.reverse; Object.extend(Array.prototype, { _each: function(a) { for (var i = 0, length = this.length; i < length; i++) a(this[i]) }, clear: function() { this.length = 0; return this }, first: function() { return this[0] }, last: function() { return this[this.length - 1] }, compact: function() { return this.select(function(a) { return a != null }) }, flatten: function() { return this.inject([], function(a, b) { return a.concat(b && b.constructor == Array ? b.flatten() : [b]) }) }, without: function() { var b = $A(arguments); return this.select(function(a) { return !b.include(a) }) }, indexOf: function(a) { for (var i = 0, length = this.length; i < length; i++) if (this[i] == a) return i; return -1 }, reverse: function(a) { return (a !== false ? this : this.toArray())._reverse() }, reduce: function() { return this.length > 1 ? this : this[0] }, uniq: function(d) { return this.inject([], function(a, b, c) { if (0 == c || (d ? a.last() != b : !a.include(b))) a.push(b); return a }) }, clone: function() { return [].concat(this) }, size: function() { return this.length }, inspect: function() { return '[' + this.map(Object.inspect).join(', ') + ']' }, toJSON: function() { var c = []; this.each(function(a) { var b = Object.toJSON(a); if (b !== undefined) c.push(b) }); return '[' + c.join(', ') + ']' } }); Array.prototype.toArray = Array.prototype.clone; function $w(a) { a = a.strip(); return a ? a.split(/\s+/) : [] } if (Prototype.Browser.Opera) { Array.prototype.concat = function() { var a = []; for (var i = 0, length = this.length; i < length; i++) a.push(this[i]); for (var i = 0, length = arguments.length; i < length; i++) { if (arguments[i].constructor == Array) { for (var j = 0, arrayLength = arguments[i].length; j < arrayLength; j++) a.push(arguments[i][j]) } else { a.push(arguments[i]) } } return a } } var Hash = function(a) { if (a instanceof Hash) this.merge(a); else Object.extend(this, a || {}) }; Object.extend(Hash, { toQueryString: function(d) { var e = []; e.add = arguments.callee.addPair; this.prototype._each.call(d, function(b) { if (!b.key) return; var c = b.value; if (c && typeof c == 'object') { if (c.constructor == Array) c.each(function(a) { e.add(b.key, a) }); return } e.add(b.key, c) }); return e.join('&') }, toJSON: function(c) { var d = []; this.prototype._each.call(c, function(a) { var b = Object.toJSON(a.value); if (b !== undefined) d.push(a.key.toJSON() + ': ' + b) }); return '{' + d.join(', ') + '}' } }); Hash.toQueryString.addPair = function(a, b, c) { a = encodeURIComponent(a); if (b === undefined) this.push(a); else this.push(a + '=' + (b == null ? '' : encodeURIComponent(b))) }; Object.extend(Hash.prototype, Enumerable); Object.extend(Hash.prototype, { _each: function(a) { for (var b in this) { var c = this[b]; if (c && c == Hash.prototype[b]) continue; var d = [b, c]; d.key = b; d.value = c; a(d) } }, keys: function() { return this.pluck('key') }, values: function() { return this.pluck('value') }, merge: function(c) { return $H(c).inject(this, function(a, b) { a[b.key] = b.value; return a }) }, remove: function() { var a; for (var i = 0, length = arguments.length; i < length; i++) { var b = this[arguments[i]]; if (b !== undefined) { if (a === undefined) a = b; else { if (a.constructor != Array) a = [a]; a.push(b) } } delete this[arguments[i]] } return a }, toQueryString: function() { return Hash.toQueryString(this) }, inspect: function() { return '#<Hash:{' + this.map(function(a) { return a.map(Object.inspect).join(': ') }).join(', ') + '}>' }, toJSON: function() { return Hash.toJSON(this) } }); function $H(a) { if (a instanceof Hash) return a; return new Hash(a) }; if (function() { var i = 0, Test = function(a) { this.key = a }; Test.prototype.key = 'foo'; for (var b in new Test('bar')) i++; return i > 1 } ()) Hash.prototype._each = function(a) { var b = []; for (var c in this) { var d = this[c]; if ((d && d == Hash.prototype[c]) || b.include(c)) continue; b.push(c); var e = [c, d]; e.key = c; e.value = d; a(e) } }; ObjectRange = Class.create(); Object.extend(ObjectRange.prototype, Enumerable); Object.extend(ObjectRange.prototype, { initialize: function(a, b, c) { this.start = a; this.end = b; this.exclusive = c }, _each: function(a) { var b = this.start; while (this.include(b)) { a(b); b = b.succ() } }, include: function(a) { if (a < this.start) return false; if (this.exclusive) return a < this.end; return a <= this.end } }); var $R = function(a, b, c) { return new ObjectRange(a, b, c) }; var Ajax = { getTransport: function() { return Try.these(function() { return new XMLHttpRequest() }, function() { return new ActiveXObject('Msxml2.XMLHTTP') }, function() { return new ActiveXObject('Microsoft.XMLHTTP') }) || false }, activeRequestCount: 0 }; Ajax.Responders = { responders: [], _each: function(a) { this.responders._each(a) }, register: function(a) { if (!this.include(a)) this.responders.push(a) }, unregister: function(a) { this.responders = this.responders.without(a) }, dispatch: function(b, c, d, f) { this.each(function(a) { if (typeof a[b] == 'function') { try { a[b].apply(a, [c, d, f]) } catch (e) { } } }) } }; Object.extend(Ajax.Responders, Enumerable); Ajax.Responders.register({ onCreate: function() { Ajax.activeRequestCount++ }, onComplete: function() { Ajax.activeRequestCount-- } }); Ajax.Base = function() { }; Ajax.Base.prototype = { setOptions: function(a) { this.options = { method: 'post', asynchronous: true, contentType: 'application/x-www-form-urlencoded', encoding: 'UTF-8', parameters: '' }; Object.extend(this.options, a || {}); this.options.method = this.options.method.toLowerCase(); if (typeof this.options.parameters == 'string') this.options.parameters = this.options.parameters.toQueryParams() } }; Ajax.Request = Class.create(); Ajax.Request.Events = ['Uninitialized', 'Loading', 'Loaded', 'Interactive', 'Complete']; Ajax.Request.prototype = Object.extend(new Ajax.Base(), { _complete: false, initialize: function(a, b) { this.transport = Ajax.getTransport(); this.setOptions(b); this.request(a) }, request: function(a) { this.url = a; this.method = this.options.method; var b = Object.clone(this.options.parameters); if (!['get', 'post'].include(this.method)) { b['_method'] = this.method; this.method = 'post' } this.parameters = b; if (b = Hash.toQueryString(b)) { if (this.method == 'get') this.url += (this.url.include('?') ? '&' : '?') + b; else if (/Konqueror|Safari|KHTML/.test(navigator.userAgent)) b += '&_=' } try { if (this.options.onCreate) this.options.onCreate(this.transport); Ajax.Responders.dispatch('onCreate', this, this.transport); this.transport.open(this.method.toUpperCase(), this.url, this.options.asynchronous); if (this.options.asynchronous) setTimeout(function() { this.respondToReadyState(1) } .bind(this), 10); this.transport.onreadystatechange = this.onStateChange.bind(this); this.setRequestHeaders(); this.body = this.method == 'post' ? (this.options.postBody || b) : null; this.transport.send(this.body); if (!this.options.asynchronous && this.transport.overrideMimeType) this.onStateChange() } catch (e) { this.dispatchException(e) } }, onStateChange: function() { var a = this.transport.readyState; if (a > 1 && !((a == 4) && this._complete)) this.respondToReadyState(this.transport.readyState) }, setRequestHeaders: function() { var b = { 'X-Requested-With': 'XMLHttpRequest', 'X-Prototype-Version': Prototype.Version, 'Accept': 'text/javascript, text/html, application/xml, text/xml, */*' }; if (this.method == 'post') { b['Content-type'] = this.options.contentType + (this.options.encoding ? '; charset=' + this.options.encoding : ''); if (this.transport.overrideMimeType && (navigator.userAgent.match(/Gecko\/(\d{4})/) || [0, 2005])[1] < 2005) b['Connection'] = 'close' } if (typeof this.options.requestHeaders == 'object') { var c = this.options.requestHeaders; if (typeof c.push == 'function') for (var i = 0, length = c.length; i < length; i += 2) b[c[i]] = c[i + 1]; else $H(c).each(function(a) { b[a.key] = a.value }) } for (var d in b) this.transport.setRequestHeader(d, b[d]) }, success: function() { return !this.transport.status || (this.transport.status >= 200 && this.transport.status < 300) }, respondToReadyState: function(a) { var b = Ajax.Request.Events[a]; var c = this.transport, json = this.evalJSON(); if (b == 'Complete') { try { this._complete = true; (this.options['on' + this.transport.status] || this.options['on' + (this.success() ? 'Success' : 'Failure')] || Prototype.emptyFunction)(c, json) } catch (e) { this.dispatchException(e) } var d = this.getHeader('Content-type'); if (d && d.strip().match(/^(text|application)\/(x-)?(java|ecma)script(;.*)?$/i)) this.evalResponse() } try { (this.options['on' + b] || Prototype.emptyFunction)(c, json); Ajax.Responders.dispatch('on' + b, this, c, json) } catch (e) { this.dispatchException(e) } if (b == 'Complete') { this.transport.onreadystatechange = Prototype.emptyFunction } }, getHeader: function(a) { try { return this.transport.getResponseHeader(a) } catch (e) { return null } }, evalJSON: function() { try { var a = this.getHeader('X-JSON'); return a ? a.evalJSON() : null } catch (e) { return null } }, evalResponse: function() { try { return eval((this.transport.responseText || '').unfilterJSON()) } catch (e) { this.dispatchException(e) } }, dispatchException: function(a) { (this.options.onException || Prototype.emptyFunction)(this, a); Ajax.Responders.dispatch('onException', this, a) } }); Ajax.Updater = Class.create(); Object.extend(Object.extend(Ajax.Updater.prototype, Ajax.Request.prototype), { initialize: function(c, d, e) { this.container = { success: (c.success || c), failure: (c.failure || (c.success ? null : c)) }; this.transport = Ajax.getTransport(); this.setOptions(e); var f = this.options.onComplete || Prototype.emptyFunction; this.options.onComplete = (function(a, b) { this.updateContent(); f(a, b) }).bind(this); this.request(d) }, updateContent: function() { var a = this.container[this.success() ? 'success' : 'failure']; var b = this.transport.responseText; if (!this.options.evalScripts) b = b.stripScripts(); if (a = $(a)) { if (this.options.insertion) new this.options.insertion(a, b); else a.update(b) } if (this.success()) { if (this.onComplete) setTimeout(this.onComplete.bind(this), 10) } } }); Ajax.PeriodicalUpdater = Class.create(); Ajax.PeriodicalUpdater.prototype = Object.extend(new Ajax.Base(), { initialize: function(a, b, c) { this.setOptions(c); this.onComplete = this.options.onComplete; this.frequency = (this.options.frequency || 2); this.decay = (this.options.decay || 1); this.updater = {}; this.container = a; this.url = b; this.start() }, start: function() { this.options.onComplete = this.updateComplete.bind(this); this.onTimerEvent() }, stop: function() { this.updater.options.onComplete = undefined; clearTimeout(this.timer); (this.onComplete || Prototype.emptyFunction).apply(this, arguments) }, updateComplete: function(a) { if (this.options.decay) { this.decay = (a.responseText == this.lastText ? this.decay * this.options.decay : 1); this.lastText = a.responseText } this.timer = setTimeout(this.onTimerEvent.bind(this), this.decay * this.frequency * 1000) }, onTimerEvent: function() { this.updater = new Ajax.Updater(this.container, this.url, this.options) } }); function $(a) { if (arguments.length > 1) { for (var i = 0, elements = [], length = arguments.length; i < length; i++) elements.push($(arguments[i])); return elements } if (typeof a == 'string') a = document.getElementById(a); return Element.extend(a) } if (Prototype.BrowserFeatures.XPath) { document._getElementsByXPath = function(a, b) { var c = []; var d = document.evaluate(a, $(b) || document, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null); for (var i = 0, length = d.snapshotLength; i < length; i++) c.push(d.snapshotItem(i)); return c }; document.getElementsByClassName = function(a, b) { var q = ".//*[contains(concat(' ', @class, ' '), ' " + a + " ')]"; return document._getElementsByXPath(q, b) } } else { document.getElementsByClassName = function(a, b) { var c = ($(b) || document.body).getElementsByTagName('*'); var d = [], child; for (var i = 0, length = c.length; i < length; i++) { child = c[i]; if (Element.hasClassName(child, a)) d.push(Element.extend(child)) } return d } } if (!window.Element) var Element = {}; Element.extend = function(a) { var F = Prototype.BrowserFeatures; if (!a || !a.tagName || a.nodeType == 3 || a._extended || F.SpecificElementExtensions || a == window) return a; var b = {}, tagName = a.tagName, cache = Element.extend.cache, T = Element.Methods.ByTag; if (!F.ElementExtensions) { Object.extend(b, Element.Methods), Object.extend(b, Element.Methods.Simulated) } if (T[tagName]) Object.extend(b, T[tagName]); for (var c in b) { var d = b[c]; if (typeof d == 'function' && !(c in a)) a[c] = cache.findOrStore(d) } a._extended = Prototype.emptyFunction; return a }; Element.extend.cache = { findOrStore: function(a) { return this[a] = this[a] || function() { return a.apply(null, [this].concat($A(arguments))) } } }; Element.Methods = { visible: function(a) { return $(a).style.display != 'none' }, toggle: function(a) { a = $(a); Element[Element.visible(a) ? 'hide' : 'show'](a); return a }, hide: function(a) { $(a).style.display = 'none'; return a }, show: function(a) { $(a).style.display = ''; return a }, remove: function(a) { a = $(a); a.parentNode.removeChild(a); return a }, update: function(a, b) { b = typeof b == 'undefined' ? '' : b.toString(); $(a).innerHTML = b.stripScripts(); setTimeout(function() { b.evalScripts() }, 10); return a }, replace: function(a, b) { a = $(a); b = typeof b == 'undefined' ? '' : b.toString(); if (a.outerHTML) { a.outerHTML = b.stripScripts() } else { var c = a.ownerDocument.createRange(); c.selectNodeContents(a); a.parentNode.replaceChild(c.createContextualFragment(b.stripScripts()), a) } setTimeout(function() { b.evalScripts() }, 10); return a }, inspect: function(d) { d = $(d); var e = '<' + d.tagName.toLowerCase(); $H({ 'id': 'id', 'className': 'class' }).each(function(a) { var b = a.first(), attribute = a.last(); var c = (d[b] || '').toString(); if (c) e += ' ' + attribute + '=' + c.inspect(true) }); return e + '>' }, recursivelyCollect: function(a, b) { a = $(a); var c = []; while (a = a[b]) if (a.nodeType == 1) c.push(Element.extend(a)); return c }, ancestors: function(a) { return $(a).recursivelyCollect('parentNode') }, descendants: function(a) { return $A($(a).getElementsByTagName('*')).each(Element.extend) }, firstDescendant: function(a) { a = $(a).firstChild; while (a && a.nodeType != 1) a = a.nextSibling; return $(a) }, immediateDescendants: function(a) { if (!(a = $(a).firstChild)) return []; while (a && a.nodeType != 1) a = a.nextSibling; if (a) return [a].concat($(a).nextSiblings()); return [] }, previousSiblings: function(a) { return $(a).recursivelyCollect('previousSibling') }, nextSiblings: function(a) { return $(a).recursivelyCollect('nextSibling') }, siblings: function(a) { a = $(a); return a.previousSiblings().reverse().concat(a.nextSiblings()) }, match: function(a, b) { if (typeof b == 'string') b = new Selector(b); return b.match($(a)) }, up: function(a, b, c) { a = $(a); if (arguments.length == 1) return $(a.parentNode); var d = a.ancestors(); return b ? Selector.findElement(d, b, c) : d[c || 0] }, down: function(a, b, c) { a = $(a); if (arguments.length == 1) return a.firstDescendant(); var d = a.descendants(); return b ? Selector.findElement(d, b, c) : d[c || 0] }, previous: function(a, b, c) { a = $(a); if (arguments.length == 1) return $(Selector.handlers.previousElementSibling(a)); var d = a.previousSiblings(); return b ? Selector.findElement(d, b, c) : d[c || 0] }, next: function(a, b, c) { a = $(a); if (arguments.length == 1) return $(Selector.handlers.nextElementSibling(a)); var d = a.nextSiblings(); return b ? Selector.findElement(d, b, c) : d[c || 0] }, getElementsBySelector: function() { var a = $A(arguments), element = $(a.shift()); return Selector.findChildElements(element, a) }, getElementsByClassName: function(a, b) { return document.getElementsByClassName(b, a) }, readAttribute: function(a, b) { a = $(a); if (Prototype.Browser.IE) { if (!a.attributes) return null; var t = Element._attributeTranslations; if (t.values[b]) return t.values[b](a, b); if (t.names[b]) b = t.names[b]; var c = a.attributes[b]; return c ? c.nodeValue : null } return a.getAttribute(b) }, getHeight: function(a) { return $(a).getDimensions().height }, getWidth: function(a) { return $(a).getDimensions().width }, classNames: function(a) { return new Element.ClassNames(a) }, hasClassName: function(a, b) { if (!(a = $(a))) return; var c = a.className; if (c.length == 0) return false; if (c == b || c.match(new RegExp("(^|\\s)" + b + "(\\s|$)"))) return true; return false }, addClassName: function(a, b) { if (!(a = $(a))) return; Element.classNames(a).add(b); return a }, removeClassName: function(a, b) { if (!(a = $(a))) return; Element.classNames(a).remove(b); return a }, toggleClassName: function(a, b) { if (!(a = $(a))) return; Element.classNames(a)[a.hasClassName(b) ? 'remove' : 'add'](b); return a }, observe: function() { Event.observe.apply(Event, arguments); return $A(arguments).first() }, stopObserving: function() { Event.stopObserving.apply(Event, arguments); return $A(arguments).first() }, cleanWhitespace: function(a) { a = $(a); var b = a.firstChild; while (b) { var c = b.nextSibling; if (b.nodeType == 3 && !/\S/.test(b.nodeValue)) a.removeChild(b); b = c } return a }, empty: function(a) { return $(a).innerHTML.blank() }, descendantOf: function(a, b) { a = $(a), b = $(b); while (a = a.parentNode) if (a == b) return true; return false }, scrollTo: function(a) { a = $(a); var b = Position.cumulativeOffset(a); window.scrollTo(b[0], b[1]); return a }, getStyle: function(a, b) { a = $(a); b = b == 'float' ? 'cssFloat' : b.camelize(); var c = a.style[b]; if (!c) { var d = document.defaultView.getComputedStyle(a, null); c = d ? d[b] : null } if (b == 'opacity') return c ? parseFloat(c) : 1.0; return c == 'auto' ? null : c }, getOpacity: function(a) { return $(a).getStyle('opacity') }, setStyle: function(a, b, c) { a = $(a); var d = a.style; for (var e in b) if (e == 'opacity') a.setOpacity(b[e]); else d[(e == 'float' || e == 'cssFloat') ? (d.styleFloat === undefined ? 'cssFloat' : 'styleFloat') : (c ? e : e.camelize())] = b[e]; return a }, setOpacity: function(a, b) { a = $(a); a.style.opacity = (b == 1 || b === '') ? '' : (b < 0.00001) ? 0 : b; return a }, getDimensions: function(a) { a = $(a); var b = $(a).getStyle('display'); if (b != 'none' && b != null) return { width: a.offsetWidth, height: a.offsetHeight }; var c = a.style; var d = c.visibility; var e = c.position; var f = c.display; c.visibility = 'hidden'; c.position = 'absolute'; c.display = 'block'; var g = a.clientWidth; var h = a.clientHeight; c.display = f; c.position = e; c.visibility = d; return { width: g, height: h} }, makePositioned: function(a) { a = $(a); var b = Element.getStyle(a, 'position'); if (b == 'static' || !b) { a._madePositioned = true; a.style.position = 'relative'; if (window.opera) { a.style.top = 0; a.style.left = 0 } } return a }, undoPositioned: function(a) { a = $(a); if (a._madePositioned) { a._madePositioned = undefined; a.style.position = a.style.top = a.style.left = a.style.bottom = a.style.right = '' } return a }, makeClipping: function(a) { a = $(a); if (a._overflow) return a; a._overflow = a.style.overflow || 'auto'; if ((Element.getStyle(a, 'overflow') || 'visible') != 'hidden') a.style.overflow = 'hidden'; return a }, undoClipping: function(a) { a = $(a); if (!a._overflow) return a; a.style.overflow = a._overflow == 'auto' ? '' : a._overflow; a._overflow = null; return a } }; Object.extend(Element.Methods, { childOf: Element.Methods.descendantOf, childElements: Element.Methods.immediateDescendants }); if (Prototype.Browser.Opera) { Element.Methods._getStyle = Element.Methods.getStyle; Element.Methods.getStyle = function(a, b) { switch (b) { case 'left': case 'top': case 'right': case 'bottom': if (Element._getStyle(a, 'position') == 'static') return null; default: return Element._getStyle(a, b) } } } else if (Prototype.Browser.IE) { Element.Methods.getStyle = function(a, b) { a = $(a); b = (b == 'float' || b == 'cssFloat') ? 'styleFloat' : b.camelize(); var c = a.style[b]; if (!c && a.currentStyle) c = a.currentStyle[b]; if (b == 'opacity') { if (c = (a.getStyle('filter') || '').match(/alpha\(opacity=(.*)\)/)) if (c[1]) return parseFloat(c[1]) / 100; return 1.0 } if (c == 'auto') { if ((b == 'width' || b == 'height') && (a.getStyle('display') != 'none')) return a['offset' + b.capitalize()] + 'px'; return null } return c }; Element.Methods.setOpacity = function(a, b) { a = $(a); var c = a.getStyle('filter'), style = a.style; if (b == 1 || b === '') { style.filter = c.replace(/alpha\([^\)]*\)/gi, ''); return a } else if (b < 0.00001) b = 0; style.filter = c.replace(/alpha\([^\)]*\)/gi, '') + 'alpha(opacity=' + (b * 100) + ')'; return a }; Element.Methods.update = function(b, c) { b = $(b); c = typeof c == 'undefined' ? '' : c.toString(); var d = b.tagName.toUpperCase(); if (['THEAD', 'TBODY', 'TR', 'TD'].include(d)) { var e = document.createElement('div'); switch (d) { case 'THEAD': case 'TBODY': e.innerHTML = '<table><tbody>' + c.stripScripts() + '</tbody></table>'; depth = 2; break; case 'TR': e.innerHTML = '<table><tbody><tr>' + c.stripScripts() + '</tr></tbody></table>'; depth = 3; break; case 'TD': e.innerHTML = '<table><tbody><tr><td>' + c.stripScripts() + '</td></tr></tbody></table>'; depth = 4 } $A(b.childNodes).each(function(a) { b.removeChild(a) }); depth.times(function() { e = e.firstChild }); $A(e.childNodes).each(function(a) { b.appendChild(a) }) } else { b.innerHTML = c.stripScripts() } setTimeout(function() { c.evalScripts() }, 10); return b } } else if (Prototype.Browser.Gecko) { Element.Methods.setOpacity = function(a, b) { a = $(a); a.style.opacity = (b == 1) ? 0.999999 : (b === '') ? '' : (b < 0.00001) ? 0 : b; return a } } Element._attributeTranslations = { names: { colspan: "colSpan", rowspan: "rowSpan", valign: "vAlign", datetime: "dateTime", accesskey: "accessKey", tabindex: "tabIndex", enctype: "encType", maxlength: "maxLength", readonly: "readOnly", longdesc: "longDesc" }, values: { _getAttr: function(a, b) { return a.getAttribute(b, 2) }, _flag: function(a, b) { return $(a).hasAttribute(b) ? b : null }, style: function(a) { return a.style.cssText.toLowerCase() }, title: function(a) { var b = a.getAttributeNode('title'); return b.specified ? b.nodeValue : null } } }; (function() { Object.extend(this, { href: this._getAttr, src: this._getAttr, type: this._getAttr, disabled: this._flag, checked: this._flag, readonly: this._flag, multiple: this._flag }) }).call(Element._attributeTranslations.values); Element.Methods.Simulated = { hasAttribute: function(a, b) { var t = Element._attributeTranslations, node; b = t.names[b] || b; node = $(a).getAttributeNode(b); return node && node.specified } }; Element.Methods.ByTag = {}; Object.extend(Element, Element.Methods); if (!Prototype.BrowserFeatures.ElementExtensions && document.createElement('div').__proto__) { window.HTMLElement = {}; window.HTMLElement.prototype = document.createElement('div').__proto__; Prototype.BrowserFeatures.ElementExtensions = true } Element.hasAttribute = function(a, b) { if (a.hasAttribute) return a.hasAttribute(b); return Element.Methods.Simulated.hasAttribute(a, b) }; Element.addMethods = function(g) { var F = Prototype.BrowserFeatures, T = Element.Methods.ByTag; if (!g) { Object.extend(Form, Form.Methods); Object.extend(Form.Element, Form.Element.Methods); Object.extend(Element.Methods.ByTag, { "FORM": Object.clone(Form.Methods), "INPUT": Object.clone(Form.Element.Methods), "SELECT": Object.clone(Form.Element.Methods), "TEXTAREA": Object.clone(Form.Element.Methods) }) } if (arguments.length == 2) { var h = g; g = arguments[1] } if (!h) Object.extend(Element.Methods, g || {}); else { if (h.constructor == Array) h.each(extend); else extend(h) } function extend(a) { a = a.toUpperCase(); if (!Element.Methods.ByTag[a]) Element.Methods.ByTag[a] = {}; Object.extend(Element.Methods.ByTag[a], g) } function copy(a, b, c) { c = c || false; var d = Element.extend.cache; for (var e in a) { var f = a[e]; if (!c || !(e in b)) b[e] = d.findOrStore(f) } } function findDOMClass(a) { var b; var c = { "OPTGROUP": "OptGroup", "TEXTAREA": "TextArea", "P": "Paragraph", "FIELDSET": "FieldSet", "UL": "UList", "OL": "OList", "DL": "DList", "DIR": "Directory", "H1": "Heading", "H2": "Heading", "H3": "Heading", "H4": "Heading", "H5": "Heading", "H6": "Heading", "Q": "Quote", "INS": "Mod", "DEL": "Mod", "A": "Anchor", "IMG": "Image", "CAPTION": "TableCaption", "COL": "TableCol", "COLGROUP": "TableCol", "THEAD": "TableSection", "TFOOT": "TableSection", "TBODY": "TableSection", "TR": "TableRow", "TH": "TableCell", "TD": "TableCell", "FRAMESET": "FrameSet", "IFRAME": "IFrame" }; if (c[a]) b = 'HTML' + c[a] + 'Element'; if (window[b]) return window[b]; b = 'HTML' + a + 'Element'; if (window[b]) return window[b]; b = 'HTML' + a.capitalize() + 'Element'; if (window[b]) return window[b]; window[b] = {}; window[b].prototype = document.createElement(a).__proto__; return window[b] } if (F.ElementExtensions) { copy(Element.Methods, HTMLElement.prototype); copy(Element.Methods.Simulated, HTMLElement.prototype, true) } if (F.SpecificElementExtensions) { for (var i in Element.Methods.ByTag) { var j = findDOMClass(i); if (typeof j == "undefined") continue; copy(T[i], j.prototype) } } Object.extend(Element, Element.Methods); delete Element.ByTag }; var Toggle = { display: Element.toggle }; Abstract.Insertion = function(a) { this.adjacency = a }; Abstract.Insertion.prototype = { initialize: function(a, b) { this.element = $(a); this.content = b.stripScripts(); if (this.adjacency && this.element.insertAdjacentHTML) { try { this.element.insertAdjacentHTML(this.adjacency, this.content) } catch (e) { var c = this.element.tagName.toUpperCase(); if (['TBODY', 'TR'].include(c)) { this.insertContent(this.contentFromAnonymousTable()) } else { throw e; } } } else { this.range = this.element.ownerDocument.createRange(); if (this.initializeRange) this.initializeRange(); this.insertContent([this.range.createContextualFragment(this.content)]) } setTimeout(function() { b.evalScripts() }, 10) }, contentFromAnonymousTable: function() { var a = document.createElement('div'); a.innerHTML = '<table><tbody>' + this.content + '</tbody></table>'; return $A(a.childNodes[0].childNodes[0].childNodes) } }; var Insertion = new Object(); Insertion.Before = Class.create(); Insertion.Before.prototype = Object.extend(new Abstract.Insertion('beforeBegin'), { initializeRange: function() { this.range.setStartBefore(this.element) }, insertContent: function(b) { b.each((function(a) { this.element.parentNode.insertBefore(a, this.element) }).bind(this)) } }); Insertion.Top = Class.create(); Insertion.Top.prototype = Object.extend(new Abstract.Insertion('afterBegin'), { initializeRange: function() { this.range.selectNodeContents(this.element); this.range.collapse(true) }, insertContent: function(b) { b.reverse(false).each((function(a) { this.element.insertBefore(a, this.element.firstChild) }).bind(this)) } }); Insertion.Bottom = Class.create(); Insertion.Bottom.prototype = Object.extend(new Abstract.Insertion('beforeEnd'), { initializeRange: function() { this.range.selectNodeContents(this.element); this.range.collapse(this.element) }, insertContent: function(b) { b.each((function(a) { this.element.appendChild(a) }).bind(this)) } }); Insertion.After = Class.create(); Insertion.After.prototype = Object.extend(new Abstract.Insertion('afterEnd'), { initializeRange: function() { this.range.setStartAfter(this.element) }, insertContent: function(b) { b.each((function(a) { this.element.parentNode.insertBefore(a, this.element.nextSibling) }).bind(this)) } }); Element.ClassNames = Class.create(); Element.ClassNames.prototype = { initialize: function(a) { this.element = $(a) }, _each: function(b) { this.element.className.split(/\s+/).select(function(a) { return a.length > 0 })._each(b) }, set: function(a) { this.element.className = a }, add: function(a) { if (this.include(a)) return; this.set($A(this).concat(a).join(' ')) }, remove: function(a) { if (!this.include(a)) return; this.set($A(this).without(a).join(' ')) }, toString: function() { return $A(this).join(' ') } }; Object.extend(Element.ClassNames.prototype, Enumerable); var Selector = Class.create(); Selector.prototype = { initialize: function(a) { this.expression = a.strip(); this.compileMatcher() }, compileMatcher: function() { if (Prototype.BrowserFeatures.XPath && !(/\[[\w-]*?:/).test(this.expression)) return this.compileXPathMatcher(); var e = this.expression, ps = Selector.patterns, h = Selector.handlers, c = Selector.criteria, le, p, m; if (Selector._cache[e]) { this.matcher = Selector._cache[e]; return } this.matcher = ["this.matcher = function(root) {", "var r = root, h = Selector.handlers, c = false, n;"]; while (e && le != e && (/\S/).test(e)) { le = e; for (var i in ps) { p = ps[i]; if (m = e.match(p)) { this.matcher.push(typeof c[i] == 'function' ? c[i](m) : new Template(c[i]).evaluate(m)); e = e.replace(m[0], ''); break } } } this.matcher.push("return h.unique(n);\n}"); eval(this.matcher.join('\n')); Selector._cache[this.expression] = this.matcher }, compileXPathMatcher: function() { var e = this.expression, ps = Selector.patterns, x = Selector.xpath, le, m; if (Selector._cache[e]) { this.xpath = Selector._cache[e]; return } this.matcher = ['.//*']; while (e && le != e && (/\S/).test(e)) { le = e; for (var i in ps) { if (m = e.match(ps[i])) { this.matcher.push(typeof x[i] == 'function' ? x[i](m) : new Template(x[i]).evaluate(m)); e = e.replace(m[0], ''); break } } } this.xpath = this.matcher.join(''); Selector._cache[this.expression] = this.xpath }, findElements: function(a) { a = a || document; if (this.xpath) return document._getElementsByXPath(this.xpath, a); return this.matcher(a) }, match: function(a) { return this.findElements(document).include(a) }, toString: function() { return this.expression }, inspect: function() { return "#<Selector:" + this.expression.inspect() + ">" } }; Object.extend(Selector, { _cache: {}, xpath: { descendant: "//*", child: "/*", adjacent: "/following-sibling::*[1]", laterSibling: '/following-sibling::*', tagName: function(m) { if (m[1] == '*') return ''; return "[local-name()='" + m[1].toLowerCase() + "' or local-name()='" + m[1].toUpperCase() + "']" }, className: "[contains(concat(' ', @class, ' '), ' #{1} ')]", id: "[@id='#{1}']", attrPresence: "[@#{1}]", attr: function(m) { m[3] = m[5] || m[6]; return new Template(Selector.xpath.operators[m[2]]).evaluate(m) }, pseudo: function(m) { var h = Selector.xpath.pseudos[m[1]]; if (!h) return ''; if (typeof h === 'function') return h(m); return new Template(Selector.xpath.pseudos[m[1]]).evaluate(m) }, operators: { '=': "[@#{1}='#{3}']", '!=': "[@#{1}!='#{3}']", '^=': "[starts-with(@#{1}, '#{3}')]", '$=': "[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']", '*=': "[contains(@#{1}, '#{3}')]", '~=': "[contains(concat(' ', @#{1}, ' '), ' #{3} ')]", '|=': "[contains(concat('-', @#{1}, '-'), '-#{3}-')]" }, pseudos: { 'first-child': '[not(preceding-sibling::*)]', 'last-child': '[not(following-sibling::*)]', 'only-child': '[not(preceding-sibling::* or following-sibling::*)]', 'empty': "[count(*) = 0 and (count(text()) = 0 or translate(text(), ' \t\r\n', '') = '')]", 'checked': "[@checked]", 'disabled': "[@disabled]", 'enabled': "[not(@disabled)]", 'not': function(m) { var e = m[6], p = Selector.patterns, x = Selector.xpath, le, m, v; var a = []; while (e && le != e && (/\S/).test(e)) { le = e; for (var i in p) { if (m = e.match(p[i])) { v = typeof x[i] == 'function' ? x[i](m) : new Template(x[i]).evaluate(m); a.push("(" + v.substring(1, v.length - 1) + ")"); e = e.replace(m[0], ''); break } } } return "[not(" + a.join(" and ") + ")]" }, 'nth-child': function(m) { return Selector.xpath.pseudos.nth("(count(./preceding-sibling::*) + 1) ", m) }, 'nth-last-child': function(m) { return Selector.xpath.pseudos.nth("(count(./following-sibling::*) + 1) ", m) }, 'nth-of-type': function(m) { return Selector.xpath.pseudos.nth("position() ", m) }, 'nth-last-of-type': function(m) { return Selector.xpath.pseudos.nth("(last() + 1 - position()) ", m) }, 'first-of-type': function(m) { m[6] = "1"; return Selector.xpath.pseudos['nth-of-type'](m) }, 'last-of-type': function(m) { m[6] = "1"; return Selector.xpath.pseudos['nth-last-of-type'](m) }, 'only-of-type': function(m) { var p = Selector.xpath.pseudos; return p['first-of-type'](m) + p['last-of-type'](m) }, nth: function(c, m) { var d, formula = m[6], predicate; if (formula == 'even') formula = '2n+0'; if (formula == 'odd') formula = '2n+1'; if (d = formula.match(/^(\d+)$/)) return '[' + c + "= " + d[1] + ']'; if (d = formula.match(/^(-?\d*)?n(([+-])(\d+))?/)) { if (d[1] == "-") d[1] = -1; var a = d[1] ? Number(d[1]) : 1; var b = d[2] ? Number(d[2]) : 0; predicate = "[((#{fragment} - #{b}) mod #{a} = 0) and " + "((#{fragment} - #{b}) div #{a} >= 0)]"; return new Template(predicate).evaluate({ fragment: c, a: a, b: b }) } } } }, criteria: { tagName: 'n = h.tagName(n, r, "#{1}", c);  c = false;', className: 'n = h.className(n, r, "#{1}", c); c = false;', id: 'n = h.id(n, r, "#{1}", c);    c = false;', attrPresence: 'n = h.attrPresence(n, r, "#{1}"); c = false;', attr: function(m) { m[3] = (m[5] || m[6]); return new Template('n = h.attr(n, r, "#{1}", "#{3}", "#{2}"); c = false;').evaluate(m) }, pseudo: function(m) { if (m[6]) m[6] = m[6].replace(/"/g, '\\"'); return new Template('n = h.pseudo(n, "#{1}", "#{6}", r, c); c = false;').evaluate(m) }, descendant: 'c = "descendant";', child: 'c = "child";', adjacent: 'c = "adjacent";', laterSibling: 'c = "laterSibling";' }, patterns: { laterSibling: new RegExp('^\\s' + '*' + '~\\s*'), child: new RegExp('^\\s' + '*' + '>\\s*'), adjacent: new RegExp('^\\s' + '*' + '\\+\\s*'), descendant: /^\s/, tagName: new RegExp('^\\s*' + '(\\' + '*|[\\w\\-]+)(\\b|$)?'), id: new RegExp('^#([\\w\\-\\' + '*]+)(\\b|$)'), className: new RegExp('^\\.([\\w\\-\\' + '*]+)(\\b|$)'), pseudo: new RegExp('^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\\((.*?)\\))?(\\b|$|\\s||(?=:))'), attrPresence: new RegExp('^\\[([\\w]+)\\]'), attr: new RegExp('\\[((?:[\\w-]*:)?[\\w-]+)\\s*(?:([!^$*~|]?=)\\s*(([\'"])([^\\]]*?)\\4|([^\'"][^\\]]*?)))?\\]') }, handlers: { concat: function(a, b) { for (var i = 0, node; node = b[i]; i++) a.push(node); return a }, mark: function(a) { for (var i = 0, node; node = a[i]; i++) node._counted = true; return a }, unmark: function(a) { for (var i = 0, node; node = a[i]; i++) node._counted = undefined; return a }, index: function(a, b, c) { a._counted = true; if (b) { for (var d = a.childNodes, i = d.length - 1, j = 1; i >= 0; i--) { node = d[i]; if (node.nodeType == 1 && (!c || node._counted)) node.nodeIndex = j++ } } else { for (var i = 0, j = 1, d = a.childNodes; node = d[i]; i++) if (node.nodeType == 1 && (!c || node._counted)) node.nodeIndex = j++ } }, unique: function(a) { if (a.length == 0) return a; var b = [], n; for (var i = 0, l = a.length; i < l; i++) if (!(n = a[i])._counted) { n._counted = true; b.push(Element.extend(n)) } return Selector.handlers.unmark(b) }, descendant: function(a) { var h = Selector.handlers; for (var i = 0, results = [], node; node = a[i]; i++) h.concat(results, node.getElementsByTagName('*')); return results }, child: function(a) { var h = Selector.handlers; for (var i = 0, results = [], node; node = a[i]; i++) { for (var j = 0, children = [], child; child = node.childNodes[j]; j++) if (child.nodeType == 1 && child.tagName != '!') results.push(child) } return results }, adjacent: function(a) { for (var i = 0, results = [], node; node = a[i]; i++) { var b = this.nextElementSibling(node); if (b) results.push(b) } return results }, laterSibling: function(a) { var h = Selector.handlers; for (var i = 0, results = [], node; node = a[i]; i++) h.concat(results, Element.nextSiblings(node)); return results }, nextElementSibling: function(a) { while (a = a.nextSibling) if (a.nodeType == 1) return a; return null }, previousElementSibling: function(a) { while (a = a.previousSibling) if (a.nodeType == 1) return a; return null }, tagName: function(a, b, c, d) { c = c.toUpperCase(); var e = [], h = Selector.handlers; if (a) { if (d) { if (d == "descendant") { for (var i = 0, node; node = a[i]; i++) h.concat(e, node.getElementsByTagName(c)); return e } else a = this[d](a); if (c == "*") return a } for (var i = 0, node; node = a[i]; i++) if (node.tagName.toUpperCase() == c) e.push(node); return e } else return b.getElementsByTagName(c) }, id: function(a, b, c, d) { var e = $(c), h = Selector.handlers; if (!a && b == document) return e ? [e] : []; if (a) { if (d) { if (d == 'child') { for (var i = 0, node; node = a[i]; i++) if (e.parentNode == node) return [e] } else if (d == 'descendant') { for (var i = 0, node; node = a[i]; i++) if (Element.descendantOf(e, node)) return [e] } else if (d == 'adjacent') { for (var i = 0, node; node = a[i]; i++) if (Selector.handlers.previousElementSibling(e) == node) return [e] } else a = h[d](a) } for (var i = 0, node; node = a[i]; i++) if (node == e) return [e]; return [] } return (e && Element.descendantOf(e, b)) ? [e] : [] }, className: function(a, b, c, d) { if (a && d) a = this[d](a); return Selector.handlers.byClassName(a, b, c) }, byClassName: function(a, b, c) { if (!a) a = Selector.handlers.descendant([b]); var d = ' ' + c + ' '; for (var i = 0, results = [], node, nodeClassName; node = a[i]; i++) { nodeClassName = node.className; if (nodeClassName.length == 0) continue; if (nodeClassName == c || (' ' + nodeClassName + ' ').include(d)) results.push(node) } return results }, attrPresence: function(a, b, c) { var d = []; for (var i = 0, node; node = a[i]; i++) if (Element.hasAttribute(node, c)) d.push(node); return d }, attr: function(a, b, c, d, e) { if (!a) a = b.getElementsByTagName("*"); var f = Selector.operators[e], results = []; for (var i = 0, node; node = a[i]; i++) { var g = Element.readAttribute(node, c); if (g === null) continue; if (f(g, d)) results.push(node) } return results }, pseudo: function(a, b, c, d, e) { if (a && e) a = this[e](a); if (!a) a = d.getElementsByTagName("*"); return Selector.pseudos[b](a, c, d) } }, pseudos: { 'first-child': function(a, b, c) { for (var i = 0, results = [], node; node = a[i]; i++) { if (Selector.handlers.previousElementSibling(node)) continue; results.push(node) } return results }, 'last-child': function(a, b, c) { for (var i = 0, results = [], node; node = a[i]; i++) { if (Selector.handlers.nextElementSibling(node)) continue; results.push(node) } return results }, 'only-child': function(a, b, c) { var h = Selector.handlers; for (var i = 0, results = [], node; node = a[i]; i++) if (!h.previousElementSibling(node) && !h.nextElementSibling(node)) results.push(node); return results }, 'nth-child': function(a, b, c) { return Selector.pseudos.nth(a, b, c) }, 'nth-last-child': function(a, b, c) { return Selector.pseudos.nth(a, b, c, true) }, 'nth-of-type': function(a, b, c) { return Selector.pseudos.nth(a, b, c, false, true) }, 'nth-last-of-type': function(a, b, c) { return Selector.pseudos.nth(a, b, c, true, true) }, 'first-of-type': function(a, b, c) { return Selector.pseudos.nth(a, "1", c, false, true) }, 'last-of-type': function(a, b, c) { return Selector.pseudos.nth(a, "1", c, true, true) }, 'only-of-type': function(a, b, c) { var p = Selector.pseudos; return p['last-of-type'](p['first-of-type'](a, b, c), b, c) }, getIndices: function(a, b, d) { if (a == 0) return b > 0 ? [b] : []; return $R(1, d).inject([], function(c, i) { if (0 == (i - b) % a && (i - b) / a >= 0) c.push(i); return c }) }, nth: function(c, d, e, f, g) { if (c.length == 0) return []; if (d == 'even') d = '2n+0'; if (d == 'odd') d = '2n+1'; var h = Selector.handlers, results = [], indexed = [], m; h.mark(c); for (var i = 0, node; node = c[i]; i++) { if (!node.parentNode._counted) { h.index(node.parentNode, f, g); indexed.push(node.parentNode) } } if (d.match(/^\d+$/)) { d = Number(d); for (var i = 0, node; node = c[i]; i++) if (node.nodeIndex == d) results.push(node) } else if (m = d.match(/^(-?\d*)?n(([+-])(\d+))?/)) { if (m[1] == "-") m[1] = -1; var a = m[1] ? Number(m[1]) : 1; var b = m[2] ? Number(m[2]) : 0; var k = Selector.pseudos.getIndices(a, b, c.length); for (var i = 0, node, l = k.length; node = c[i]; i++) { for (var j = 0; j < l; j++) if (node.nodeIndex == k[j]) results.push(node) } } h.unmark(c); h.unmark(indexed); return results }, 'empty': function(a, b, c) { for (var i = 0, results = [], node; node = a[i]; i++) { if (node.tagName == '!' || (node.firstChild && !node.innerHTML.match(/^\s*$/))) continue; results.push(node) } return results }, 'not': function(a, b, c) { var h = Selector.handlers, selectorType, m; var d = new Selector(b).findElements(c); h.mark(d); for (var i = 0, results = [], node; node = a[i]; i++) if (!node._counted) results.push(node); h.unmark(d); return results }, 'enabled': function(a, b, c) { for (var i = 0, results = [], node; node = a[i]; i++) if (!node.disabled) results.push(node); return results }, 'disabled': function(a, b, c) { for (var i = 0, results = [], node; node = a[i]; i++) if (node.disabled) results.push(node); return results }, 'checked': function(a, b, c) { for (var i = 0, results = [], node; node = a[i]; i++) if (node.checked) results.push(node); return results } }, operators: { '=': function(a, v) { return a == v }, '!=': function(a, v) { return a != v }, '^=': function(a, v) { return a.startsWith(v) }, '$=': function(a, v) { return a.endsWith(v) }, '*=': function(a, v) { return a.include(v) }, '~=': function(a, v) { return (' ' + a + ' ').include(' ' + v + ' ') }, '|=': function(a, v) { return ('-' + a.toUpperCase() + '-').include('-' + v.toUpperCase() + '-') } }, matchElements: function(a, b) { var c = new Selector(b).findElements(), h = Selector.handlers; h.mark(c); for (var i = 0, results = [], element; element = a[i]; i++) if (element._counted) results.push(element); h.unmark(c); return results }, findElement: function(a, b, c) { if (typeof b == 'number') { c = b; b = false } return Selector.matchElements(a, b || '*')[c || 0] }, findChildElements: function(a, b) { var c = b.join(','), b = []; c.scan(/(([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)/, function(m) { b.push(m[1].strip()) }); var d = [], h = Selector.handlers; for (var i = 0, l = b.length, selector; i < l; i++) { selector = new Selector(b[i].strip()); h.concat(d, selector.findElements(a)) } return (l > 1) ? h.unique(d) : d } }); function $$() { return Selector.findChildElements(document, $A(arguments)) } var Form = { reset: function(a) { $(a).reset(); return a }, serializeElements: function(d, e) { var f = d.inject({}, function(a, b) { if (!b.disabled && b.name) { var c = b.name, value = $(b).getValue(); if (value != null) { if (c in a) { if (a[c].constructor != Array) a[c] = [a[c]]; a[c].push(value) } else a[c] = value } } return a }); return e ? f : Hash.toQueryString(f) } }; Form.Methods = { serialize: function(a, b) { return Form.serializeElements(Form.getElements(a), b) }, getElements: function(c) { return $A($(c).getElementsByTagName('*')).inject([], function(a, b) { if (Form.Element.Serializers[b.tagName.toLowerCase()]) a.push(Element.extend(b)); return a }) }, getInputs: function(a, b, c) { a = $(a); var d = a.getElementsByTagName('input'); if (!b && !c) return $A(d).map(Element.extend); for (var i = 0, matchingInputs = [], length = d.length; i < length; i++) { var e = d[i]; if ((b && e.type != b) || (c && e.name != c)) continue; matchingInputs.push(Element.extend(e)) } return matchingInputs }, disable: function(a) { a = $(a); Form.getElements(a).invoke('disable'); return a }, enable: function(a) { a = $(a); Form.getElements(a).invoke('enable'); return a }, findFirstElement: function(b) { return $(b).getElements().find(function(a) { return a.type != 'hidden' && !a.disabled && ['input', 'select', 'textarea'].include(a.tagName.toLowerCase()) }) }, focusFirstElement: function(a) { a = $(a); a.findFirstElement().activate(); return a }, request: function(a, b) { a = $(a), b = Object.clone(b || {}); var c = b.parameters; b.parameters = a.serialize(true); if (c) { if (typeof c == 'string') c = c.toQueryParams(); Object.extend(b.parameters, c) } if (a.hasAttribute('method') && !b.method) b.method = a.method; return new Ajax.Request(a.readAttribute('action'), b) } }; Form.Element = { focus: function(a) { $(a).focus(); return a }, select: function(a) { $(a).select(); return a } }; Form.Element.Methods = { serialize: function(a) { a = $(a); if (!a.disabled && a.name) { var b = a.getValue(); if (b != undefined) { var c = {}; c[a.name] = b; return Hash.toQueryString(c) } } return '' }, getValue: function(a) { a = $(a); var b = a.tagName.toLowerCase(); return Form.Element.Serializers[b](a) }, clear: function(a) { $(a).value = ''; return a }, present: function(a) { return $(a).value != '' }, activate: function(a) { a = $(a); try { a.focus(); if (a.select && (a.tagName.toLowerCase() != 'input' || !['button', 'reset', 'submit'].include(a.type))) a.select() } catch (e) { } return a }, disable: function(a) { a = $(a); a.blur(); a.disabled = true; return a }, enable: function(a) { a = $(a); a.disabled = false; return a } }; var Field = Form.Element; var $F = Form.Element.Methods.getValue; Form.Element.Serializers = { input: function(a) { switch (a.type.toLowerCase()) { case 'checkbox': case 'radio': return Form.Element.Serializers.inputSelector(a); default: return Form.Element.Serializers.textarea(a) } }, inputSelector: function(a) { return a.checked ? a.value : null }, textarea: function(a) { return a.value }, select: function(a) { return this[a.type == 'select-one' ? 'selectOne' : 'selectMany'](a) }, selectOne: function(a) { var b = a.selectedIndex; return b >= 0 ? this.optionValue(a.options[b]) : null }, selectMany: function(a) { var b, length = a.length; if (!length) return null; for (var i = 0, b = []; i < length; i++) { var c = a.options[i]; if (c.selected) b.push(this.optionValue(c)) } return b }, optionValue: function(a) { return Element.extend(a).hasAttribute('value') ? a.value : a.text } }; Abstract.TimedObserver = function() { }; Abstract.TimedObserver.prototype = { initialize: function(a, b, c) { this.frequency = b; this.element = $(a); this.callback = c; this.lastValue = this.getValue(); this.registerCallback() }, registerCallback: function() { setInterval(this.onTimerEvent.bind(this), this.frequency * 1000) }, onTimerEvent: function() { var a = this.getValue(); var b = ('string' == typeof this.lastValue && 'string' == typeof a ? this.lastValue != a : String(this.lastValue) != String(a)); if (b) { this.callback(this.element, a); this.lastValue = a } } }; Form.Element.Observer = Class.create(); Form.Element.Observer.prototype = Object.extend(new Abstract.TimedObserver(), { getValue: function() { return Form.Element.getValue(this.element) } }); Form.Observer = Class.create(); Form.Observer.prototype = Object.extend(new Abstract.TimedObserver(), { getValue: function() { return Form.serialize(this.element) } }); Abstract.EventObserver = function() { }; Abstract.EventObserver.prototype = { initialize: function(a, b) { this.element = $(a); this.callback = b; this.lastValue = this.getValue(); if (this.element.tagName.toLowerCase() == 'form') this.registerFormCallbacks(); else this.registerCallback(this.element) }, onElementEvent: function() { var a = this.getValue(); if (this.lastValue != a) { this.callback(this.element, a); this.lastValue = a } }, registerFormCallbacks: function() { Form.getElements(this.element).each(this.registerCallback.bind(this)) }, registerCallback: function(a) { if (a.type) { switch (a.type.toLowerCase()) { case 'checkbox': case 'radio': Event.observe(a, 'click', this.onElementEvent.bind(this)); break; default: Event.observe(a, 'change', this.onElementEvent.bind(this)); break } } } }; Form.Element.EventObserver = Class.create(); Form.Element.EventObserver.prototype = Object.extend(new Abstract.EventObserver(), { getValue: function() { return Form.Element.getValue(this.element) } }); Form.EventObserver = Class.create(); Form.EventObserver.prototype = Object.extend(new Abstract.EventObserver(), { getValue: function() { return Form.serialize(this.element) } }); if (!window.Event) { var Event = new Object() } Object.extend(Event, { KEY_BACKSPACE: 8, KEY_TAB: 9, KEY_RETURN: 13, KEY_ESC: 27, KEY_LEFT: 37, KEY_UP: 38, KEY_RIGHT: 39, KEY_DOWN: 40, KEY_DELETE: 46, KEY_HOME: 36, KEY_END: 35, KEY_PAGEUP: 33, KEY_PAGEDOWN: 34, element: function(a) { return $(a.target || a.srcElement) }, isLeftClick: function(a) { return (((a.which) && (a.which == 1)) || ((a.button) && (a.button == 1))) }, pointerX: function(a) { return a.pageX || (a.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft)) }, pointerY: function(a) { return a.pageY || (a.clientY + (document.documentElement.scrollTop || document.body.scrollTop)) }, stop: function(a) { if (a.preventDefault) { a.preventDefault(); a.stopPropagation() } else { a.returnValue = false; a.cancelBubble = true } }, findElement: function(a, b) { var c = Event.element(a); while (c.parentNode && (!c.tagName || (c.tagName.toUpperCase() != b.toUpperCase()))) c = c.parentNode; return c }, observers: false, _observeAndCache: function(a, b, c, d) { if (!this.observers) this.observers = []; if (a.addEventListener) { this.observers.push([a, b, c, d]); a.addEventListener(b, c, d) } else if (a.attachEvent) { this.observers.push([a, b, c, d]); a.attachEvent('on' + b, c) } }, unloadCache: function() { if (!Event.observers) return; for (var i = 0, length = Event.observers.length; i < length; i++) { Event.stopObserving.apply(this, Event.observers[i]); Event.observers[i][0] = null } Event.observers = false }, observe: function(a, b, c, d) { a = $(a); d = d || false; if (b == 'keypress' && (Prototype.Browser.WebKit || a.attachEvent)) b = 'keydown'; Event._observeAndCache(a, b, c, d) }, stopObserving: function(a, b, c, d) { a = $(a); d = d || false; if (b == 'keypress' && (Prototype.Browser.WebKit || a.attachEvent)) b = 'keydown'; if (a.removeEventListener) { a.removeEventListener(b, c, d) } else if (a.detachEvent) { try { a.detachEvent('on' + b, c) } catch (e) { } } } }); if (Prototype.Browser.IE) Event.observe(window, 'unload', Event.unloadCache, false); var Position = { includeScrollOffsets: false, prepare: function() { this.deltaX = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0; this.deltaY = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0 }, realOffset: function(a) { var b = 0, valueL = 0; do { b += a.scrollTop || 0; valueL += a.scrollLeft || 0; a = a.parentNode } while (a); return [valueL, b] }, cumulativeOffset: function(a) { var b = 0, valueL = 0; do { b += a.offsetTop || 0; valueL += a.offsetLeft || 0; a = a.offsetParent } while (a); return [valueL, b] }, positionedOffset: function(a) { var b = 0, valueL = 0; do { b += a.offsetTop || 0; valueL += a.offsetLeft || 0; a = a.offsetParent; if (a) { if (a.tagName == 'BODY') break; var p = Element.getStyle(a, 'position'); if (p == 'relative' || p == 'absolute') break } } while (a); return [valueL, b] }, offsetParent: function(a) { if (a.offsetParent) return a.offsetParent; if (a == document.body) return a; while ((a = a.parentNode) && a != document.body) if (Element.getStyle(a, 'position') != 'static') return a; return document.body }, within: function(a, x, y) { if (this.includeScrollOffsets) return this.withinIncludingScrolloffsets(a, x, y); this.xcomp = x; this.ycomp = y; this.offset = this.cumulativeOffset(a); return (y >= this.offset[1] && y < this.offset[1] + a.offsetHeight && x >= this.offset[0] && x < this.offset[0] + a.offsetWidth) }, withinIncludingScrolloffsets: function(a, x, y) { var b = this.realOffset(a); this.xcomp = x + b[0] - this.deltaX; this.ycomp = y + b[1] - this.deltaY; this.offset = this.cumulativeOffset(a); return (this.ycomp >= this.offset[1] && this.ycomp < this.offset[1] + a.offsetHeight && this.xcomp >= this.offset[0] && this.xcomp < this.offset[0] + a.offsetWidth) }, overlap: function(a, b) { if (!a) return 0; if (a == 'vertical') return ((this.offset[1] + b.offsetHeight) - this.ycomp) / b.offsetHeight; if (a == 'horizontal') return ((this.offset[0] + b.offsetWidth) - this.xcomp) / b.offsetWidth }, page: function(a) { var b = 0, valueL = 0; var c = a; do { b += c.offsetTop || 0; valueL += c.offsetLeft || 0; if (c.offsetParent == document.body) if (Element.getStyle(c, 'position') == 'absolute') break } while (c = c.offsetParent); c = a; do { if (!window.opera || c.tagName == 'BODY') { b -= c.scrollTop || 0; valueL -= c.scrollLeft || 0 } } while (c = c.parentNode); return [valueL, b] }, clone: function(a, b) { var c = Object.extend({ setLeft: true, setTop: true, setWidth: true, setHeight: true, offsetTop: 0, offsetLeft: 0 }, arguments[2] || {}); a = $(a); var p = Position.page(a); b = $(b); var d = [0, 0]; var e = null; if (Element.getStyle(b, 'position') == 'absolute') { e = Position.offsetParent(b); d = Position.page(e) } if (e == document.body) { d[0] -= document.body.offsetLeft; d[1] -= document.body.offsetTop } if (c.setLeft) b.style.left = (p[0] - d[0] + c.offsetLeft) + 'px'; if (c.setTop) b.style.top = (p[1] - d[1] + c.offsetTop) + 'px'; if (c.setWidth) b.style.width = a.offsetWidth + 'px'; if (c.setHeight) b.style.height = a.offsetHeight + 'px' }, absolutize: function(a) { a = $(a); if (a.style.position == 'absolute') return; Position.prepare(); var b = Position.positionedOffset(a); var c = b[1]; var d = b[0]; var e = a.clientWidth; var f = a.clientHeight; a._originalLeft = d - parseFloat(a.style.left || 0); a._originalTop = c - parseFloat(a.style.top || 0); a._originalWidth = a.style.width; a._originalHeight = a.style.height; a.style.position = 'absolute'; a.style.top = c + 'px'; a.style.left = d + 'px'; a.style.width = e + 'px'; a.style.height = f + 'px' }, relativize: function(a) { a = $(a); if (a.style.position == 'relative') return; Position.prepare(); a.style.position = 'relative'; var b = parseFloat(a.style.top || 0) - (a._originalTop || 0); var c = parseFloat(a.style.left || 0) - (a._originalLeft || 0); a.style.top = b + 'px'; a.style.left = c + 'px'; a.style.height = a._originalHeight; a.style.width = a._originalWidth } }; if (Prototype.Browser.WebKit) { Position.cumulativeOffset = function(a) { var b = 0, valueL = 0; do { b += a.offsetTop || 0; valueL += a.offsetLeft || 0; if (a.offsetParent == document.body) if (Element.getStyle(a, 'position') == 'absolute') break; a = a.offsetParent } while (a); return [valueL, b] } } Element.addMethods();var css_browser_selector=function() {var t=this;var ua=navigator.userAgent.toLowerCase();var is=function(x) { return ua.indexOf(x)!=-1;};var device=is('ipad') ? ' ipad':'';var h=document.getElementsByTagName('html')[0]var b=(ua.indexOf("opera/9")>-1) ? 'opera opera9':(ua.indexOf("opera 8")>-1) ? 'opera opera8':(ua.indexOf("opera 7")>-1) ? 'opera opera7':(ua.indexOf("msie 9")>-1) ? 'ie ie9':(ua.indexOf("msie 8")>-1) ? 'ie ie8':(ua.indexOf("msie 7")>-1) ? 'ie ie7':(ua.indexOf("msie 6")>-1) ? 'ie ie6':(ua.indexOf("msie 5.5")>-1) ? 'ie ie55':(ua.indexOf("msie 5.23")>-1) ? 'ie ie523':(ua.indexOf("msie 5.0")>-1) ? 'ie ie5':(ua.indexOf("chrome")>-1) ? 'safari chrome':(ua.indexOf("safari")>-1&&ua.indexOf("version/4.")>-1&&ua.indexOf("version/4.")<ua.indexOf("safari")) ? 'safari safari4 safari3':(ua.indexOf("safari")>-1&&ua.indexOf("version/3.")>-1&&ua.indexOf("version/3.")<ua.indexOf("safari")) ? 'safari safari3':(ua.indexOf("safari")>-1) ? 'safari safari2':(ua.indexOf("seamonkey")>-1) ? 'seamonkey gecko':(ua.indexOf("netscape")>-1) ? 'netscape gecko':(ua.indexOf("firefox")>-1) ? 'firefox gecko':(ua.indexOf("gecko")>-1) ? 'gecko':'',os=(is('x11')||is('linux')) ? ' linux':is('mac') ? ' mac':is('win') ? ' win':'';var c=b + os + device + ' js';h.className += h.className ? ' ' + c:c;t.ver=navigator.appVersion;t.agent=navigator.userAgent;t.mac=ua.indexOf("mac")>-1;t.pc=ua.indexOf("win")>-1;t.opera=ua.indexOf("opera")>-1;t.opera9=ua.indexOf("opera/9")>-1;t.opera8=ua.indexOf("opera 8")>-1;t.opera7=ua.indexOf("opera 7")>-1;t.ie9=(ua.indexOf("msie 9")>-1&&!t.opera) ? 1:0;t.ie7=(ua.indexOf("msie 7")>-1&&!t.opera) ? 1:0;t.ie7=t.ie8=(ua.indexOf("msie 8")>-1&&!t.opera) ? 1:0;t.ie6=(ua.indexOf("msie 6")>-1&&!t.opera) ? 1:0;t.ie55=(ua.indexOf("msie 5.5")>-1&&!t.opera) ? 1:0;t.ie523=(ua.indexOf("msie 5.23")>-1) ? 1:0;t.ie4=(ua.indexOf("msie 4")>-1) ? 1:0;t.ie3=(ua.indexOf("msie 3")>-1) ? 1:0;t.ie5=(ua.indexOf("msie 5.0")>-1&&!t.ie55&&!t.ie523) ? 1:0;t.ns71=(ua.indexOf("netscape/7.1")>-1) ? 1:0;t.safari4=(ua.indexOf("safari")>-1&&ua.indexOf("version/4.")>-1&&ua.indexOf("version/4.")<ua.indexOf("safari")) ? 1:0;t.safari3=(ua.indexOf("safari")>-1&&ua.indexOf("version/3.")>-1&&ua.indexOf("version/3.")<ua.indexOf("safari")) ? 1:0;t.safari2=(ua.indexOf("safari")>-1&&ua.indexOf("version/")==-1) ? 1:0;t.chrome=(ua.indexOf("chrome")>-1) ? 1:0;t.safari=(t.safari2||t.safari3||t.safari4);t.ie=(t.ie9||t.ie8||t.ie7||t.ie55||t.ie5||t.ie6||t.ie523||t.ie4||t.ie3);t.gecko=(ua.indexOf("gecko")>-1 & !t.ie) ? 1:0;t.ns=(t.ns71);t.ieOld=(t.ie55||t.ie5||t.ie523||t.ie4||t.ie3);t.ajaxaware=(t.opera||t.ie8||t.ie7||t.ie6||t.safari||t.gecko||t.chrome) ? 1:0} ();if(typeof deconcept=="undefined"){var deconcept=new Object();}if(typeof deconcept.util=="undefined"){deconcept.util=new Object();}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object();}deconcept.SWFObject=function(_1,id,w,h,_5,c,_7,_8,_9,_a,_b){if(!document.getElementById){return;}this.DETECT_KEY=_b?_b:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(_1){this.setAttribute("swf",_1);}if(id){this.setAttribute("id",id);}if(w){this.setAttribute("width",w);}if(h){this.setAttribute("height",h);}if(_5){this.setAttribute("version",new deconcept.PlayerVersion(_5.toString().split(".")));}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true;}if(c){this.addParam("bgcolor",c);}var q=_7?_7:"high";this.addParam("quality",q);if(_8+""!=""){this.addParam("base",_8);}this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var _d=(_9)?_9:window.location;this.setAttribute("xiRedirectUrl",_d);this.setAttribute("redirectUrl","");if(_a){this.setAttribute("redirectUrl",_a);}};deconcept.SWFObject.prototype={useExpressInstall:function(_e){this.xiSWFPath=!_e?"expressinstall.swf":_e;this.setAttribute("useExpressInstall",true);},setAttribute:function(_f,_10){this.attributes[_f]=_10;},getAttribute:function(_11){return this.attributes[_11];},addParam:function(_12,_13){this.params[_12]=_13;},getParams:function(){return this.params;},addVariable:function(_14,_15){this.variables[_14]=_15;},getVariable:function(_16){return this.variables[_16];},getVariables:function(){return this.variables;},getVariablePairs:function(){var _17=new Array();var key;var _19=this.getVariables();for(key in _19){_17[_17.length]=key+"="+_19[key];}return _17;},getSWFHTML:function(){var _1a="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath);}_1a="<embed type=\"application/x-shockwave-flash\" src=\""+this.getAttribute("swf")+"\" width=\""+this.getAttribute("width")+"\" height=\""+this.getAttribute("height")+"\" style=\""+this.getAttribute("style")+"\"";_1a+=" id=\""+this.getAttribute("id")+"\" name=\""+this.getAttribute("id")+"\" ";var _1b=this.getParams();for(var key in _1b){_1a+=[key]+"=\""+_1b[key]+"\" ";}var _1d=this.getVariablePairs().join("&");if(_1d.length>0){_1a+="flashvars=\""+_1d+"\"";}_1a+="/>";}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath);}_1a="<object id=\""+this.getAttribute("id")+"\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\""+this.getAttribute("width")+"\" height=\""+this.getAttribute("height")+"\" style=\""+this.getAttribute("style")+"\">";_1a+="<param name=\"movie\" value=\""+this.getAttribute("swf")+"\" />";var _1b=this.getParams();for(var key in _1b){_1a+="<param name=\""+key+"\" value=\""+_1b[key]+"\" />";}var _1d=this.getVariablePairs().join("&");if(_1d.length>0){_1a+="<param name=\"flashvars\" value=\""+_1d+"\" />";}_1a+="</object>";}return _1a;},write:function(_1e){if(this.getAttribute("useExpressInstall")){var _1f=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(_1f)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title);}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var n=(typeof _1e=="string")?document.getElementById(_1e):_1e;n.innerHTML=this.getSWFHTML();return true;}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"));}}return false;}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var _21=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var x=navigator.plugins["Shockwave Flash"];if(x&&x.description){_21=new deconcept.PlayerVersion(x.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var axo=1;var _24=3;while(axo){try{_24++;axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_24);_21=new deconcept.PlayerVersion([_24,0,0]);}catch(e){axo=null;}}}else{try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(e){try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");_21=new deconcept.PlayerVersion([6,0,21]);axo.AllowScriptAccess="always";}catch(e){if(_21.major==6){return _21;}}try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(e){}}if(axo!=null){_21=new deconcept.PlayerVersion(axo.GetVariable("$version").split(" ")[1].split(","));}}}return _21;};deconcept.PlayerVersion=function(_25){this.major=_25[0]!=null?parseInt(_25[0]):0;this.minor=_25[1]!=null?parseInt(_25[1]):0;this.rev=_25[2]!=null?parseInt(_25[2]):0;};deconcept.PlayerVersion.prototype.versionIsValid=function(fv){if(this.major<fv.major){return false;}if(this.major>fv.major){return true;}if(this.minor<fv.minor){return false;}if(this.minor>fv.minor){return true;}if(this.rev<fv.rev){return false;}return true;};deconcept.util={getRequestParameter:function(_27){var q=document.location.search||document.location.hash;if(_27==null){return q;}if(q){var _29=q.substring(1).split("&");for(var i=0;i<_29.length;i++){if(_29[i].substring(0,_29[i].indexOf("="))==_27){return _29[i].substring((_29[i].indexOf("=")+1));}}}return "";}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var _2b=document.getElementsByTagName("OBJECT");for(var i=_2b.length-1;i>=0;i--){_2b[i].style.display="none";for(var x in _2b[i]){if(typeof _2b[i][x]=="function"){_2b[i][x]=function(){};}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true;}}if(!document.getElementById&&document.all){document.getElementById=function(id){return document.all[id];};}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;var _ObjectBrowsers=Class.create();_ObjectBrowsers.prototype={initialize:function(){this.oba=new Array();this.obh=new Array();},add:function(ob){this.oba.push(ob);},store:function(bname,ob){var x=this.getBrowserPair(bname);if(x)x.ob=ob;else this.obh.push({bname:bname,ob:ob});},getBrowserPair:function(bname){for (var i=0;i<this.obh.length;i++)if(this.obh[i].bname==bname)return this.obh[i];return null;},getBrowser:function(bname){for (var i=0;i<this.obh.length;i++)if(this.obh[i].bname==bname)return this.obh[i].ob;return null;},stopAll:function(){this.oba.each(function(n){n.stop();});},moveLeft:function(bname){try{this.getBrowser(bname).moveLeft();}catch(e){}},moveRight:function(bname){try{this.getBrowser(bname).moveRight();}catch(e){}},moveTo:function(bname,i){try{this.getBrowser(bname).moveTo(i);}catch(e){}}}var ObjectBrowsers=new _ObjectBrowsers();var BaseObjectBrowser=Class.create();BaseObjectBrowser.prototype={baseInit:function(leftArrowID,rightArrowID,bulletID){var t=this;t.firstInt=10;t.othInt=10;t.state=0t.e=new Array();t.eC=0;t.c=0;t.arrowL=leftArrowID;t.arrowR=rightArrowID;t.bullet=bulletID;ObjectBrowsers.add(t);},onTimer:function(){var t=this;t.moveNext();if(this.state==1){t.pe.stop();t.state=2;t.pe=new PeriodicalExecuter(t.onTimer.bind(t),t.othInt);t.pe.ob=t;}},start:function(){var t=this;t.pe=new PeriodicalExecuter(t.onTimer.bind(t),t.firstInt);t.pe.ob=t;t.state=1var s=0;if(arguments&&arguments.length>0) s=arguments[0];if(s==-1)s=Math.ceil(Math.random()*(t.eC-1));t.c=s;t.moveElement();},stop:function(){this.pe.stop();},moveRight:function(i){var t=this;t.pe.stop();t.c++;if(t.c>=t.eC)t.c=0;t.moveElement();},moveLeft:function(idx){var t=this;t.pe.stop();t.c--;if(t.c<0)t.c=t.eC-1;t.moveElement();},moveTo:function(i){var t=this;t.pe.stop();t.c=i;t.moveElement();},moveNext:function(){var t=this;t.c++;if(t.c>=t.eC)t.c=0;t.moveElement();},refreshControls:function(){var t=this;for (var l=0;l<t.eC;l++) $(t.bullet+l).className='';$(t.bullet+t.c).className='nbSel';}};ArticlePhotoBrowser=Class.create();Object.extend(Object.extend(ArticlePhotoBrowser.prototype,BaseObjectBrowser.prototype),{initialize:function(iID,cID,lAID,rAID,bID,uID) {var t=this;t.baseInit(lAID,rAID,bID);t.img=iID;t.credit=cID;t.urlPic=uID;},addElement:function(src,h,w,alt,c,u) {this.eC=this.e.push({ src:src,h:h,w:w,alt:alt,c:c,u:u });},moveElement:function() {var t=this;var el=t.e[t.c];$(t.img).src=unescape(el.src);$(t.img).height=el.h;$(t.img).width=el.w;$(t.img).alt=unescape(el.alt);$(t.credit).update(el.c);if($(t.urlPic)!=undefined)$(t.urlPic).href=unescape(el.u);t.refreshControls();}});NewsBrowser=Class.create();Object.extend(Object.extend(NewsBrowser.prototype,BaseObjectBrowser.prototype),{initialize:function(pS,nC,cID,lID,rID,bID){var t=this;t.baseInit(lID,rID,bID);t.cID=cID;t.pS=pS;t.eC=(((nC%t.pS)==1?nC-1:nC)/t.pS)+((nC%t.pS)==1?1:0);},addElement:function(){},moveElement:function(){var t=this;var xhtml='';var i,b=t.c*t.pS;for(i=0;i<t.pS;i++){try {xhtml+="<li>"+$('newsRollerE'+(i+b)).innerHTML+"</li>";}catch(e){}}$(t.cID).update(xhtml);t.refreshControls();}});PhotoBrowser=Class.create();Object.extend(Object.extend(PhotoBrowser.prototype,BaseObjectBrowser.prototype),{initialize:function(pS,nC,cID,lID,rID,bID){var t=this;t.baseInit(lID,rID,bID);t.cID=cID;t.pS=pS;t.eC=(((nC%t.pS)==1?nC-1:nC)/t.pS)+((nC%t.pS)==1?1:0);},addElement:function(){},moveElement:function(){var t=this;var xhtml='';var i,b=t.c*t.pS;for(i=0;i<t.pS;i++){try {xhtml+="<li>"+$('photoRollerE'+(i+b)).innerHTML+"</li>";}catch(e){}}$(t.cID).update(xhtml);t.refreshControls();}});function pageNavigate(st,ps){var bU=document.location.pathname;var page=parseInt(ps,10)-1;var pN=",page=";var b=bU.indexOf(pN);var nI,oI,nL;if(b>0){oI=parseInt(bU.substring(b+pN.length,bU.lastIndexOf('.')),10);}else{oI=1;b=bU.indexOf('.htm')}nI=oI+parseInt(st,10);if(nI<=0)nI=1;nL=bU.substring(0,b);if(nI>1)nL+=pN+nI+'.htmx';else nL+='.html';window.location.href=nL;}var HashListener=function(acceptVoid){this.initialize(acceptVoid);};HashListener.prototype={getHash:function(){try{return location.hash.substring(1)}catch (e){return '';}},initialize:function(acceptVoid){var t=this;t.l=new Array();t.cE=false;t.h=t.getHash();if(acceptVoid===undefined||acceptVoid==null)acceptVoid=false;t.aV=acceptVoid;t.tm=setInterval(t.onTimer.bind(t),200);},addListner:function(lf){this.l.push(lf);},onTimer:function(){var t=this;if(!t.cE){try {if(t.h!=t.getHash()&&(t.getHash()!=''||t.aV)){t.h=t.getHash();t.cE=true;t.l.each(function(n){n(t.h);});}} finally {t.cE=false;}}}}var HashUpdater=function(tID,buildPathFunc,beforeChangeFunc,opt,afterChangeFunc){this.initialize(tID,buildPathFunc,beforeChangeFunc,opt,afterChangeFunc);};HashUpdater.prototype={initialize:function(tID,buildPathFunc,beforeChangeFunc,opt,afterChangeFunc){var t=this;t.tID=tID;t.bPF=buildPathFunc;t.bCF=beforeChangeFunc;t.aCF=afterChangeFunc;t.opt=opt;t.hel=new Array();},addHash:function(h){this.hel.push(h);},onHash:function(h) {var t=this;t.h=h;try{t.bCF(t);}catch(e){};var u=t.bPF(h,t);if(u==null||u==undefined||u.length==0) return;$j('#' +t.tID).load(u,function(){try{t.aCF(t);}catch (e) {}});},onComplete:function() {try{this.aCF(this);}catch (e) {}},checkHash:function(h) {for (var i=0;i<this.hel.length;i++)if(this.hel[i]==h)return true;return false;},start:function(sH) {var t=this;t.hl=new HashListener();t.hl.addListner(t.onHash.bind(t));var h=t.hl.getHash();if((h===undefined||h==null||h=='')&&t.hel.length>1){if(sH!=null&&sH!=undefined&&sH.length>0)h=sH;else{var i=Math.ceil(((Math.random()+0.1)*t.hel.length)-1);if(i<0||i>=t.hel.length) i=0;h =t.hel[i];}}else if((h===undefined||h==null||h=='')&&t.hel.length==1){h=t.hel[0];}try{t.bCF(t);}catch(e){};t.onHash(h);}}var Cookie={setRaw:function(n,v,daysToExp,pg){var ex='';try{if(getUOpt('pl')!='1'){if(daysToExp!=undefined){var d=new Date();d.setTime(d.getTime()+(86400000*parseFloat(daysToExp)));ex=';expires='+d.toGMTString();}}}catch(e){}if(pg!=undefined){if(pg!='.')ex+=';path='+pg;}else {ex+=';path=/';}if(cookieDomain!==undefined&&cookieDomain!=null&&cookieDomain!='')ex +=";domain="+cookieDomain;return(document.cookie=escape(n)+'='+(v||'')+ex);},set:function(n,v,daysToExp,pg){return this.setRaw(n,escape(v||''),daysToExp,pg);},get:function(n){var c=document.cookie.match(new RegExp('(^|;)\\s*'+escape(n)+'=([^;\\s]*)'));return(c?unescape(c[2]):null);},erase:function(n,pg){var c=Cookie.get(n)||true;Cookie.set(n,'',-1,pg);return c;},accept:function(){if(typeof(navigator.cookieEnabled)=='boolean'){return navigator.cookieEnabled;}Cookie.set('_t','1');return(Cookie.erase('_t')==='1');}};var bLoggedIn=false;var bNeedAutentication=false;function initAutentication(bAuthNeeded) { bNeedAutentication=bAuthNeeded;}function login() {var c=Cookie.get('FIFAComClub');bLoggedIn=false;if(c!=null&&c!==undefined){try{if(c.toQueryParams().un.length>0)bLoggedIn=true}catch(e){}}if(!bLoggedIn) {try{$('aut_notSI').show();} catch(e) {}return;}try {$('currUser').update(c.toQueryParams().un);$('aut_SI').show();$('aut_notSI').hide();} catch(e) {}changeAbsLink('#navBarBottom','/theclub/index.html','/theclub/myprofile/index.htmx');var w=Cookie.get('warned');if(w==null||w==undefined||w!="true") {checkIfWarned();}}function checkIfWarned() {$j.getJSON("/theclub/checkeduid.txt",function(data) {try {if(data.warned.indexOf(Cookie.get('FIFAComClub').toQueryParams().id)!=-1) {window.location.href='/theclub/tools/changescreenname.htmx?redirect=' + window.location;}} catch (e) { }});}function redirectToChangeScreenname(originalResponse){if(originalResponse.responseText==1){window.location.href='/users/profile/changescreenname.htmx';}}function logout(){Cookie.erase('FIFAComClub');Cookie.erase('warned');bLoggedIn=false;try {$('aut_SI').hide();$('aut_notSI').show();$('currUser').update(' ');} catch(e) {}changeAbsLink('#navBarBottom','/theclub/myprofile/index.htmx','/theclub/index.html');if(bNeedAutentication)document.location.href="/";elsedocument.location.href=document.location.href;}function logoutBar() {if(getUOpt("FBUID")===undefined||getUOpt("FBUID")==null){internalLogoutBar();return;}try {FB.Connect.get_status().waitUntilReady(function(status) {if(status==1) {FB.Connect.logout(function(){internalLogoutBar();});}else{internalLogoutBar();}});setTimeout("internalLogoutBar()",5000);}catch(e) {setTimeout("internalLogoutBar()",2000);}}function internalLogoutBar() {Cookie.erase('FIFAComClub');Cookie.erase('warned');bLoggedIn=false;try {$('aut_SI').hide();$('pLogin').hide();$('Logged').hide();$('noLogged').show();$('lnkLogged').hide();} catch(e) {}changeAbsLink('#navBarBottom','/theclub/myprofile/index.htmx','/theclub/index.html');if(bNeedAutentication)document.location.href="/";elsedocument.location.href=document.location.href;}function forceLogout() {Cookie.erase('FIFAComClub');Cookie.erase('warned');bLoggedIn=false;$j("#noLogged").show();$j("#logged").hide();}function getUOpt(opt){var c=Cookie.get('FIFAComClub');if(c==null||c==undefined) return '';var v=eval('c.toQueryParams().'+opt);if(v==null||v==undefined) return '';return v;}function myfifacom() {if(getUOpt('un')=='') {$('myfifacom').addClassName('loginteaser');$('mfc').hide();$('mfcNO').show();new Ajax.Updater({ success:'mfcNO' },'/users/library/_loginteaser.html',{ method:'get',evalScripts:true });return;}if((getUOpt('m1') + '').length<3&&(getUOpt('m2') + '').length<3&&(getUOpt('m3') + '').length<3&&(getUOpt('n1') + '').length<3&&(getUOpt('n2') + '').length<3&&(getUOpt('n3') + '').length<3) {$('myfifacom').addClassName('loginteaser');$('mfc').hide();$('mfcNO').show();new Ajax.Updater({ success:'mfcNO' },'/users/library/_personalizeteaser.html',{ method:'get',evalScripts:true });return;}var h='';var m='';if(getUOpt('m1').length==3) { h += mfcMAli(getUOpt('m1'));if(m=='') m=getUOpt('m1');}if(getUOpt('m2').length==3) { h += mfcMAli(getUOpt('m2'));if(m=='') m=getUOpt('m2');}if(getUOpt('m3').length==3) { h += mfcMAli(getUOpt('m3'));if(m=='') m=getUOpt('m3');}if(m!='') { $('mfcMANav').update('<ul>' + h + '</ul>');mfcMAChange(m);}h='';m='';if(getUOpt('n1').length==3) { h += mfcNLli(getUOpt('n1'));if(m=='') m=getUOpt('n1');}if(getUOpt('n2').length==3) { h += mfcNLli(getUOpt('n2'));if(m=='') m=getUOpt('n2');}if(getUOpt('n3').length==3) { h += mfcNLli(getUOpt('n3'));if(m=='') m=getUOpt('n3');}if(m!='') { $('mfcNLNav').update('<ul>' + h + '</ul>');mfcNLChange(m);}$('mfcNO').hide();$('myfifacom').removeClassName('loginteaser');$('mfc').show();if(getUOpt('m1').length==3)$(getUOpt('m1')).addClassName('current');if(getUOpt('n1').length==3)$('n' + getUOpt('n1')).addClassName('current');try { new Ajax.Request('/userdata/games/worldcupfantasyfootball/' + getUOpt('ac') + '.txt',{ method:'get',onComplete:showWCFPoints });} catch (e) { }try { new Ajax.Request('/userdata/games/worldcuppredictor/' + getUOpt('ac') + '.txt',{ method:'get',onComplete:showWCPPoints });} catch (e) { }try { new Ajax.Request('/userdata/games/worldleaguespredictor/' + getUOpt('ac') + '.txt',{ method:'get',onComplete:showWLPoints });} catch (e) { }}function mfcMAli(v){var i='<img src=\'/imgml/flags/s/'+v+'.gif\' height="13" width="19" alt="'+v+'" />'return '<li id="'+ v +'"><a href="javascript:mfcMAChange(\''+v+'\')"><span>'+v+'</span>'+i+'</a></li>'}function mfcNLli(v){var i='<img src=\'/imgml/flags/s/'+v+'.gif\' height="13" width="19" alt="'+v+'" />'return '<li id="n'+ v +'"><a href="javascript:mfcNLChange(\''+v+'\')"><span>'+v+'</span>'+i+'</a></li>'}function mfcMAChange(m){try{$(getUOpt('m1')).removeClassName('current');}catch(e){}try{$(getUOpt('m2')).removeClassName('current');}catch(e){}try{$(getUOpt('m3')).removeClassName('current');}catch(e){}$(m).addClassName('current');new Ajax.Updater({success:'mfcMACont'},'/associations/association='+m+'/library/_myfifaclub.html',{method:'get'});}function mfcNLChange(m){try{$('n'+getUOpt('n1')).removeClassName('current');}catch(e){}try{$('n'+getUOpt('n2')).removeClassName('current');}catch(e){}try{$('n'+getUOpt('n3')).removeClassName('current');}catch(e){}$('n'+m).addClassName('current');new Ajax.Updater({success:'mfcNLCont'},'/associations/association='+m+'/library/_myfifaclubnatleague.html',{method:'get'});}function showWCFPoints(originalRequest){try{var j=eval('('+originalRequest.responseText+')')$('wcfPosition').update(j.rank);$('wcfPoints').update(j.points);$('wcFantasy').show();}catch(e){}}function showWCPPoints(originalRequest){try{var j=eval('('+originalRequest.responseText+')')$('wcpPosition').update(j.rank);$('wcpPoints').update(j.points);$('wcPredictor').show();}catch(e){}}function showWLPoints(originalRequest){try{var j=eval('('+originalRequest.responseText+')')$('wlpPosition').update(j.rank);$('wlpPoints').update(j.points);$('wlPredictor').show();}catch(e){}}function showFIWCPoints(originalRequest){try{var j=eval('('+originalRequest.responseText+')')if(j.r){$('mfcFIWCPosition').update(j.r);$('mfcFIWCPoints').update(j.p);$('mfcFIWC').show();}}catch(e){}}function myfifacomWf(){if(getUOpt('un')==''){$('mfc').hide();$('mfcNO').show();$('dComm').show();new Ajax.Updater({success:'mfcNO'},'/worldfootball/clubfootball/_MA_fixturesresults.html',{method:'get',evalScripts:true});return;}$('dComm').hide()if(getUOpt('n1')==''||getUOpt('n2')==''||getUOpt('n3')==''){$('dComm').show()}$('mfc').show();var h='';var m='';if(getUOpt('n1').length==3){h+=mfcMAliWf(getUOpt('n1'));if(m=='')m=getUOpt('n1');}if(getUOpt('n2').length==3){h+=mfcMAliWf(getUOpt('n2'));if(m=='')m=getUOpt('n2');}if(getUOpt('n3').length==3){h+=mfcMAliWf(getUOpt('n3'));if(m=='')m=getUOpt('n3');}if(m!=''){$('mfcMANav').update('<ul>'+h+'</ul>');mfcMAChangeWf(m);}h='';m='';$('mfcNO').hide();}function mfcMAliWf(v){var i='<img src=\'/imgml/flags/s/'+v+'.gif\' height="13" width="19" alt="'+v+'" />'return '<li id="'+ v +'"><a href="javascript:mfcMAChangeWf(\''+v+'\')"><span>'+v+'</span>'+i+'</a></li>'}function mfcMAChangeWf(m){$(getUOpt('n1')).removeClassName('current');$(getUOpt('n2')).removeClassName('current');$(getUOpt('n3')).removeClassName('current');$(m).addClassName('current');new Ajax.Updater({ success:'mfcMACont' },'/worldfootball/clubfootball/association=' + m + '/_MA_fixturesresults.html',{ method:'get' });}var MyClubRHN={init:function() {if(getUOpt('un')=='') {} else if(getUOpt('pl')=='1') {$j('#myfifacom_nologin #teaserTitle').hide();var avatarUrl="/userdata/" + splitResourceId(getUOpt('id'),3) + "/avatar_24.png";$j('#myfifacom_nologin .myAvatar').html("<div><img src='" + avatarUrl + "' /></div>");$j('#myfifacom_nologin .myName').html(getUOpt('un'));$j('#myfifacom_nologin .myCountry').html(getUOpt('ct'));$j('#myfifacom_nologin .myProfile').show();$j('#myfifacom_nologin a#takeTheTour').hide();$j('#myfifacom_nologin a#activation').show();} else {$j('#myfifacom_nologin').hide();var avatarUrl="/userdata/" + splitResourceId(getUOpt('id'),3) + "/avatar_24.png";$j('#myfifacom_content .myAvatar').html("<div><img src='" + avatarUrl + "' /></div>");$j('#myfifacom_content .myName').html(getUOpt('un'));$j('#myfifacom_content .myCountry').html(getUOpt('ct'));$j('#myfifacom_nologin .myProfile').show();$j('#myfifacom_content #myGames').load('/library/home/_mygames.html');if((getUOpt('m1') + '').length<3&&(getUOpt('m2') + '').length<3&&(getUOpt('m3') + '').length<3)MyClubRHN.tolInit('m1',getUOpt('ct'));elseMyClubRHN.tolInit('m1');MyClubRHN.tolInit('m2');MyClubRHN.tolInit('m3');if((getUOpt('n1') + '').length<3&&(getUOpt('n2') + '').length<3&&(getUOpt('n3') + '').length<3)MyClubRHN.tolInit('n1',getUOpt('ct'));elseMyClubRHN.tolInit('n1');MyClubRHN.tolInit('n2');MyClubRHN.tolInit('n3');MyClubRHN.tolSelect('t');$j('#myfifacom_content #myClubNews .iC').load('/theclub/library/_clubnewshp.html');$j('#myfifacom_content').ajaxStop(function() {$j('#myfifacom_content').show();});}},tolInit:function(strId,id) {if(id==null||id=='')id=getUOpt(strId);if(id.length!=3) {$j('li#' + strId).hide();} else {var lnk=$j('li#' + strId + ' a');lnk.html("<img width='19' height='13' src='/imgml/flags/s/" + id + ".gif'><span>" + id + "</span>");lnk.attr('href',"javascript:MyClubRHN.tolUpdate('" + strId + "','" + id + "');");if(strId=='m1'||strId=='n1')MyClubRHN.tolUpdate(strId,id);}},tolUpdate:function(strId,id) {if(strId=="m1"||strId=="m2"||strId=="m3") {$j('#myTeamsFlags li').removeClass('current');$j('#myTeamsFlags li#' + strId).addClass('current');$j('#myTeams').load('/associations/association=' + id + '/library/_myfifaclub.html');} else if(strId=="n1"||strId=="n2"||strId=="n3") {$j('#myLeaguesFlags li').removeClass('current');$j('#myLeaguesFlags li#' + strId).addClass('current');$j('#myLeagues').load('/associations/association=' + id + '/library/_myfifaclubnatleague.html');}},tolSelect:function(opt) {if(opt=='l') {$j('#tol_t').removeClass('current');$j('#tol_l').addClass('current');$j('#myTeamsFlags').hide();$j('#myLeaguesFlags').show();$j('#myTeams').hide();$j('#myLeagues').show();} else {$j('#tol_t').addClass('current');$j('#tol_l').removeClass('current');$j('#myTeamsFlags').show();$j('#myLeaguesFlags').hide();$j('#myTeams').show();$j('#myLeagues').hide();}},showGameResults:function(service,datafile) {UserServices.showGameResults(service,datafile);}}function opPopup(mode) {if(mode=='logged') {$('popup_login').show();$('pLogin').show();$('qlLogged').show();$('a_upLogged').show();$('i_upLogged').show();$('a_downLogged').hide();$('i_downLogged').hide();$('lnkLogged').addClassName('current');$('lnkLogged').removeClassName('lnk');$('lnkLogged').removeClassName('logged');return;}$('popup_login').show();$('pLogin').show();$('a_down').hide();$('i_down').hide();$('a_up').show();$('i_up').show();$('loginTheclub').show();$('lnkLog').addClassName('current');$('lnkLog').removeClassName('lnk');}function clPopup(mode) {if(mode=='logged') {$('popup_login').hide();$('pLogin').hide();$('a_downLogged').show();$('i_downLogged').show();$('a_upLogged').hide();$('i_upLogged').hide();$('lnkLogged').removeClassName('current');$('lnkLogged').addClassName('lnk');return;}try {$('popup_login').hide();$('pLogin').hide();$('a_down').show();$('i_down').show();$('a_up').hide();$('i_up').hide();$('lnkLog').removeClassName('current');$('lnkLog').addClassName('lnk');} catch (e) { }}function onLogin() {var c=Cookie.get('FIFAComClub');bLoggedIn=false;if(c!=null&&c!==undefined) {try { if(c.toQueryParams().un.length>0) bLoggedIn=true;$('Logged').hide();}catch (e) { }}if(!bLoggedIn){$('aut_SI').hide();$('Logged').hide();$('noLogged').show();return;}$('noLogged').hide();$('Logged').show();if($('popup_login')) $('popup_login').hide();if($('cUser')) $('cUser').update(c.toQueryParams().un);if($('cUser2')) $('cUser2').update(c.toQueryParams().un);changeAbsLink('#navBarBottom','/theclub/index.html','/theclub/myprofile/index.htmx');if($j("#level1.theClubHeader").size()>0) {$("level1").onclick="";$j("#level1.theClubHeader").click(function() { document.location.href='/theclub/myprofile/index.htmx';});$j("#lev1Menu a[href$='/theclub/index.html']").attr("href","/theclub/myprofile/index.htmx");}var w=Cookie.get('warned');if(w==null||w==undefined||w!="true") {checkIfWarned();}return;}function cleanLogin() {try {var e=$('cp_email');if(e.hasClassName('toclean')) {e.removeClassName('toclean');e.value='';}var p=$('cp_password');if(p.hasClassName('toclean')) {p.removeClassName('toclean');p.value='';}} catch (exc) { }}function changeAbsLink(sel,oldU,newU) {try {var el=$j(sel + ' a[href$=' + oldU + ']');var u=el.attr('href');u=u.substring(0,u.indexOf(oldU)) + newU;el.attr('href',u);} catch(e) {}}function splitResourceId(id,splitLen) {var ret='';id=id.toString();if(id!='') {for (var i=0;i<(id.length - id.length % splitLen) / splitLen;i++) {ret += id.substr(i * splitLen,splitLen) + '/';}if(i * splitLen<id.length) ret += id.substr(i * splitLen) + '/';ret=ret.slice(0,-1);}return ret;}var Rating={id:0,rt:0,idtype:0,vote:0,isgot:0,init:function(elementID,videoMode) {this.id=elementID;this.idtype=0;this.videoMode=(videoMode===undefined||videoMode==null) ? false:videoMode;var u="/newscentre/rating/news/" + splitResourceId(this.id,idSplitLen) + "/votes.xml?rnd=" + Math.random();var a=new Ajax.Request(u,{ method:'get',onComplete:Rating.onCallBack });},initFG:function(elementID,videoMode,lang) {this.id=elementID;this.idtype=1;this.videoMode=(videoMode===undefined||videoMode==null) ? false:videoMode;var u;if(lang=='ar') {u="/newscentre/rating/_fg,id=" + this.id + ".xml?rnd=" + Math.random();}else {u="/newscentre/rating/photo/" + splitResourceId(this.id,idSplitLen) + "/votes.xml?rnd=" + Math.random();}var a=new Ajax.Request(u,{ method:'get',onComplete:Rating.onCallBack });},initVD:function(elementID,videoMode) {this.id=elementID;this.idtype=2;this.videoMode=(videoMode===undefined||videoMode==null) ? false:videoMode;var u="/newscentre/rating/video/" + splitResourceId(this.id,idSplitLen) + "/votes.xml?rnd=" + Math.random();var a=new Ajax.Request(u,{ method:'get',onComplete:Rating.onCallBack });},isAlreadyRated:function() {var c=Cookie.get("rate");if(c==null) return false;var v=eval('c.toQueryParams().v' + this.id);return (v==1);},rate:function(idx) {if(this.id>0&&idx>0&&this.isAlreadyRated()) return;var u="/newscentre/rating/rnd=" + Math.random() + "/_,id=" + this.id + ".htmx?t=" + this.idtype + "&v=" + idx;var a=new Ajax.Request(u,{ method:'get',onComplete:Rating.onCallBack,asynchronous:false });if(idx==0) return;var c=Cookie.get("rate");if(c!=null) { c += '&';} else { c='';}c += 'v' + this.id + '=1';Cookie.set('rate',c,1,'.');wAnalytics.onRatingSubmission();},rateGOT:function(elementID,idx) {this.id=elementID;this.idtype=0;this.vote=idx;this.isgot=1;this.rate(idx);},isAlreadyFanRated:function(_fanId) {var c=Cookie.get("rate");if(c==null) return false;var v=eval('c.toQueryParams().v' + _fanId);return (v==1);},onFanDisplay:function(photoId,newh) {var url=document.location.href;var a=url.split('#');document.location.href=a[0] + '#' + photoId;$('phGalleryFLashContainer').setStyle({ height:newh + 'px' })var x=-1;var c=Cookie.get("rate");if(c==null) { return 1;}var v=eval('c.toQueryParams().v' + photoId);if(v==1) { x=-1;} else { x=1;}return x;},fanRate:function(_fanId,_fanVote) {if(this.isAlreadyRated(_fanId)) return;var u="/newscentre/rating/rnd=" + Math.random() + "/_,fid=" + _fanId + ".htmx?t=" + 1 + "&v=" + _fanVote;var a=new Ajax.Request(u,{ method:'get',asynchronous:false });if(_fanVote==0) return;var c=Cookie.get("rate");if(c!=null) { c += '&';} else { c='';}c += 'v' + _fanId + '=1';Cookie.set('rate',c,100,'.');},onCallBack:function(originalResponse) {if(originalResponse.responseText=='') return;Rating.rt=parseFloat(originalResponse.responseText.toQueryParams().avg);var tx=originalResponse.responseText.toQueryParams().text;Rating.unhover();$j('#voteResults').html(tx.gsub("'",""));$j('#voteResults' + originalResponse.responseText.toQueryParams().id).html(tx.gsub("'",""));Rating.unhoverTop();$j('#voteResultsTop').html(tx.gsub("'",""));},getIconPath:function(icon) {if(this.videoMode)return "/imgml/videoplayer/" + icon;elsereturn "/imgml/icons/" + icon;},hover:function(idx,elementID) {if(elementID) {this.id=elementID;this.idtype=0;}if(this.isAlreadyRated()) return;var i;for (i=1;i<=5;i++) {var src=this.getIconPath("starv.gif");if(i<=idx) src=this.getIconPath("starvs.gif");$j("#star_" + i + (elementID ? elementID:'')).attr("src",src);}},hoverTop:function(idx) {if(this.isAlreadyRated()) return;var i;for (i=1;i<=5;i++) {var src=this.getIconPath("starv.gif");if(i<=idx) src=this.getIconPath("starvs.gif");$j("#starTop_" + i).attr("src",src);}},unhover:function(elementID,currentRt) {var i;var newRt;if(elementID) {if(!currentRt) currentRt=0;if(this.vote!=0) {newRt=this.rt;}else {if(this.isAlreadyRated()) return;newRt=currentRt;}this.vote=0;}else {newRt=this.rt;}for (i=1;i<=5;i++) {var im=(Math.round(newRt)>=i) ? "star1.gif":"star0.gif";$j("#star_" + i + (elementID ? elementID:'')).attr("src",this.getIconPath(im));}},unhoverTop:function() {var i;for (i=1;i<=5;i++) {var im=(Math.round(this.rt)>=i) ? "star1.gif":"star0.gif";$j("#starTop_" + i).attr("src",this.getIconPath(im));}}}var Comment={newsId:0,idResourceClass:0,idCupSeason:0,resourceTitle:"",nComments:0,nParents:0,nPages:1,currPage:1,urlc:null,autoOpenForm:false,init:function(newsId) {var options;var latest;if(typeof arguments[1]=="object") {options=arguments[1];}else {options={};latest=arguments[1];}var idrc=options.idresourceclass||null;var idcs=options.idcupseason||null;var resTitle=options.resourceTitle||null;var urlc=options.urlc||null;this.urlc=urlc;this.newsId=newsId;if(latest==undefined) {if((idrc==null)||(idrc==19000001)||(idrc==19000018)) {var u="/newscentre/comment/" + splitResourceId(this.newsId,idSplitLen) + "/index.html";if(!!urlc) {u=urlc;}var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayCommentsFirst });}else {this.idResourceClass=idrc;this.resourceTitle=resTitle;if(idcs==null) {var u="/library/footballdata/comments/resourceclass=" + this.idResourceClass + "/id=" + this.newsId + "/index.html";if(!!urlc) {u=urlc;}var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayCommentsFirst });}else {this.idCupSeason=idcs;var u="/library/footballdata/comments/tcode=" + this.idCupSeason + "/resourceclass=" + this.idResourceClass + "/id=" + this.newsId + "/index.html";if(!!urlc) {u=urlc;}var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayCommentsFirst });}}}if(Comment.autoOpenForm) {if(bLoggedIn) {Comment.addComments(Comment.newsId);}Comment.autoOpenForm=false;}},pageNavUpdate:function() {var pagesToShow=7;var start,end;var half=Math.floor(pagesToShow / 2);if(pagesToShow>=Comment.nPages) {start=1;end=Comment.nPages;} else if(Comment.currPage<=half) {start=1;end=pagesToShow;} else if(Comment.currPage>=Comment.nPages - half) {start=Comment.nPages - pagesToShow;end=Comment.nPages;} else {start=Comment.currPage - half;end=Comment.currPage + half;}var buf="";if(start>1) {buf += "<a href='javascript:Comment.changePage(1)'>1</a>";if(start>2) {buf += "<span>...</span>";}}for (var i=start;i<=end;i++) {if(i==Comment.currPage) {buf += "<span class='curr'>" + Comment.currPage + "</span>";} else {buf += "<a href='javascript:Comment.changePage(" + i + ")'>" + i + "</a>";}}if(end<Comment.nPages) {if(end<Comment.nPages - 1) {buf += "<span>...</span>";}buf += "<a href='javascript:Comment.changePage(" + Comment.nPages + ")'>" + Comment.nPages + "</a>";}$j("#cViewAll").html(buf);},changePage:function(newPage) {Comment.currPage=newPage;if((this.idResourceClass==0)||(this.idResourceClass==19000001)||(this.idResourceClass==19000018)) {if(newPage==1) {var u="/newscentre/comment/" + splitResourceId(this.newsId,idSplitLen) + "/index.html";var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayCommentsFirst });} else {var pageId=Comment.nPages - newPage + 1;var u="/newscentre/comment/" + splitResourceId(this.newsId,idSplitLen) + "/page=" + pageId + ".html";var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayComments });}}else {if(this.idCupSeason==0) {if(newPage==1) {var u="/library/footballdata/comments/resourceclass=" + this.idResourceClass + "/id=" + this.newsId + "/index.html";var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayCommentsFirst });} else {var pageId=Comment.nPages - newPage + 1;var u="/library/footballdata/comments/resourceclass=" + this.idResourceClass + "/id=" + this.newsId + "/page=" + pageId + ".html";var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayComments });}}else {if(newPage==1) {var u="/library/footballdata/comments/tcode=" + this.idCupSeason + "/resourceclass=" + this.idResourceClass + "/id=" + this.newsId + "/index.html";var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayCommentsFirst });} else {var pageId=Comment.nPages - newPage + 1;var u="/library/footballdata/comments/tcode=" + this.idCupSeason + "/resourceclass=" + this.idResourceClass + "/id=" + this.newsId + "/page=" + pageId + ".html";var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayComments });}}}},displayCommentsFirst:function(originalResponse) {var d=$('comments_' + Comment.newsId);d.update(originalResponse.responseText);if(originalResponse.responseText=='') {$('listComment').hide();} else {Comment.nComments=parseInt($j(".totalC span").text());Comment.nParents=parseInt($j(".totalP").text());if(Comment.nParents>commentsPerPage) {if(Comment.nParents % commentsPerPage==0||Comment.nParents % commentsPerPage>commentsPerPage / 2) {Comment.nPages=Math.ceil(Comment.nParents / commentsPerPage);} else {Comment.nPages=Math.ceil(Comment.nParents / commentsPerPage) - 1;}Comment.pageNavUpdate();} else {Comment.nPages=1;}}},displayComments:function(originalResponse) {var d=$('comments_' + Comment.newsId);d.update(originalResponse.responseText);$j(".totalC span").text(Comment.nComments);Comment.pageNavUpdate();},toggleReplies:function(pId,higlighted) {var l;if(higlighted) {l=$j("#ch_" + pId + " .c_repliesCount");} else {l=$j("#c_" + pId + " .c_repliesCount");}if(l.hasClass("closed")) {l.removeClass("closed");} else {l.addClass("closed");}if(higlighted) {$j("#ch_replies_" + pId).toggle();} else {$j("#c_replies_" + pId).toggle();}},replyToComment:function(id,higlighted) {Comment.closeCommentsForm();if((Comment.idResourceClass==0)||(Comment.idResourceClass==19000001)||(Comment.idResourceClass==19000018)) {var u='/theclub/tools/comment/newsid=' + Comment.newsId + '/_comment.html';}else {if(this.idCupSeason==0) {var u="/library/footballdata/comments/resourceclass=" + Comment.idResourceClass + "/id=" + Comment.newsId + "/_comment.html";}else {var u="/library/footballdata/comments/tcode=" + Comment.idCupSeason + "/resourceclass=" + Comment.idResourceClass + "/id=" + Comment.newsId + "/_comment.html";}}if(bLoggedIn)$j.get(u,function(data) {if(higlighted) {$j("#replyh_" + id).html(data).show();} else {$j("#reply_" + id).html(data).show();}});else {var ru=document.location.pathname + '#insertcomment';document.location.href='/theclub/index.html?redirect=' + escape(ru)}},addComments:function(newsid,options,library) {var options;var library;if(typeof arguments[1]=="object") {options=arguments[1];}else {options={};library=arguments[1];}var idresourceclass=options.idresourceclass||null;var idcupseason=options.idcupseason||null;Comment.closeCommentsForm();var u;if((idresourceclass==null)||(idresourceclass==19000001)||(idresourceclass==19000018)) {if(!!library) {var u='/theclub/tools/comment/newsid=' + newsid + '/' + library;}else {var u='/theclub/tools/comment/newsid=' + newsid + '/_comment.html';}}else {if(idcupseason==null) {var u="/library/footballdata/comments/resourceclass=" + idresourceclass + "/id=" + newsid + "/_comment.html";}else {var u="/library/footballdata/comments/tcode=" + idcupseason + "/resourceclass=" + idresourceclass + "/id=" + newsid + "/_comment.html";}}if(bLoggedIn)var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayCommentsForm });else {var ru=document.location.pathname + '#insertcomment';document.location.href='/theclub/index.html?redirect=' + escape(ru)}},addMOMComments:function(newsid) {Comment.closeCommentsForm();var u='/theclub/tools/comment/newsid=' + newsid + '/_momcomments.html';if(bLoggedIn)var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayCommentsForm });else {var ru=document.location.pathname + '#insertcomment';document.location.href='/theclub/index.html?redirect=' + escape(ru)}},addCommentsHYS:function(newsid) {var u='/fanfest/tools/newsid=' + newsid + '/_hyscomment.html';if(bLoggedIn) {var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayCommentsForm });}else {var ru=document.location.pathname + '#insertcomment';document.location.href='/theclub/index.html?redirect=' + escape(ru)}},displayCommentsForm:function(originalResponse) {var d=$('form_comments_' + Comment.newsId);d.update(originalResponse.responseText);$('form_comments_' + Comment.newsId).show();},submitComments:function(linkObj) {if($j('#c_comment').val().length>1) {$j('btn_postNewsComment').disabled=true;var p=$j("#f_comment").parent().attr("id");var u;var idrc="";var idcs="";var resourceTitle="";if(this.idCupSeason>0) {idcs="&idcs=" + this.idCupSeason;}if(this.idResourceClass>0) {idrc="&idrc=" + this.idResourceClass;}if(!!this.resourceTitle&&this.resourceTitle!="") {resourceTitle="&resTitle=" + this.resourceTitle;}u="/theclub/tools/comment/_comment.htmx";if(p.indexOf("reply_")==0) {$j.ajax({ type:"POST",url:encodeURI(u),data:"btn_Save=save&n=" + this.newsId + idrc + idcs + resourceTitle + "&p=" + p.substring(6) + "&c_comment=" + $j('#c_comment').val(),error:function(msg) { Comment.onSaveComments(msg);},success:function(msg) { Comment.onSaveComments(msg);}});} else if(p.indexOf("replyh_")==0) {$j.ajax({ type:"POST",url:encodeURI(u),data:"btn_Save=save&n=" + this.newsId + idrc + idcs + resourceTitle + "&p=" + p.substring(7) + "&c_comment=" + $j('#c_comment').val(),error:function(msg) { Comment.onSaveComments(msg);},success:function(msg) { Comment.onSaveComments(msg);}});} else {$j.ajax({ type:"POST",url:encodeURI(u),data:"btn_Save=save&n=" + this.newsId + idrc + idcs + resourceTitle + "&c_comment=" + $j('#c_comment').val(),error:function(msg) { Comment.onSaveComments(msg);},success:function(msg) { Comment.onSaveComments(msg);}});}wAnalytics.onCommentSubmission(linkObj);}},onSaveComments:function(message) {if(message.indexOf('error')!=-1) {var s='<div class="commentError"><div class="cEIC">';s += message.toQueryParams().error.gsub('\'','');s += '</div></div>'var d=$j('#form_comments_' + Comment.newsId);if(d.css("display")=="none") {d=$j(".replyForm:visible");}d.html(s);}else if(message.indexOf('warning')!=-1) {var s='<div class="commentWarn"><div class="cEIC">';s += message.toQueryParams().warning.gsub('\'','');s += '</div></div>'var d=$j('#form_comments_' + Comment.newsId);if(d.css("display")=="none") {d=$j(".replyForm:visible");}d.html(s);}else {Comment.closeCommentsForm();var u=null;if(this.idResourceClass==0) {u="/newscentre/comment/" + splitResourceId(this.newsId,idSplitLen) + "/index.html";}else {if(this.idCupSeason==0) {u="/library/footballdata/comments/resourceclass=" + this.idResourceClass + "/id=" + this.newsId + "/index.html";}else {u="/library/footballdata/comments/tcode=" + this.idCupSeason + "/resourceclass=" + this.idResourceClass + "/id=" + this.newsId + "/index.html";}}if(!!u) {var a=new Ajax.Request(u,{ method:'get',onComplete:Comment.displayComments });}}},closeCommentsForm:function() {$j('#form_comments_' + Comment.newsId).html(" ").hide();$j('.replyForm').html(" ").hide();},textLimit:function(obj) {var len=obj.value.split(/[\s]+/);if(len.length>0) {if(numWordsComment - (len.length - 1)>=0) {$('c_count').value=numWordsComment - (len.length - 1);}else$('c_count').value=0;}counter=len.length - 1;if(len.length>numWordsComment) {objvalue=obj.value.split(/[\s]+/);var newval='';for (var m=0;m<numWordsComment;m++) {newval += objvalue[m] + ' ';}obj.value='';obj.value=newval;return false;}return true;},textLimitPar:function(obj,wordLimit) {if(wordLimit==0) {wordLimit=numWordsComment;}var len=obj.value.split(/[\s]+/);if(len.length>0) {if(wordLimit - (len.length - 1)>=0) {$('c_count').value=wordLimit - (len.length - 1);}else$('c_count').value=0;}counter=len.length - 1;if(len.length>wordLimit) {objvalue=obj.value.split(/[\s]+/);var newval='';for (var m=0;m<wordLimit;m++) {newval += objvalue[m] + ' ';}obj.value='';obj.value=newval;return false;}return true;}}function numComments(ncomments) {if(!ncomments) {ncomments=$j(".totalC span").text();if(ncomments.length==0) ncomments=$j("#dummyComm .count span").text();}$j("#frmComments span,div.stb-comments span").text(ncomments);}var CommentManager={init:function(id) {var u2=null;var options;if(typeof arguments[1]=="object") {options=arguments[1];}else {options={};}var idrc=options.idresourceclass||null;var idcs=options.idcupseason||null;var urlc=options.urlc||null;if(!!urlc) {u2=urlc;}else {if(idrc==null) {u2="/newscentre/comment/" + splitResourceId(id,idSplitLen) + "/highlighted.html";}else {if(idcs==null) {u2="/library/footballdata/comments/resourceclass=" + idrc + "/id=" + id + "/highlighted.html";}else {u2="/library/footballdata/comments/tcode=" + idcs + "/resourceclass=" + idrc + "/id=" + id + "/highlighted.html";}}}if(!!u2) {$j('#commTab2').load(u2,function(data) {if(data.toString().length>3) {CommentManager.startTab();}});}},startTab:function() {$j('#commTab2a').show();$j('.tabs').removeClass('singleTab');if(window.location.href.split('#')[1]=='highlighted')this.switchTab(2);else if(window.location.href.split('#')[1]=='insertVidCom') {this.switchTab(1);} else {this.switchTab(1);}},switchTab:function(id) {if(id==1) {$j('#commTab1').show();$j('#commTab2').hide();$j('.tabs').removeClass('tabsDue');$j('.commFrm').show();} else {$j('#commTab2').show();$j('#commTab1').hide();$j('.tabs').addClass('tabsDue');$j('.commFrm').hide();}}}var CommentPreview={init:function(id,numComments) {var url="/newscentre/comment/" + splitResourceId(id,idSplitLen) + "/index.html";$j("#commPreviewContainer").load(url,function() {var nc=$j(".totalC span").html();if(nc&&nc>0) {$j("#commPreviewContainer .title,#commPreviewContainer .c_repliesCount,#commPreviewContainer .c_replies,#commPreviewContainer .replyForm,#commPreviewContainer .c_reply").remove();if(numComments) {$j("#commPreviewContainer .comment:gt(" + (numComments - 1) + ")").remove();}$j(".num #commentsNum").html($j(".num #commentsNum").html().replace(/0/,nc));$j("#allComments").show();} else {$j("#commPreviewContainer").hide();$j("#noComments").show();}$j("#cViewAll").remove();$j("#commPreviewContainer .totalC").remove();});}}var newPoll={voteInProgress:0,Load:function(id,pid,lib) {var d='#dynamic_' + id;if(newPoll.hasVoted(pid)==false) {if(!lib) lib='vote.html';var u='/theclub/polls/pollid=' + id + '/' + lib;$j(d).load(u);$j(d).ajaxStop(function() {$j(d).hide();$j(d).show();});} else {newPoll.ViewResult(id,pid);}},LoadHYShp:function(id,pid) {var d='#dynamic_' + id;var u='/theclub/polls/pollid=' + id + '/vote.html'$j(d).load(u);},ViewResult:function(id,pid,lib) {var bCanVote=(newPoll.hasVoted(pid)==false);if(!lib) lib='result.html';$j('#dynamic_' + id).load('/theclub/polls/pollid=' + id + '/' + lib,null,function() {if(bCanVote) {$j('.pollReturnToVote').show();} else {$j('.pollReturnToVote').hide();}});},ViewResultLang:function(lang,nVotes) {$j('.pollResWrapper').hide();$j('.pollResWrapper.lang_' + lang).show();$j('.pollAnswerNavigation li.current').removeClass('current');$j('.pollAnswerNavigation li.lang_' + lang).addClass('current');},Vote:function(id) {var d='#dynamic_' + id;if($j('#f_poll' + id + ' input[name=i_answers]:checked').val()==null) {alert($j('#f_poll' + id + ' input[name=message]').val());return false;}var post='';$j('#f_poll' + id + ' input[type=button]').each(function() {post += $j(this).attr('name') + '=' + $j(this).val() + '&'});$j.post('/theclub/polls/pollid=' + id + '/vote.htmx',$j('#f_poll' + id).serialize() + '&' + post.slice(0,-1),function(data) { $j(d).replaceWith($j(data));});},VoteSingle:function(frm,id,post,redirect) {if(this.voteInProgress==1) return false;var frmId='#' + frm.id;frm.i_answer.value=id;if($j(frmId + ' input[name=i_AcceptTC]')!=null&&$j(frmId + ' input[name=tcMessage]').val()!=undefined&&$j(frmId + ' input[name=i_AcceptTC]:checked').val()==null) {alert($j(frmId + ' input[name=tcMessage]').val());return false;}this.voteInProgress=1;$j.post(post,$j(frmId).serialize(),function(data) {if(redirect) document.location.href=redirect;});},redirectVoted:function(id,url) {if(this.hasVoted(id)&&url!='') document.location.href=url;},hasVoted:function(id) {var pv=Cookie.get('pv');if(pv&&pv.indexOf('|' + id + '|')>=0) {return true;} else {var c=Cookie.get('poll' + id);if(c) {return true;} else {return false;}}}}var pollPuskas={Vote:function(id,vote) {$j.get('/classicfootball/awards/puskasaward/vote.htmx?pollId=' + id + '&strAnwerId=' + vote + '&btn_vote=btn_vote');$j('.puskasVideos .btnVote').hide();$j('.puskasVoted h1').remove();// ugly,i know...$j('.puskasVoted').show();},Load:function(id) {var d='dynamic_' + id;var c=Cookie.get('poll' + id);var u;if(c===undefined||c==null||c=='') {$j('.puskasVideos .btnVote').show();} else {$j('.puskasVoted h1').remove();// ugly,i know...$j('.puskasVoted').show();}}}var pollPuskas2010={Vote:function(frm,id,post) {var frmId='#' + frm.id;frm.i_answer.value=id;$j.post(post,$j(frmId).serialize(),function(data) {$j('.videopoll .btnVote').hide();$j('.videopoll .hasVoted').show();});},Load:function(id) {var d='dynamic_' + id;var c=Cookie.get('poll' + id);var u;if(c===undefined||c==null||c=='') {$j('.videopoll .btnVote').show();$j('.videopoll .hasVoted').hide();} else {}}}var gridPoll={Vote:function(frm,id,post) {var frmId='#' + frm.id;frm.i_answer.value=id;$j.post(post,$j(frmId).serialize(),function(data) {$j('.gridpoll .btnVote').hide();$j('.gridpoll .hasVoted').show();});},Load:function(id) {var d='dynamic_' + id;var c=Cookie.get('poll' + id);var u;if(c===undefined||c==null||c=='') {$j('.gridpoll .btnVote').show();$j('.gridpoll .hasVoted').hide();} else {}}}var kiaContestPoll={Vote:function(frm,id,post) {var frmId='#' + frm.id;frm.i_answer.value=id;$j.post(post,$j(frmId).serialize(),function(data) {$j('.gridpoll .btnVote').hide();$j('.gridpoll .hasVoted').show();kiaContestPoll.ChangeDescription();SharingToolsPopup.refresh()});},ChangeDescription:function() {var shareDescription=$j('#kiaContestShareMsg').val();$j("meta[name='description']").attr("content",shareDescription);}}var noResultPoll={voteInProgress:0,Load:function(id,pid,lib,extLibResult) {var d='#dynamic_' + id;if(noResultPoll.hasVoted(pid)==false) {if(!lib) lib='vote.html';var u='/theclub/polls/pollid=' + id + '/' + lib;$j(d).load(u);$j(d).ajaxStop(function() {$j(d).hide();$j(d).show();});} else {$j('#dynamic_' + id).load('/theclub/polls/pollid=' + id + '/' + extLibResult);}},ViewResult:function(id,pid,lib) {var bCanVote=(noResultPoll.hasVoted(pid)==false);if(!lib) lib='result.html';$j('#dynamic_' + id).load('/theclub/polls/pollid=' + id + '/' + lib,null,function() {if(bCanVote) {$j('.pollReturnToVote').show();} else {$j('.pollReturnToVote').hide();}});},ViewResultLang:function(lang,nVotes) {$j('.pollResWrapper').hide();$j('.pollResWrapper.lang_' + lang).show();$j('.pollAnswerNavigation li.current').removeClass('current');$j('.pollAnswerNavigation li.lang_' + lang).addClass('current');},Vote:function(id,hVote) {var d='#dynamic_' + id;if(!hVote) hVote='vote.htmx';if($j('#f_poll' + id + ' input[name=i_answers]:checked').val()==null) {alert($j('#f_poll' + id + ' input[name=message]').val());return false;}var post='';$j('#f_poll' + id + ' input[type=button]').each(function() {post += $j(this).attr('name') + '=' + $j(this).val() + '&'});$j.post('/theclub/polls/pollid=' + id + '/' + hVote,$j('#f_poll' + id).serialize() + '&' + post.slice(0,-1),function(data) { $j(d).replaceWith($j(data));});},VoteSingle:function(frm,id,post,redirect) {if(this.voteInProgress==1) return false;var frmId='#' + frm.id;frm.i_answer.value=id;if($j(frmId + ' input[name=i_AcceptTC]')!=null&&$j(frmId + ' input[name=tcMessage]').val()!=undefined&&$j(frmId + ' input[name=i_AcceptTC]:checked').val()==null) {alert($j(frmId + ' input[name=tcMessage]').val());return false;}this.voteInProgress=1;$j.post(post,$j(frmId).serialize(),function(data) {if(redirect) document.location.href=redirect;});},redirectVoted:function(id,url) {if(this.hasVoted(id)&&url!='') document.location.href=url;},hasVoted:function(id) {var pv=Cookie.get('pv');if(pv&&pv.indexOf('|' + id + '|')>=0) {return true;} else {var c=Cookie.get('poll' + id);if(c) {return true;} else {return false;}}}}var _sf_startpt=(new Date()).getTime();var redirectPhotoMobile=false;var mobilePhotoUrlBase="/newscentre/photo/{photoid}/picture.html";if(titlePrefixReverse&&document.title.indexOf("FIFA.com - ")==0) {document.title=document.title.replace("FIFA.com - ","") + " - FIFA.com";}if(typeof console==="undefined"||typeof console.log==="undefined") console={ log:function() { } };if(parent.frames.length>0&&self.location.href.indexOf("/library/sharingtools/_iframe.html")==-1) {top.location.href=self.location.href;}function isPartnerSite() {return (typeof partnerSite!=="undefined")&&partnerSite;}(function() {var pageUrl=document.URL;var userAgent=navigator.userAgent;function isTouchDevice(userAgent) {if(/(iPhone|iPod|(Android.*Mobile)|(Mobile.*Android)|IEMobile\/|BlackBerry|webOS|Bada\/)/.test(userAgent)) {if(!isTabletDevice(userAgent)&&!/(Nexus 7|Silk|Android 3\.0)/.test(userAgent)) {return true;}}return false;}function isTabletDevice(userAgent) {return (userAgent.indexOf("Tablet")!=-1)}function isKeyboardDevice(userAgent) {if(/(SymbianOS\/|Nokia|SAMSUNG-|Samsung-|SonyEricsson|Ericsson|MOT-|LG-|LGE-|LG\/|HTC-|Opera Mini\/|SGH-|SCH-|SEC-|Alcatel-|SIE-|DoCoMo\/|portalmmm\/|KDDI-|Sagem-|Windows CE|HTC_)/.test(userAgent)) {return true;} return false;}function isRedirectEnabled(pageUrl) {if(siteLang=='ru'||siteLang=='it') {return false;} else if(pageUrl.indexOf('mobile=true')>-1) { // Redirect querystringreturn false;} else if(document.referrer.indexOf('.fifa.com/')>-1) { // Referrer is already FIFA.comreturn window.location.search&&window.location.search.indexOf('referrer=no')>-1;} else if(pageUrl.indexOf('/aboutfifa/')>-1||pageUrl.indexOf('/classicfootball/')>-1||pageUrl.indexOf('/worldfootball/statisticsandrecords/')>-1) { // Redirect exceptionsreturn false;}return true;}function isPhotoUrl(pageUrl) {if((pageUrl.indexOf("/photo")!=-1)&&(pageUrl.indexOf("index.html")==-1)) {return true;}return false;}function getMobilePhotoUrl(pageUrl,mobileType) {var mobileUrl="";var mobilePhotoUrl=mobilePhotoUrlBase;var pageHash=pageUrl.substring(pageUrl.indexOf("#") + 1);var photoid="";if(pageHash!="") {if(!isNaN(pageHash)) {photoid=pageHash;}}if(photoid=="") {var exp=new RegExp("(?=photo.*\\d.picture.html)");if(exp.test(pageUrl)) {photoid=pageUrl.substring(pageUrl.lastIndexOf("photo/") + 6);photoid=photoid.substring(0,photoid.indexOf("/picture"));photoid=photoid.replace(/\//g,'');}}if(photoid!="") {mobilePhotoUrl=mobilePhotoUrl.replace(/{photoid}/,splitResourceId(photoid,3));if(siteLang=='en') {mobileUrl="http://" + mobileType + '.fifa.com' + mobilePhotoUrl;} else {mobileUrl="http://" + siteLang + '.' + mobileType + '.fifa.com' + mobilePhotoUrl;}}return mobileUrl;}function getMobileUrl(pageUrl,mobileType) {if(pageUrl.indexOf('.stg.fifa.com')!=-1){mobileUrl=pageUrl.replace(/[a-z]{2}\.stg.fifa\.com/,siteLang + '.' + mobileType + '.stg.fifa.com');}else if(siteLang=='en') {mobileUrl=pageUrl.replace('www.fifa.com',mobileType + '.fifa.com');}else {mobileUrl=pageUrl.replace(/[a-z]{2}\.fifa\.com/,siteLang + '.' + mobileType + '.fifa.com');}return mobileUrl.replace('?referrer=no','');}if(isPhotoUrl(pageUrl)) {if((siteLang=='en')||(siteLang=='de')||(siteLang=='fr')||(siteLang=='es')||(siteLang=='pt')||(siteLang=='ar')) {if(isTouchDevice(userAgent)&&isRedirectEnabled(pageUrl)) {var mobUrl=getMobilePhotoUrl(pageUrl,'touch');if(mobUrl!="") {document.location=mobUrl;} else {redirectPhotoMobile=true;}} else if(isKeyboardDevice(userAgent)&&isRedirectEnabled(pageUrl)) {var mobUrl=getMobilePhotoUrl(pageUrl,'m');if(mobUrl!="") {document.location=mobUrl;} else {redirectPhotoMobile=true;}}} // end if siteLang} else {if(isTouchDevice(userAgent)&&isRedirectEnabled(pageUrl)) {document.location=getMobileUrl(pageUrl,'touch');} else if(isKeyboardDevice(userAgent)&&isRedirectEnabled(pageUrl)) {document.location=getMobileUrl(pageUrl,'m');}}})();function setCSS(title) {$j("link[title='" + title + "']").each(function() {this.disabled=false});$j("link[title!='" + title + "']").each(function() {if($j(this).attr("title")) this.disabled=true;});}function switchCSS() {setCSS('standard');}var openCSS=function() {setCSS('standard');} ();var hbxPageName='',hbxContentCategory='',bHbxFT=true;function setHBXParameters(pn,cc) {hbxPageName=pn;hbxContentCategory=cc;}function invokeAjaxHBXPageView() {if(!bHbxFT)invokeHBXPageView(hbxPageName,hbxContentCategory);bHbxFT=false;}function invokeHBXPageView() {if(hbxPageName!=''&&hbxContentCategory!='') _hbPageView(hbxPageName,hbxContentCategory);}function _hbPageViewSponsored(pn,cc,sp) {if(pn!=''&&cc!='') _hbPageView(pn,cc);}function getHostName() { var s=document.location.href;s=s.replace(/(^[a-zA-z0-9]*:\/\/)/,'');s=s.replace(/(\/.*)/,'');return s;}function getUrlParams() { var s=document.location.href;if(s.indexOf('?')!=-1) return s.substring(s.indexOf('?') + 1);if(s.indexOf('#')!=-1) return s.substring(s.indexOf('#') + 1);return '';}function fnClearInput(inp,ot) { if(inp.value.toLowerCase()==ot.toLowerCase()) inp.value='';}function wpOpen(u) { window.location=u;return true;}function wpopenlower(u) { return wpOpen(u);}function openPopup(u,h,w) { window.open(u,'popup','width=' + w + ',height=' + h + ',resizable=no,scrollbars=no,location=no,menubar=no,status=no,toolbar=no') }function mcOpen(u) {var h='height=705';window.open(u,'popup','width=770,' + h + ',resizable=no,scrollbars=no,location=no,menubar=no,status=no,toolbar=no');}function mcWCQOpen(u) {window.open(u,'popup','width=885,height=705,resizable=no,scrollbars=no,location=no,menubar=no,status=no,toolbar=no');}function mcFriendOpen(u) {window.open(u,'popup','width=885,height=758,resizable=no,scrollbars=no,location=no,menubar=no,status=no,toolbar=no');}function mcFCCOpen(u) {document.location.href=u;}function resizeFWCQFlashPopUp(divId,h,w,resizeType) {var ua=navigator.userAgent.toLowerCase();var hNew,wNew;if(resizeType=='1') {$j('#prelmatchcast').css('visibility','visible');}else {$j('#prelmatchcast').css('visibility','hidden');}if(ua.indexOf("chrome")>-1) {if(resizeType=='1') window.resizeTo(Number(w) + Number(10),760);else window.resizeTo(Number(w) + Number(5),135);return;}if(ua.indexOf("msie 6")>-1) {if(resizeType=='1') window.resizeTo(Number(w) + Number(10),745);else window.resizeTo(Number(w),120);return;}var o=$j('#resizeReference');window.resizeTo(w,h);var hDiff=mcFWCQstartH - o.clientHeight;var wDiff=mcFWCQstartW - o.clientWidth;var hDiffmin=mcFWCQstartHmin - o.clientHeight;var wDiffmin=mcFWCQstartWmin - o.clientWidth;if(resizeType=='1') {hNew=Number(h) + Number(hDiff);wNew=Number(w) + Number(wDiff);window.resizeTo(wNew,hNew);}else if(resizeType=='2') {hNew=Number(h) + Number(hDiffmin - 20);wNew=Number(w) + Number(wDiffmin);window.resizeTo(wNew,hNew);}}function dcOpen() { window.open('/live/competitions/worldcup/preliminarydraw/drawcast.html','popup','width=885,height=700,resizable=no,scrollbars=no,location=no,menubar=no,status=no,toolbar=no');}var Tab={id:"",tab:0,Change:function(id,url,tab,callback) {Tab.id=id;Tab.tab=tab;$j.get(url,function(data) {$j("#" + id + "_content").html(data);$j("#" + id + " .current").removeClass("current");$j("#" + id + "_" + tab).addClass("current");if(typeof callback=='function') {callback();}});}}function toggleImg(obj,img1,img2) {if(obj.src.indexOf(img1)>0) {obj.src=img2;} else {obj.src=img1;}}function currMenuItem(id) {$j(id).currMenuItem();}(function($) {$.fn.currMenuItem=function(options) {var me=$(this);var settings=jQuery.extend({lev0:false},options);var links={};$("a:not(.noCurrent)",me).each(function() {var href=$(this).attr("href");if(href&&!links[href]) {if(href.indexOf(document.domain)>-1||href.substring(0,1)==="/") {href=href.replace(/(http|https):\/\/[^\/]*/,"");}if(href.substring(0,1)!="/") {var path=document.location.pathname;var lastPosition=path.lastIndexOf("/") + 1;path=path.substring(0,lastPosition);href=path + href;}links[href]=$(this);}});var path=(window["selectedPath"]) ? window["selectedPath"]:document.location.pathname;if(path.indexOf("/")<0) path="/" + path;// to avoid endless loopvar getLink=function(path) {return links[path]||links[path + "/"]||links[path + "/index.html"]||links[path + "/index.htmx"]||links[path + "/medialist.html"]||links[path + "/photolist.html"];}var getParent=function(path) {var r=new RegExp(",[a-z]+=[0-9/]+.html");if(r.test(path)) {path=path.replace(r,'.html');}else {path=path.substring(0,path.lastIndexOf("/"));}return path;};if(settings.lev0) {if(path.toLowerCase().indexOf("/associations/")==0) {$j("#fifacom2_associations").addClass("current").parent("li").addClass("current");return;} else if(path.toLowerCase().indexOf("/theclub/")==0) {$j("#fifacom2_lev01menu a[href*='/theclub/']").addClass("current").parent("li").addClass("current");return;}}while (path.length>0) {var link=getLink(path);if(link) {link.addClass("current");link.parent("li").addClass("current");link.parents("li.lev3menu").addClass("current").find(">a").addClass("current");return link;} else {path=getParent(path);}}};})(jQuery);function currMenuItemFullRanking(id) {if($j(id + " li.current").length!=0) {return;}var path=path=document.location.pathname;path=path.substring(0,path.lastIndexOf("/"));if(path!="/worldcup/statistics/castrolindex"){ return;}var menuItemElements=$j(id + " [href^='/worldcup/statistics/castrolindex/ranking.html']");if(menuItemElements!==undefined&&menuItemElements!=null&&menuItemElements.length==1) {if(menuItemElements.parents(".lev2MenuMore").length>0) return;menuItemElements.addClass("current");menuItemElements.parents("li").addClass("current");}};function currMenuItemSelect(id,urltoselect) {var i,u;try {if($j(id)) {for (i=0;i<$j(id).childNodes.length;i++) {u=String($j(id).childNodes[i].innerHTML.match(/href="[^"]*"/));u=u.replace(/href=|"/ig,'');if(urltoselect.match(u)&&u!='') {Element.addClassName($j(id).childNodes[i],'current');return;}}}} catch (e) { }}function currMenuItemCC(id) {try {if($(id)) {var p=document.location.pathname;for (i=0;i<$(id).childNodes.length;i++) {var u=String($(id).childNodes[i].innerHTML.match(/href="[^"]*"/));u=u.replace(/href=|"/ig,'');if(p.match(u)) {Element.addClassName($(id).childNodes[i],'current');Element.addClassName($(id).childNodes[$(id).childNodes.length - 1],'last');Element.addClassName($(id).childNodes[i - 1],'precurrent');return;}}}} catch (e) { }}function checkToS() {var accept_tos_ayq=$j('#c_agree').checked;if(accept_tos_ayq) {Comment.submitComments()$j('#d_errPanelComments').hide();return true;}else {$j('#d_errPanelComments').show();$j('#d_errPanelComments').focus();window.scrollTo(0,0);return false;}}function WFTickerOnLeagueSelect(nat) {document.location.href="/worldfootball/worldmatchcentre/index.html#" + nat;}function printAndGoBack() {window.print();window.close();}function openWidget(name) {closeWidget();$j("#" + name).animate({ opacity:"show",top:"100",left:"250" },"fast");}function closeWidget() {$j(".widgetFlashBox").animate({ opacity:"hide",top:"0",left:"250" },"fast");}function openWidgetWC(name) {closeWidget();$j("#" + name).animate({ opacity:"show",top:"0",left:"0" },"fast");}function closeWidgetWC() {$j(".widgetFlashBox").animate({ opacity:"hide",top:"-100",left:"0" },"fast");}function openDubaiSite() { window.open("http://www.fifa.com/flash/beachsoccerworldcup/dubai2009/index.html","dubai2009","location=0,menubar=0,scrollbars=0,resizable=0,width=1050,height=670");}function parseXML(xml) {if(typeof xml=="string") {if(window.ActiveXObject&&window.GetObject) {var dom=new ActiveXObject('Microsoft.XMLDOM');dom.loadXML(xml);return dom;}if(window.DOMParser)return new DOMParser().parseFromString(xml,'text/xml');}}(function($) {$.fn.boxSlider=function(options) {var me=$(this);var boxTitle=me.parent().find("div.bH h3");var settings=jQuery.extend({replaceTitle:false,isTitleClickable:false,hideItemTitle:false},options);var timeout;var current=0;var count=$("div.caItem",me).size();var selectedDotImg="/imgml/worldcup/dot_03bluehover.png";var deSelectedDotImg="/imgml/worldcup/dots_03.png";var item=$("div.caNavigator li:first a",me).attr("href").replace("#","");var firstItemToShow=$("div.caItem." + item,me);$("div.caItem",me).hide();firstItemToShow.show();if(settings.hideItemTitle) {$("div.caItem h3",me).hide();}if(!settings.replaceTitle&&settings.isTitleClickable) {me.parent().find("div.bH").addClass("bHHover");if($j("a",boxTitle).size()==0) {boxTitle.html("<a class='clickable' href='#'>" + boxTitle.html() + "</a>");}}var callback=function(obj) {if(settings.replaceTitle) {boxTitle.html($j("h3",obj).html());var cl=$("div.teaser",obj).attr("class").replace(/teaser/,"");me.parent().attr("class","box " + cl);} else if(settings.isTitleClickable) {$("a",boxTitle).attr("href",$j("h3 a",obj).attr("href")||$j("ul.moreLink a",obj).attr("href"));}};callback(firstItemToShow);var update=function() {var next=(current + 1) % count;$("div.caNavigator li:eq(" + next + ") a",me).click();};var startTimer=function() {timeout=setTimeout(update,4000);};startTimer();$("div.caNavigator li a",me).click(function(e) {clearTimeout(timeout);e.preventDefault();var index=$j("div.caNavigator li",me).index($j(this).parent("li"));if(index!=current) {current=index;$j("div.caNavigator li a img",me).attr("src",deSelectedDotImg);$j("img",this).attr("src",selectedDotImg);var item=$(this).attr("href").replace("#","");$j("div.caItem:visible",me).fadeOut(600);var next=$j("div.caItem." + item,me);callback(next);next.fadeIn(600);}startTimer();});};})(jQuery);jQuery.fn.phGalSlideInArticle=function() {return this.each(function() {var container=$j(this).find("#slideContent");var navigation=$j(this).find(".caNavigator");var animationDuration=600,timeoutDuration=3000;var currentPos,timeout;function slideTo(pos) {if(timeout) clearTimeout(timeout);container.find(">div:visible").fadeOut(animationDuration);container.find(">div:eq(" + pos + ")").fadeIn(animationDuration);navigation.find("li.current").removeClass("current");navigation.find("li:eq(" + pos + ")").addClass("current");navigation.find("a img").attr("src","/imgml/icons/dots_03.png");// TODO:remove (use classes only)navigation.find("li:eq(" + pos + ") a img").attr("src","/imgml/icons/dot_03hover.png");// TODO:remove (use classes only)currentPos=pos;timeout=setTimeout(slideNext,timeoutDuration);}function slideNext() {var nextId=(currentPos + 1) % navigation.find("li").size();slideTo(nextId,true);}$j(this).find(".sliderNav li a").each(function(i) {$j(this).click(function(pos) {return function() {slideTo(pos);return false;};} (i));});if(container.find(">div").size()>1) {slideTo(0);}});}function graphicCounter(selector) {var element=$j(selector);if(element.size()>0) {var numComments=element.attr("title");for (i=0;i<numComments.length;i++) {element.append("<span class='count-" + numComments.substr(i,1) + "'></span>");}}}(function accordion() {$j(document).ready(function() {var $accordion=$j('.accordion');if(!$accordion.length) { return;}var $bH=$accordion.find('.bH');if(!$bH.length) { return;}$bH.unbind('click.accordion').bind('click.accordion',function(e) {e.preventDefault();var $target=$j(e.target),$box=$target.closest('.cnt-box,.box'),setVisibility=function(selector) {$box.toggleClass('is-closed');var method=$box.hasClass('is-closed') ? 'hide':'show';$box.find(selector)[method]();};if(!($target.closest('.bH').length||$target.is('.bH'))) {return;}setVisibility('.bC,.bF');});});} ());var FormValidate=function(acceptVoid) {this.initialize(acceptVoid);};FormValidate.prototype={initialize:function(p) {this.params=p;for (i=0;i<p.length;i++) {var e=p[i];if(this.isRequired(e))$(e.label).addClassName('required');}this.erList=new Array();this.errClass='validateError';},checkSpecialCharacter:function(v,chkSpecial) {if(!chkSpecial) return false;var p=new RegExp("[^A-Za-z_0-9.\\'\\.\\-]","g");patmatch=p.test(v);return patmatch;},checkText:function(id,required,chkSpecial,minL,maxL) {if(minL<0) minL=0;if(required&&minL<1) minL=1;var v=$F(id);if(required) {if(v==null||v==undefined)return false;else {if(v.length<minL) return false;if(v.length>maxL) return false;if(this.checkSpecialCharacter(v,chkSpecial)) return false;}}else {if(v!=null&&v!=undefined&&v.length>0) {if(v.length>maxL) return false;if(this.checkSpecialCharacter(v,chkSpecial)) return false;}}return true;},checkNumber:function(id,required,onlyInt,minV,maxV) {var v=$F(id);if(required||v.length>0) {if(v==undefined||v==null||isNaN(v)||v!=parseFloat(v))return false;else {if(onlyInt&&(parseInt(v)!=v||v.indexOf('.')!=-1)) return false;if(v<minV) return false;if(v>maxV) return false;}}return true;},checkEmail:function(id,required) {var v=$F(id);var moreExt=new Array("info","aero","museum","name");if(required||v.length>0) {var p=new RegExp("^(\\w|-|\\.)+@(\\w|-|\\.)+\\.[a-z]{2,3}$","i");pMatch=p.test(v);if(pMatch)return true;else {for (var i=0;i<moreExt.length;i++) {p.compile("^(\\w|-|\\.)+@(\\w|-|\\.)+\\." + moreExt[i] + "$");pMatch=p.test(v);if(pMatch)return true;}}return false;}return true;},checkEmailString:function(emailAddress) {var p=new RegExp("^(\\w|-|\\.)+@(\\w|-|\\.)+\\.[a-z]{2,3}$","i");return p.test(emailAddress);},checkDate:function(idD,idM,idY) {var vD=$F(idD);var vM=$F(idM);var vY=$F(idY);var v=vD + '/' + vM + '/' + vY;var re=/(\d{1,2})(-|\/)+(\d{1,2})(-|\/)+(\d{4}|\d{2})/;if(!re.test(v))return false;var res=null;if(v.match(/\-/)!=null)res=v.split(/\-/);elseres=v.split(/\//);if(res!=null) {if(res.length!=3) return false;var d=new Date(vY,vM - 1,vD);if(d.getDate()!=vD||d.getMonth()!=vM - 1||d.getFullYear()!=vY) return false;return true;}return false;},checkCompare:function(e) {if(e.idCompare==null||e.idCompare==undefined) return true;if($F(e.id)!=$F(e.idCompare)) return false;return true;},checkOption:function(id) {if($(id).selectedIndex>0) return true;return false;},checkFileExtensions:function(e) {var v=$F(e.id);var extFile=v.split('.').pop().toLowerCase();if(e.extensions.indexOf(extFile)==-1)return false;elsereturn true;},isRequired:function(e) {if(e.required==null||e.required==undefined) return true;return e.required;},min:function(e) {if(e.min==null||e.min==undefined) return Number.MIN_VALUE;return e.min;},max:function(e) {if(e.max==null||e.max==undefined) return Number.MAX_VALUE;return e.max;},setError:function(e) {var t=this;t.valid=false;t.erList.push(e.message);try {if(!$(e.label).hasClassName(t.errClass)) $(e.label).addClassName(t.errClass)if(e.type=='date') {if(!$(e.idD).hasClassName(t.errClass)) $(e.idD).addClassName(t.errClass)if(!$(e.idM).hasClassName(t.errClass)) $(e.idM).addClassName(t.errClass)if(!$(e.idY).hasClassName(t.errClass)) $(e.idY).addClassName(t.errClass)} elseif(!$(e.id).hasClassName(t.errClass)) $(e.id).addClassName(t.errClass)}catch (e) { };},setErrorCompare:function(e) {var t=this;t.valid=false;t.erList.push(e.messageCompare);try {if(!$(e.label).hasClassName(t.errClass)) $(e.label).addClassName(t.errClass)if(!$(e.id).hasClassName(t.errClass)) $(e.id).addClassName(t.errClass)if(!$(e.idCompare).hasClassName(t.errClass)) $(e.idCompare).addClassName(t.errClass)if(!$(e.labelCompare).hasClassName(t.errClass)) $(e.labelCompare).addClassName(t.errClass)}catch (e) { };},cleanError:function(e) {var t=this;try {if($(e.label).hasClassName(t.errClass)) $(e.label).removeClassName(t.errClass)if(e.type=='date') {if($(e.idD).hasClassName(t.errClass)) $(e.idD).removeClassName(t.errClass)if($(e.idM).hasClassName(t.errClass)) $(e.idM).removeClassName(t.errClass)if($(e.idY).hasClassName(t.errClass)) $(e.idY).removeClassName(t.errClass)} elseif($(e.id).hasClassName(t.errClass)) $(e.id).removeClassName(t.errClass)}catch (e) { };},addErrorMessage:function(msg) {this.erList.push(msg);},setErrorClass:function(id) {if(!$(id).hasClassName(this.errClass)) $(id).addClassName(this.errClass)},resetErrorClass:function(id) {if($(id).hasClassName(this.errClass)) $(id).removeClassName(this.errClass)},setErrorState:function() {this.valid=false;},getValidationStatus:function() {return this.valid;},getValidationErrorList:function() {var el=this.erList;if(el==null||el==undefined||el.length==0) return '';var t='<ul>';for (i=0;i<el.length;i++)t += '<li>' + el[i] + '</li>';t += '</ul>';return t;},validate:function() {var t=this;var p=t.params;t.valid=true;t.erList=new Array();for (i=0;i<p.length;i++) {var e=p[i];switch (e.type) {case 'text':{if(!t.checkText(e.id,t.isRequired(e),true,t.min(e),t.max(e))) t.setError(e)else if(!t.checkCompare(e)) t.setErrorCompare(e)elset.cleanError(e);}break;case 'any-text':{if(!t.checkText(e.id,t.isRequired(e),false,t.min(e),t.max(e))) t.setError(e)else if(!t.checkCompare(e)) t.setErrorCompare(e)elset.cleanError(e);}break;case 'int':{if(!t.checkNumber(e.id,t.isRequired(e),true,t.min(e),t.max(e))) t.setError(e)else if(!t.checkCompare(e)) t.setErrorCompare(e)elset.cleanError(e);}break;case 'number':{if(!t.checkNumber(e.id,t.isRequired(e),false,t.min(e),t.max(e))) t.setError(e)else if(!t.checkCompare(e)) t.setErrorCompare(e)elset.cleanError(e);}break;case 'date':{if(t.isRequired(e)&&(!t.checkDate(e.idD,e.idM,e.idY))) t.setError(e)else if(!t.checkCompare(e)) t.setErrorCompare(e)elset.cleanError(e);}break;case 'email':{if(!t.checkEmail(e.id,t.isRequired(e))) t.setError(e)else if(!t.checkCompare(e)) t.setErrorCompare(e)elset.cleanError(e);}break;case 'option':{if(t.isRequired(e)&&(!t.checkOption(e.id))) t.setError(e)elset.cleanError(e);}break;case 'check':{if(!t.isRequired(e)) {if($F(e.id)==null) t.setError(e)elset.cleanError(e)}elset.cleanError(e);}break;case 'checkRequired':if(t.isRequired(e)) {if($F(e.id)==null) {t.setError(e);} else {t.cleanError(e);}} else {t.cleanError(e);}break;case 'file-type':{if(!t.checkText(e.id,t.isRequired(e),false,t.min(e),t.max(e))) t.setError(e)else if(!t.checkFileExtensions(e)) t.setError(e)else if(!t.checkCompare(e)) t.setErrorCompare(e)elset.cleanError(e);}break;}}return t.valid;}}var Email={idNews:'',d:'',dMsg:'',viewFrmEmail:function(newsid,dN,bN) {SharingToolsPopup.show(true);},hideFrmEmail:function() {$(Email.d).hide();Email.d='';$('emailFrm').removeClassName('current');},viewFrmEmailGeneric:function(dN,newsTag,emailTitle,mode,confirmation) {if(Email.d!='')$(Email.d).hide();Email.d=dN;var u='/theclub/tools/email/genericemail/_email.htmx?c_tagnewsbody=' + newsTag + '&c_title=' + emailTitle + '&c_mode=' + mode + '&c_confirmMsg=' + confirmation;var a=new Ajax.Request(u,{ method:'get',evalScripts:true,onComplete:Email.displayFrmEmail });},displayFrmEmail:function(originalResponse) {$(Email.d).update(originalResponse.responseText);var fe=$('c_from');var fn=$('c_fromname');var c=Cookie.get('FIFAComClub');if(c!=null&&c!==undefined&&fe!==undefined&&fe!=null&&fn!==undefined&&fn!=null) {fn.value=c.toQueryParams().un;fe.value=c.toQueryParams().em;}$('c_urln').value=document.location.href;$('emailSubjectTXT').innerHTML=newsTitleString;$(Email.d).show();},sendEmail:function(idNews) {Email.clearAllErrors();if(($('c_from').value=='')||($('c_fromname').value=='')||($('c_to').value=='')||($('c_message').value=='')){ $('c_errorMsg').show();return;}var frm=new FormValidate(new Array(0));if(!frm.checkEmail('c_from',true)) {if($('c_errorMsgEmailFrom')!=null) { $('c_errorMsgEmailFrom').show();}return;}var strTo=$F('c_to');if(strTo.lastIndexOf(',')==strTo.length - 1) {strTo=strTo.substring(0,strTo.length - 1);$('c_to').value=strTo;}var toArr=strTo.split(',');for (var i=0;i<toArr.length;i++) {if(!frm.checkEmailString(toArr[i])) {if($('c_errorMsgEmailTo')!=null) { $('c_errorMsgEmailTo').show();}return;}}if(idNews!=''){ var u='/theclub/tools/email/news/newsid=' + Email.idNews + '/_email.htmx' }else{ var u="/theclub/tools/email/genericemail/_email.htmx";}var a=new Ajax.Updater('frmEmail',encodeURI(u),{ method:'post',parameters:$('f_sendEmail').serialize(),evalScripts:true });},clsForm:function() {$(Email.d).hide();$('emailFrm').removeClassName('current');Email.d='';return;},clearAllErrors:function() {$('c_errorMsg').hide();if($('c_errorMsgEmailFrom')!=null) { $('c_errorMsgEmailFrom').hide();}if($('c_errorMsgEmailTo')!=null) { $('c_errorMsgEmailTo').hide();}},openPhotoEmailDialog:function(newsid,dN) {if(Email.d!='')$(Email.d).hide();Email.idNews=newsid;Email.d=dN;var u='/theclub/tools/email/photos/photoid=' + Email.idNews + '/_email.html';var a=new Ajax.Request(u,{ method:'get',evalScripts:true,onComplete:Email.displayFrmEmail });},sendPhotoEmail:function() {Email.clearAllErrors();if(($('c_from').value=='')||($('c_fromname').value=='')||($('c_to').value=='')||($('c_message').value=='')){ $('c_errorMsg').show();return;}var frm=new FormValidate(new Array(0));if(!frm.checkEmail('c_from',true)) {if($('c_errorMsgEmailFrom')!=null) { $('c_errorMsgEmailFrom').show();}return;}var strTo=$F('c_to');if(strTo.lastIndexOf(',')==strTo.length - 1) {strTo=strTo.substring(0,strTo.length - 1);$('c_to').value=strTo;}var toArr=strTo.split(',');for (var i=0;i<toArr.length;i++) {if(!frm.checkEmailString(toArr[i])) {if($('c_errorMsgEmailTo')!=null) { $('c_errorMsgEmailTo').show();}return;}}var u='/theclub/tools/email/photos/photoid=' + Email.idNews + '/_email.htmx?' + $('f_sendEmail').serialize()var a=new Ajax.Updater('frmEmail',encodeURI(u),{ method:'get',evalScripts:true });},medicalFieldValidate:function() {Email.clearAllErrors();if(($('afmc_lastName').value=='')||($('afmc_firstName').value=='')||($('afmc_title').value=='')||($('afmc_profession').value=='')||($('afmc_institution').value=='')||($('afmc_mailingAdress').value=='')||($('afmc_cityZipCode').value=='')||($('afmc_country').value=='')||($('afmc_email').value=='')||($('afmc_mobile').value=='')||($('afmc_daytimeTel').value=='')) {$('c_errorMsg').show();$('c_errorMsgMail').hide();scroll(0,0);return;}if($('afmc_email').value!=''&&!Email.checkEmail('afmc_email',true)) {$('c_errorMsgMail').show();$('c_errorMsg').hide();scroll(0,0);return;}var u='/aboutfifa/developing/medical/footballmedicineconference/_registration.htmx?' + $('afm_sendEmail').serialize();window.location.href=u;return true;},checkEmail:function(id,required) {var v=$F(id);var moreExt=new Array("info","aero","museum","name");if(required||v.length>0) {var p=new RegExp("^(\\w|-|\\.)+@(\\w|-|\\.)+\\.[a-z]{2,3}$","i");pMatch=p.test(v);if(pMatch)return true;else {for (var i=0;i<moreExt.length;i++) {p.compile("^(\\w|-|\\.)+@(\\w|-|\\.)+\\." + moreExt[i] + "$");pMatch=p.test(v);if(pMatch)return true;}}return false;}return true;}}var DBClickOrd=Math.random()*10000000000000000;var DBClickTile=0;var DBClickKeyValues=getDBClickKeyValues();function getDBClickKeyValues() {var m=document.location.pathname.match(/[^/]*=[^/|^\.]*/g);if(m!=null){return m.toString().replace(',',';')+';';} return '';}var tzc={tFmt:'dd/MM/yy HH:mm',tCls:'matchTimeConvertible',initialized:false,utcNotAvailableMessage:"",init:function(sFormat) {try {tzc.utcNotAvailableMessage=vocJsBasic.translate("tzcUtcNotAvailable");} catch(e) {tzc.utcNotAvailableMessage="";}if(sFormat!==undefined&&sFormat!=null&&sFormat!='') tzc.tFmt=sFormat;tzc.initialized=true;var c=Cookie.get('TZC');if(c!==undefined&&c!=null&&c=='1')tzc.clientTime();elsetzc.localTime();},refreshAfterAjax:function(container) {if(tzc.initialized!=true) return;var c=Cookie.get('TZC');if(c!==undefined&&c!=null&&c=='1')tzc.clientTime(container);elsetzc.localTime(container);},localTime:function(container) {$j('#tzcLocal').show();$j('#tzcClient').hide();var elements;if(container) {elements=$j("." + tzc.tCls,$j(container));} else {elements=$j("." + tzc.tCls);}elements.each(function() {var obj=$j(this);var d=tzc.getElementData(obj);if(d) {var s=d.split(',');if(s[1]) {obj.removeClass("TZCclient").html(s[0]);}} else {obj.removeClass("TZCnoUtc").attr("title","");}});Cookie.set('TZC','0',365,'/');},clientTime:function(container) {$j('#tzcClient').show();$j('#tzcLocal').hide();var elements;if(container) {elements=$j("." + tzc.tCls,$j(container));} else {elements=$j("." + tzc.tCls);}elements.each(function() {var obj=$j(this);var d=tzc.getElementData(obj);if(d) {var s=d.split(',');if(s[1]) {var buf=tzc.formatDate(tzc.decodeUTC(s[1]))var ts;if(obj.hasClass("onlyDate")) {ts=buf.split(" ");buf=ts[0];} else if(obj.hasClass("onlyTime")) {ts=buf.split(" ");buf=ts[1];}obj.addClass("TZCclient").html(buf);}} else {obj.addClass("TZCnoUtc").attr("title",tzc.utcNotAvailableMessage);}});Cookie.set('TZC','1',365,'/');},getElementData:function(obj) {var d=obj.data("tzcDate");if(typeof d=="undefined") {d=obj.attr("title").replace(/^\s+|\s+$/g,"");obj.data("tzcDate",d);obj.attr("title","");}return d;},getMarkup:function(timeStamp,hideDate,hideTime,htmlTag) {htmlTag=htmlTag||"span";var s=timeStamp.split(",");var c=Cookie.get('TZC');var format,className,title;if(hideDate) {format="HH:mm";className=" onlyTime";title=s[0].split(" ")[1];} else if(hideTime) {format="dd/MM/yy";className=" onlyDate";title=s[0].split(" ")[0];} else {format=undefined;className="";title=s[0];}if(c!==undefined&&c!=null&&c=='1') {return "<" + htmlTag + " title='" + title + "," + s[1] + "' class='matchTimeConvertible TZCclient" + className + "'>"+ tzc.formatDate(tzc.decodeUTC(s[1]),format)+ "</" + htmlTag + ">";} else {return "<" + htmlTag + " title='" + title + "," + s[1] + "' class='matchTimeConvertible" + className + "'>"+ title+ "</" + htmlTag + ">";}},padString:function(s,l,pc) { while (s.length<l) { s=pc + s };return s;},formatDate:function(d,format) {var _d=tzc.padString(d.getDate().toString(),2,'0'),_M=tzc.padString((d.getMonth() + 1).toString(),2,'0'),_y=tzc.padString((d.getFullYear() % 1000).toString(),2,'0'),_h=tzc.padString(d.getHours().toString(),2,'0'),_m=tzc.padString(d.getMinutes().toString(),2,'0');format=format||tzc.tFmt;if(format=='dd/MM/yy HH:mm') return _d + '/' + _M + '/' + _y + ' ' + _h + ':' + _m;if(format=='dd/MM HH:mm') return _d + '/' + _M + ' ' + _h + ':' + _m;if(format=='HH:mm') return _h + ':' + _m;if(format=='dd/MM/yy') return _d + '/' + _M + '/' + _y;return _d + '/' + _M + '/' + _y + ' ' + _h + ':' + _m;},decodeUTC:function(n) {var _m=n % 100,_h=Math.floor(n / 100) % 100,_d=Math.floor(n / 10000) % 100,_M=(Math.floor(n / 1000000) % 100) - 1,_y=Math.floor(n / 100000000),_dt=new Date();_dt.setTime(Date.UTC(_y,_M,_d,_h,_m));return _dt}}function H2HLoader(url,homeId,awayId) {var selectElement=0;var ajaxUrl="";var _homeId=0;var _awayId=0;var selectElement=$j("#h2hbox_select");var selectElement2=$j("#h2hbox_select2");var curGroupTeam;$j("#curGroupTeam").size()>0 ? curGroupTeam=$j("#curGroupTeam"):curGroupTeam=null;ajaxUrl=url;if(curGroupTeam!=null) {selectElement.change(function() { _teamSelectHandler();});selectElement2.change(function() { _teamSelectHandler();});_selectBothRandomTeam();} else {if(homeId) {_homeId=homeId;_awayId=awayId;_teamSelectHandler();selectElement.find("option[value='" + _homeId + "']").attr("selected","selected");selectElement2.find("option[value='" + _awayId + "']").attr("selected","selected");} else {selectElement.change(function() { _teamSelectHandler();});_selectRandomTeam();}}function _teamSelectHandler() {if(curGroupTeam!=null) { if(selectElement.val()==selectElement2.val()) {return false;} $j("#h2hbox_data").load(_buildAjaxUrl());} else { $j("#h2hbox_data").load(_buildAjaxUrl());}}function _selectRandomTeam() {var optionsNum=selectElement.find("option").size();var randomIndex=Math.floor((Math.random() * optionsNum));selectElement.find("option:eq(" + randomIndex + ")").attr("selected","selected");_teamSelectHandler();}function _selectBothRandomTeam() {var optionsNum=selectElement.find("option").size();var randomIndex1=Math.floor((Math.random() * optionsNum));var randomIndex2=Math.floor((Math.random() * optionsNum));var checkBoth=falsewhile (!checkBoth) {if(randomIndex1==randomIndex2) {randomIndex2=Math.floor((Math.random() * optionsNum));} else {checkBoth=true;}}selectElement.find("option:eq(" + randomIndex1 + ")").attr("selected","selected");selectElement2.find("option:eq(" + randomIndex2 + ")").attr("selected","selected");_teamSelectHandler();}function _buildAjaxUrl() {var url=ajaxUrl;if(curGroupTeam!=null) {url=url.replace("{1}",selectElement.val()).replace("{2}",selectElement2.val());}else{if(_homeId==0) {url=url.replace("{1}",$j("#curTeamTri").val()).replace("{2}",selectElement.val());} else {url=url.replace("{1}",_homeId).replace("{2}",_awayId);}}return url;}}var Bookmarks={d:'',viewFrmBookmarks:function(dN,eN) {SharingTools.generic();},hideBookmarks:function() {$j(Bookmarks.d).html=' ';Bookmarks.d='';$j('bookmarksFrm').removeClass('current');},setBookmarks:function() {$j('#facebook').href='http://www.facebook.com/sharer.php?u=' + document.location;$j('#digg').href='http://digg.com/submit?url=' + document.location + '&amp;title=' + document.title.replace(/^FIFA.com - | - FIFA.com$/,"");$j('#delicious').href='http://del.icio.us/post?url=' + document.location + '&amp;title=' + document.title.replace(/^FIFA.com - | - FIFA.com$/,"");$j('#stumbleupon').href='http://www.stumbleupon.com/submit?url=' + document.location + '&amp;title=' + document.title.replace(/^FIFA.com - | - FIFA.com$/,"");$j('#reddit').href='http://reddit.com/submit?url=' + document.location + '&amp;title=' + document.title.replace(/^FIFA.com - | - FIFA.com$/,"");}}var SharingTools={showSocialSharing:function() {SharingTools.facebookLike();},facebookLike:function() {$j.getScript('http://connect.facebook.net/en_US/all.js',function() {FB.init({ status:true,cookie:true,xfbml:true,channelUrl:'/library/sharingtools/_fbchannel.html',ref:"fbLike" });});$j("#socialSharingTools").append('<div id="facebookLikeTool"><fb:like href="' + encodeURIComponent(baseUrl + window.location.pathname.replace('comments.html','index.html')) + '" send="false" layout="button_count" width="200" show_faces="false" action="like" font="" height="21" locale="en_US" ref="facebook_like_button"></fb:like></div>');},generic:function(u,t) {SharingToolsPopup.show();},gigyaSocialize:function() {SharingToolsPopup.show();}}var SharingToolsPopup={shareButtons:[{id:"stFacebook",name:"Facebook",href:"http://www.facebook.com/sharer.php?u=[URL]&t=[TITLE]",cid:"facebook_share",track:"facebook share"},{id:"stTwitter",name:"Twitter",href:"http://twitter.com/share?url=[URL]&text=[DESCRIPTION]",cid:"twitter_share",track:"twitter share",w:1024,h:650},{id:"stPinterest",name:"Pinterest",href:"http://pinterest.com/pin/create/button/?url=[URL]&description=[DESCRIPTION]&title=[TITLE]&media=[MEDIA]",cid:"pinterest_share",track:"pinterest share",w:665,h:300,isImgNeeded:true},{id:"stGooglePlus",name:"" // Google API will be used so this field is unnecessary,href:"" // Google API will be used so this field is unnecessary,cid:"googleplus_share",track:"google +1 share"},{id:"stLinkedin",name:"Linkedin",href:"http://www.linkedin.com/shareArticle?mini=true&url=[URL]&title=[TITLE]&summary=[DESCRIPTION]",cid:"linkedin_share",track:"linkedin share"},{id:"stDigg",name:"Digg",href:"http://digg.com/submit?url=[URL]&title=[TITLE]&description=[DESCRIPTION]",cid:"digg_share",track:"digg share",w:800},{id:"stStumbleUpon",name:"StumbleUpon",href:"http://www.stumbleupon.com/submit?url=[URL]&title=[TITLE]",cid:"stumbleupon_share",track:"stumbleupon share",w:800},{id:"stDelicious",name:"Delicious",href:"http://www.delicious.com/save?v=5&noui&jump=close&url=[URL]&title=[TITLE]",cid:"delicious_share",track:"delicious share"},{id:"stTumblr",name:"Tumblr",href:"http://www.tumblr.com/share/link?url=[URL]&name=[TITLE]&description=[DESCRIPTION]",cid:"tumblr_share",track:"tumblr share"},{id:"stReddit",name:"Reddit",href:"http://reddit.com/submit?url=[URL]&title=[TITLE]",cid:"reddit_share",track:"reddit share"}],shareUrl:"",shareTitle:"",shareDescription:"",shareThumb:"",contentInfo:{},initNeeded:false,init:function() {if(!SharingToolsPopup.shareTitle) {SharingToolsPopup.shareTitle=document.title.replace(/^FIFA.com - | - FIFA.com$/,"");}if(!SharingToolsPopup.shareDescription) {SharingToolsPopup.shareDescription=$j("meta[name='description']").attr("content");}if(!SharingToolsPopup.shareThumb) {SharingToolsPopup.shareThumb=$j("meta[property='og:image']").attr("content")||$j("meta[name='thumb']").attr("content");if(SharingToolsPopup.shareThumb) {SharingToolsPopup.shareThumb=SharingToolsPopup.shareThumb.replace("_mthumb","_thumb");if(SharingToolsPopup.shareThumb.indexOf("http://")!=0) {SharingToolsPopup.shareThumb=baseUrl + "/mm" + SharingToolsPopup.shareThumb;}}}SharingToolsPopup.renderButtons();if(bLoggedIn) {var c=Cookie.get('FIFAComClub').toQueryParams();$j("#stEmailFrom").val(c.em);}$j("#stPreview div.stPreviewTitle").html(SharingToolsPopup.shareTitle);$j("#stPreview div.stPreviewDescription").html(SharingToolsPopup.shareDescription);if(SharingToolsPopup.shareThumb) {$j("#stPreview").removeClass("noImage").find("img").attr("src",SharingToolsPopup.shareThumb).show();} else {$j("#stPreview").addClass("noImage");}if(!isPartnerSite()) {$j.get("/theclub/library/tools/captcha.htmx?t=" + Math.random(),function(data) {$j("#stCaptchaEncoded").val(data);SharingToolsPopup.captchaRefresh();});}$j("#sharingTools div.closeIcon").click(function() { SharingToolsPopup.hide();return false;});$j("#stEmailClose,#stEmailCancel").click(function() { SharingToolsPopup.toggleEmailForm();return false;});$j("#stEmail").click(function() { SharingToolsPopup.toggleEmailForm();return false;});$j("#stEmailSend").click(SharingToolsPopup.sendEmail);$j("#stEmailAgain").click(function() { $j(".stEmailConfirm").hide();$j(".stEmailForm").show();return false;});},show:function(shareParameters) {if(typeof shareParameters==="string") shareParameters={ url:shareParameters }else if(typeof shareParameters==="boolean") shareParameters={ showEmailForm:shareParameters };shareParameters=$j.extend({url:"",title:"",description:"",showEmailForm:false,contentInfo:{}},shareParameters);shareParameters.url=SharingToolsPopup.formatUrl(shareParameters.url);var st=$j("#sharingTools");var initNeeded=SharingToolsPopup.initNeeded;if(st.size()==0) initNeeded=true;if(shareParameters.url!=SharingToolsPopup.shareUrl) {SharingToolsPopup.shareUrl=shareParameters.url;initNeeded=true;}if(shareParameters.title!=SharingToolsPopup.shareTitle) {SharingToolsPopup.shareTitle=shareParameters.title;initNeeded=true;}if(shareParameters.description!=SharingToolsPopup.shareDescription) {SharingToolsPopup.shareDescription=shareParameters.description;initNeeded=true;}if(shareParameters.thumb!=SharingToolsPopup.shareThumb) {SharingToolsPopup.shareThumb=shareParameters.thumb;initNeeded=true;}SharingToolsPopup.contentInfo=shareParameters.contentInfo;if(initNeeded) {$j("#sharingTools,#lbOverlay").remove();$j("body").append("<div id='sharingTools'><div class='loading'></div></div><div onclick='SharingToolsPopup.hide();' id='lbOverlay'></div>");$j("#lbOverlay").height($j("body").height());// height:100% useless if body position is not relativeif(isPartnerSite()) {$j("#sharingTools").html(SharingToolsPopup.createMarkup());SharingToolsPopup.init();$j(window).scrollTop($j("#sharingTools").offset().top - 10);if(shareParameters.showEmailForm) SharingToolsPopup.showEmailForm();} else {$j("#sharingTools").load("/library/sharingtools/_popup.html",function() {SharingToolsPopup.init();$j(window).scrollTop($j("#sharingTools").offset().top - 10);if(shareParameters.showEmailForm) SharingToolsPopup.showEmailForm();});}SharingToolsPopup.initNeeded=false;} else {$j("#stEmailFormContainer").hide();$j("#sharingTools,#lbOverlay").show();$j(window).scrollTop($j("#sharingTools").offset().top - 10);if(shareParameters.showEmailForm) SharingToolsPopup.showEmailForm();}},refresh:function() {SharingToolsPopup.shareTitle="";SharingToolsPopup.shareDescription="";SharingToolsPopup.shareThumb="";SharingToolsPopup.initNeeded=true;},hide:function() {$j("#sharingTools,#lbOverlay").hide();},renderButtons:function() {var i,sb,shareUrl,pu,alt,href;var title=encodeURIComponent(SharingToolsPopup.shareTitle);var description=encodeURIComponent(SharingToolsPopup.shareDescription);var stTools=$j("#sharingTools div.stTools ul");stTools.find("li:gt(0)").remove();// keep only first element (email) - needed in case of re-initalizevar stToolBaseAlt=$j("#stToolBaseAlt").val();for (i=0;i<SharingToolsPopup.shareButtons.length;i++) {sb=SharingToolsPopup.shareButtons[i];if(sb.isImgNeeded&&!SharingToolsPopup.shareThumb) { continue;}shareUrl=SharingToolsPopup.shareUrl;if(sb.cid) {pu=parseUri(shareUrl);pu.queryKey.cid=sb.cid.replace(/\[lang\]/g,siteLang);shareUrl=pu.toString();}if(sb.id=="stGooglePlus") {stTools.append("<li " + classLast + "><div class='GooglePlusOneButton'><div id='stGooglePlus1'></div></div></li>");new function(track) { // This is madness! THIS. IS. JAVASCRIPT!!if(typeof gapi!=="undefined") {gapi.plusone.render(document.getElementById('stGooglePlus1'),{ "href":shareUrl,"size":"medium","annotation":"none","callback":function() { wAnalytics.onShare(track,null,SharingToolsPopup.contentInfo);} });} else {$j.getScript('http://apis.google.com/js/plusone.js',function() {gapi.plusone.render(document.getElementById('stGooglePlus1'),{ "href":shareUrl,"size":"medium","annotation":"none","callback":function() { wAnalytics.onShare(track,null,SharingToolsPopup.contentInfo);} });});}} (sb.track);} else {var cb=function(idx,url) {var o=SharingToolsPopup.shareButtons[idx];href=o.href.replace("[URL]",encodeURIComponent(shareUrl)).replace("[TITLE]",title).replace("[DESCRIPTION]",description).replace("[MEDIA]",encodeURIComponent(url||""));classLast=(idx==SharingToolsPopup.shareButtons.length - 1) ? " class='last' ":"";alt=alt=stToolBaseAlt.replace(/@@network/g,o.name);var html="<li " + classLast + "><a id='" + o.id + "' target='_blank' title='" + alt + "'></a></li>";if(url) {stTools.find('li:eq(' + idx + ')').after(html);}else {stTools.append(html);}new function(o,_href) { // This is madness! THIS. IS. JAVASCRIPT!!$j("#" + o.id).click(function() {var w=o.hasOwnProperty("w") ? o.w:620;var h=o.hasOwnProperty("h") ? o.h:440;window.open(_href,"","width=" + w + ",height=" + h + ",scrollbars=yes");if(o.track) {wAnalytics.onShare(o.track,null,SharingToolsPopup.contentInfo);}return false;});} (o,href);};if(sb.isImgNeeded) {SharingToolsPopup.setBestShareThumb(i,function(idx,url) {cb.apply(this,[idx,url]);});}else {cb.apply(this,[i]);}}}},setBestShareThumb:function(idx,cb) {var st=decodeURIComponent(SharingToolsPopup.shareThumb),re=new RegExp(/(([\d]*)_([\w\-]*).jpg)/gi),matches=re.exec(st);if(!(matches&&matches.length)) { cb.apply(this,[idx]);return;}SharingToolsPopup.searchSize(st,matches,'big-lnd',function(proceed,url) {if(proceed) {SharingToolsPopup.searchSize(st,matches,'full-lnd',function(proceed,url) {if(proceed) {SharingToolsPopup.searchSize(st,matches,'xlarge-lnd',function(proceed,url) {if(proceed) {SharingToolsPopup.searchSize(st,matches,'large-lnd',function(proceed,url) {cb.apply(this,[idx,url]);});}else { cb.apply(this,[idx,url]);}});}else { cb.apply(this,[idx,url]);}});}else { cb.apply(this,[idx,url]);}});},searchSize:function(url,matches,size,cb) {var img=new Image(),toreplace=matches[0],id=matches[matches.length - 2],actualSize=matches[matches.length - 1],proceed=true;if(actualSize.toLowerCase()===size.toLowerCase()) {cb.apply(this,[false,url]);return;}var newUrl=url.replace(toreplace,id + '_' + size + '.jpg');img.onload=function() {var w=img.width;img.onload=null;img=null;if(w>1) {proceed=false;}cb.apply(this,[proceed,newUrl]);};img.src=newUrl;},showEmailForm:function() {$j("#stEmail").parent("li").addClass("selected");$j("#sharingTools .stEmailForm").show();$j("#sharingTools .stEmailConfirm").hide();},hideEmailForm:function() {$j("#stEmail").parent("li").removeClass("selected");$j("#sharingTools .stEmailForm,#sharingTools .stEmailConfirm").hide();},toggleEmailForm:function() {if(!$j("#stEmail").parent("li").hasClass("selected")) {SharingToolsPopup.showEmailForm();} else {SharingToolsPopup.hideEmailForm();}},captchaRefresh:function() {if(!isPartnerSite()) {$j("#stCaptchaImg").attr("src","/theclub/library/tools/captcha.htmx?t=" + Math.random() + "&c=" + $j("#stCaptchaEncoded").val());}},formatUrl:function(shareUrl) {if(!shareUrl||!baseUrl) {shareUrl=window.location.href.replace(/\?.*/,'').replace(/\/$/,'/index.html');} else if(shareUrl.substring(0,1)=='/') {shareUrl=baseUrl + shareUrl;} else if(shareUrl.substring(0,4)!='http') {shareUrl=baseUrl + window.location.pathname.replace(/\/[^\/]*$/i,'/' + shareUrl);}if(/dynamic|stg|preview|static|origin/.test(shareUrl)) {var pu=parseUri(shareUrl);pu.authority=(siteLang=="en") ? "www.fifa.com":siteLang + ".fifa.com";shareUrl=pu.toString();}return shareUrl;},sendEmail:function() {if(SharingToolsPopup.checkFormData()) {wAnalytics.onShare("email my friend",null,SharingToolsPopup.contentInfo);$j("#stErrorCaptcha").hide();var pu=parseUri(SharingToolsPopup.shareUrl);pu.queryKey.cid="sendemail";var url=pu.toString();$j.post("/library/sharingtools/_email.htmx",{stEmailTo:$j("#stEmailTo").val(),stEmailFrom:$j("#stEmailFrom").val(),stEmailName:sanitizeHtml($j("#stEmailName").val()),stLblEmailMessage:sanitizeHtml($j("#stEmailMessage").val()),stUrln:url,stTitle:sanitizeHtml(SharingToolsPopup.shareTitle),stDescription:sanitizeHtml(SharingToolsPopup.shareDescription),stThumbnail:SharingToolsPopup.shareThumb ? SharingToolsPopup.shareThumb:"",stCaptcha:$j("#stCaptcha").val(),stCaptchaEncoded:$j("#stCaptchaEncoded").val()},function(data) {if(data=="ERR0") {$j("#stErrorCaptcha").show();$j("#stCaptcha").addClass("validateError");} else {$j("#sharingTools .stEmailForm").hide();$j("#sharingTools .stEmailConfirm").show();}});}},checkFormData:function() {$j("#sharingTools div.stError").hide();$j("#sharingTools input").removeClass("validateError");var to=$j("#stEmailTo").val().trim();var from=$j("#stEmailFrom").val().trim();var name=$j("#stEmailName").val().trim();var message=$j("#stEmailName").val().trim();var captcha=$j("#stCaptcha").val().trim();var error=false;if(to.length==0) {$j("#stErrorMsg").show();$j("#stEmailTo").addClass("validateError");error=true;} else if(!isValidEmailAddress(to,true)) {$j("#stErrorMsgEmailTo").show();$j("#stEmailTo").addClass("validateError");error=true;}if(from.length==0) {$j("#stErrorMsg").show();$j("#stEmailFrom").addClass("validateError");error=true;} else if(!isValidEmailAddress(from,false)) {$j("#stErrorMsgEmailFrom").show();$j("#stEmailFrom").addClass("validateError");error=true;}if(name.length==0) {$j("#stErrorMsg").show();$j("#stEmailName").addClass("validateError");error=true;}if(captcha.length==0) {$j("#stErrorMsg").show();$j("#stCaptcha").addClass("validateError");error=true;}return !error;},createMarkup:function() {return "<div class='bH'><div class='closeIcon' title='" + sharingToolsPopupVoc_close + "'></div></div>"+ "<div class='bC'><div class='stTitle'><span>" + sharingToolsPopupVoc_shareWithYourFriends + "</span></div>"+ "<div id='stPreview'><img /><div class='stPreviewTitle'></div><div class='stPreviewDescription'></div></div>"+ "<div class='stTools'><input type='hidden' id='stToolBaseAlt' value='" + sharingToolsPopupVoc_shareOn + "' /><ul></ul></div></div><div class='bF'></div>";}}var TableSortable=Class.create();TableSortable.prototype ={DATE_RE:/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,initialize:function(id){id=id||'';var table=$(id);if(!table) return;this.makeSortable(table);},makeSortable:function(table) {if(table.getElementsByTagName('thead').length==0){the=document.createElement('thead');the.appendChild(table.rows[0]);table.insertBefore(the,table.firstChild);}if(table.tHead==null) table.tHead=table.getElementsByTagName('thead')[0];if(table.tHead.rows.length!=1) return;// can't cope with two header rowsheadrow=table.tHead.rows[0].cells;for (var i=0;i<headrow.length;i++){if(!$(headrow[i]).hasClassName('sorttable_nosort')){mtch=headrow[i].className.match(/\bsorttable_([a-z0-9]+)\b/);if(mtch) { override=mtch[1];}if(mtch&&typeof this["sort_"+override]=='function'){headrow[i].sorttable_sortfunction=sorttable["sort_"+override];}else{headrow[i].sorttable_sortfunction=this.guessType(table,i);}headrow[i].sorttable_columnindex=i;this.sorttable_tbody=table.tBodies[0];headrow[i].setStyle({cursor:'pointer'});var me= this;Event.observe(headrow[i],"click",function(evt){var target=Event.element(evt);if(target.tagName.toLowerCase()!='th')target=target.up('th');if(target.hasClassName('sorttable_sorted')){me.reverse(me.sorttable_tbody);target.removeClassName('sorttable_sorted');target.addClassName('sorttable_sorted_reverse');target.removeChild($('sorttable_sortfwdind'));sortrevind=document.createElement('span');sortrevind.id='sorttable_sortrevind';sortrevind.innerHTML='';target.appendChild(sortrevind);return;}if(target.hasClassName('sorttable_sorted_reverse')){me.reverse(me.sorttable_tbody);target.removeClassName('sorttable_sorted_reverse');target.addClassName('sorttable_sorted');target.removeChild($('sorttable_sortrevind'));sortfwdind=document.createElement('span');sortfwdind.id='sorttable_sortfwdind';sortfwdind.innerHTML='';target.appendChild(sortfwdind);return;}theadrow=target.parentNode;$A(theadrow.childNodes).each(function(cell){if(cell.nodeType==1){ // an elementcell.removeClassName('sorttable_sorted_reverse');cell.removeClassName('sorttable_sorted');}});sortfwdind =$('sorttable_sortfwdind');if(sortfwdind) { sortfwdind.parentNode.removeChild(sortfwdind);}sortrevind=$('sorttable_sortrevind');if(sortrevind) { sortrevind.parentNode.removeChild(sortrevind);}target.addClassName(' sorttable_sorted');sortfwdind=document.createElement('span');sortfwdind.id="sorttable_sortfwdind";sortfwdind.innerHTML ='';target.appendChild(sortfwdind);row_array=[];col=target.sorttable_columnindex;rows=me.sorttable_tbody.rows;for (var j=0;j<rows.length;j++){row_array[row_array.length]=[me.getInnerText(rows[j].cells[col]),rows[j]];}row_array.sort(target.sorttable_sortfunction);tb=me.sorttable_tbody;for (var j=0;j<row_array.length;j++){var aRow=$(row_array[j][1]);if(j%2==0){aRow.removeClassName('even');aRow.addClassName('odd');}else{aRow.removeClassName('odd');aRow.addClassName('even');}tb.appendChild(aRow);}delete row_array;});}}},guessType:function(table,column) {sortfn=this.sort_alpha;for (var i=0;i<table.tBodies[0].rows.length;i++){text=this.getInnerText(table.tBodies[0].rows[i].cells[column]);if(text!=''){if(text.match(/^-?[$]?[\d,.]+%?$/)){return this.sort_numeric;}possdate=text.match(this.DATE_RE)if(possdate){first=parseInt(possdate[1]);second=parseInt(possdate[2]);if(first>12){return this.sort_ddmm;}else if(second>12){return this.sort_mmdd;}else{sortfn=this.sort_ddmm;}}}}return sortfn;},getInnerText:function(node){hasInputs=(typeof node.getElementsByTagName=='function')&&node.getElementsByTagName('input').length;if(node.getAttribute("sorttable_customkey")!=null){return node.getAttribute("sorttable_customkey");}else if(typeof node.textContent!='undefined'&&!hasInputs){return node.textContent.replace(/^\s+|\s+$/g,'');}else if(typeof node.innerText!='undefined'&&!hasInputs){return node.innerText.replace(/^\s+|\s+$/g,'');}else if(typeof node.text!='undefined'&&!hasInputs){return node.text.replace(/^\s+|\s+$/g,'');}else{switch (node.nodeType){case 3:if(node.nodeName.toLowerCase()=='input'){return node.value.replace(/^\s+|\s+$/g,'');}case 4:return node.nodeValue.replace(/^\s+|\s+$/g,'');break;case 1:case 11:var innerText='';for (var i=0;i<node.childNodes.length;i++){innerText += this.getInnerText(node.childNodes[i]);}return innerText.replace(/^\s+|\s+$/g,'');break;default:return '';}}},reverse:function(tbody){newrows=[];for (var i=0;i<tbody.rows.length;i++){newrows[newrows.length]=tbody.rows[i];}for (var i=newrows.length-1;i>=0;i--){tbody.appendChild(newrows[i]);}delete newrows;},sort_numeric:function(a,b){aa=parseFloat(a[0].replace(/[^0-9.-]/g,''));if(isNaN(aa)) aa=0;bb=parseFloat(b[0].replace(/[^0-9.-]/g,''));if(isNaN(bb)) bb=0;return aa-bb;},sort_alpha:function(a,b){if(a[0]==b[0]) return 0;if(a[0]<b[0]) return -1;return 1;},sort_ddmm:function(a,b){mtch=a[0].match(sorttable.DATE_RE);y=mtch[3];m=mtch[2];d=mtch[1];if(m.length==1) m='0'+m;if(d.length==1) d='0'+d;dt1=y+m+d;mtch=b[0].match(sorttable.DATE_RE);y=mtch[3];m=mtch[2];d=mtch[1];if(m.length==1) m='0'+m;if(d.length==1) d='0'+d;dt2=y+m+d;if(dt1==dt2) return 0;if(dt1<dt2) return -1;return 1;},sort_mmdd:function(a,b){mtch=a[0].match(sorttable.DATE_RE);y=mtch[3];d=mtch[2];m=mtch[1];if(m.length==1) m='0'+m;if(d.length==1) d='0'+d;dt1=y+m+d;mtch=b[0].match(sorttable.DATE_RE);y=mtch[3];d=mtch[2];m=mtch[1];if(m.length==1) m='0'+m;if(d.length==1) d='0'+d;dt2=y+m+d;if(dt1==dt2) return 0;if(dt1<dt2) return -1;return 1;},shaker_sort:function(list,comp_func){var b=0;var t=list.length - 1;var swap=true;while(swap){swap=false;for(var i=b;i<t;++i) {if(comp_func(list[i],list[i+1])>0) {var q=list[i];list[i]=list[i+1];list[i+1]=q;swap=true;}} // fort--;if(!swap) break;for(var i=t;i>b;--i){if(comp_func(list[i],list[i-1])<0){var q=list[i];list[i]=list[i-1];list[i-1]=q;swap=true;}}b++;}}}var url;var mascot={VoteMascot:function(id,p){var f=$('f_poll'+id);var d='dynamic_'+id;var bV=false;url=p;for (var i=0;i<f.i_answers.length;i++){if(f.i_answers[i].checked)bV=true;}if(!bV){alert(f.message.value);return false;}new Ajax.Updater(d,url+'vote.htmx',{method:'post',parameters:f.serialize()});},ViewROResultMascot:function(id,lang){var d='dynamic_'+id;var l='';if(lang!==undefined&&lang!=null&&lang!='') l='/language='+lang;new Ajax.Updater(d,url+'result.html',{method:'get'});},LoadMascot:function(id,p){url=pvar d='dynamic_'+id;var c=Cookie.get('poll'+id);var u=url+'result.html';if(c===undefined||c==null||c=='')u=url+'vote.html'new Ajax.Updater(d,u,{method:'get'});}}var TurfSearch={initForm:function() {var qs=location.search;var arr=qs.parseQuery();if(arr.fu>0) { $j("#user").val(arr.fu);}if(arr.cf>0) { $j("#confederation").val(arr.cf);}if(arr.st>0) { $j("#star").val(arr.st);}if(arr.fu>0||arr.cf>0||arr.st>0) {TurfSearch.doSearch();}},doSearch:function() {$j('#loading').insertBefore('#turfSearchResultsPane').ajaxStart(function() {$j('#turfSearchSubmit').attr('disabled','disabled');$j('#turfSearchResultsPane').hide();$j(this).show();}).ajaxStop(function() {$j('#turfSearchSubmit').removeAttr('disabled');$j(this).hide();});var cc=$j("#country").val();var lc=$j("#licencee").val();var cf=$j("#confederation").val();var st=$j("#star").val();var fu=$j("#user").val();var an=$j("#authNumber").val();var fn=$j("#fieldName").val();var qs='';if(cf) qs += 'cf=' + cf + '&';if(cc) qs += 'cc=' + cc + '&';if(lc) qs += 'lc=' + lc + '&';if(st) qs += 'st=' + st + '&';if(fu) qs += 'fu=' + fu + '&';if(an) qs += 'an=' + an + '&';if(fn) qs += 'fn=' + fn + '&';var u='/aboutfifa/footballdevelopment/library/pitchesandequipment/_turfsearchresults.htmx?' + qs;$j.get(u,function(data) {$j("#turfSearchResultsPane").replaceWith(data);});}}selettore=$j('#pp_container>li');selettore.each(function(idx) {$j(this).data('slide',amicimiei.eq(idx));}).hover(function() {$j(this).value();});$j(document).ready(function() {$j('#ppWindowContainer>div').hide();$j('#ppwCollapser').hide();$j('#pagePreviewerBackground').hide();$j('#pagePreviewerHeight').hide();$j('#ppwCollapserDiv').hide();$j('#citiesMap>area').each(function(idx) {$j(this).data('data',$j('#ppWindowContainer>div').eq(idx));}).click(function() {$j('#ppWindowContainer>div').hide();$j('#pagePreviewerHeight').show();$j('#pagePreviewerBackground').show();$j('#ppwCollapser').hide();$j('#ppwCollapserDiv').show();$j(this).show('slow');$j(this).data('data').show('slow');});$j('#ppcontainer>li').each(function(idx) {$j(this).data('data',$j('#ppWindowContainer>div').eq(idx));}).click(function() {$j('#ppWindowContainer>div').hide();$j('#pagePreviewerHeight').show();$j('#pagePreviewerBackground').show();$j('#ppwCollapserDiv').show();$j('#ppwCollapser').hide();$j(this).show('slow');$j(this).data('data').show('slow');});$j('#ppwCollapserDiv').hover(function() {$j('#ppwCollapser').fadeIn('slow');$j('#ppwCollapserDiv').css("cursor","pointer");setTimeout(function(){$j('#ppwCollapser').fadeOut(400);},10000);});$j('#ppwCollapserDiv').click(function() {$j('#pagePreviewerBackground').hide();$j('#pagePreviewerHeight').hide();$j('#ppWindowContainer>div').hide();$j('#ppwCollapserDiv').hide();$j('#ppwCollapser').hide();});$j('#ppwCollapser').click(function() {$j('#pagePreviewerBackground').hide();$j('#pagePreviewerHeight').hide();$j('#ppWindowContainer>div').hide();$j('#ppwCollapserDiv').hide();$j('#ppwCollapser').hide();});});var TurfSearchNew={initForm:function() {$j('#turfSearchResultsPane').hide();var qs=location.search;var arr=qs.parseQuery();if(arr.fu>0) { $j("#user").val(arr.fu);}if(arr.cf>0) { $j("#confederation").val(arr.cf);}if(arr.st>0) { $j("#star").val(arr.st);}if(arr.fu>0||arr.cf>0||arr.st>0) {TurfSearchNew.doSearch();}},doSearch:function() {$j('#loading').insertBefore('#turfSearchResultsPane').ajaxStart(function() {$j('#turfSearchSubmit').attr('disabled','disabled');$j('#turfSearchResultsPane').hide();$j(this).show();}).ajaxStop(function() {$j('#turfSearchSubmit').removeAttr('disabled');$j(this).hide();});var cc=$j("#country").val();var lc=$j("#licencee").val();var cf=$j("#confederation").val();var st=$j("#star").val();var fu=$j("#user").val();var an=$j("#authNumber").val();var fn=$j("#fieldName").val();var qs='';if(cf) qs += 'cf=' + cf + '&';if(cc) qs += 'cc=' + cc + '&';if(lc) qs += 'lc=' + lc + '&';if(st) qs += 'st=' + st + '&';if(fu) qs += 'fu=' + fu + '&';if(an) qs += 'an=' + an + '&';if(fn) qs += 'fn=' + fn + '&';var u='/aboutfifa/organisation/marketing/qualityprogramme/footballturf/library/pitchesproducts/_turfsearchresults.htmx?' + qs;$j.get(u,function(data) {$j("#turfSearchResultsPane").replaceWith(data);});}}var TurfProductSearch={initForm:function() {$j('#turfSearchResultsPane').hide();var qs=location.search;var arr=qs.parseQuery();if(arr.prd>0) {$j('#producer').val(arr.prd);TurfProductSearch.doSearch();}},doSearch:function() {$j('#loading').insertBefore('#turfSearchResultsPane').ajaxStart(function() {$j('#turfSearchSubmit').attr('disabled','disabled');$j('#turfSearchResultsPane').hide();$j(this).show();}).ajaxStop(function() {$j('#turfSearchSubmit').removeAttr('disabled');$j(this).hide();});var producer=$j("#producer").val();var productName=$j("#productName").val();var fillMaterial=$j("#fillMaterial").val();var elasticLayer=$j("#elasticLayer").attr("checked");var prodForAmateur=$j("#productForAmateur").attr("checked");var prodForPro=$j("#productForProfessional").attr("checked");var prodCertPitches=$j("#productCertifiedPitches").attr("checked");var prodRecertPitches=$j("#productRecertifiedPitches").attr("checked");elasticLayer=(!!elasticLayer) ? 1:0;prodForAmateur=(!!prodForAmateur) ? 1:0;prodForPro=(!!prodForPro) ? 1:0;prodCertPitches=(!!prodCertPitches) ? 1:0;prodRecertPitches=(!!prodRecertPitches) ? 1:0;var qs='';if(producer) qs += 'producer=' + producer + '&';if(productName) qs += 'productName=' + productName + '&';if(fillMaterial) qs += 'fillMaterial=' + fillMaterial + '&';if(elasticLayer) qs += 'elasticLayer=' + elasticLayer + '&';if(prodForAmateur) qs += 'prodForAmateur=' + prodForAmateur + '&';if(prodForPro) qs += 'prodForPro=' + prodForPro + '&';if(prodCertPitches) qs += 'prodCertPitches=' + prodCertPitches + '&';if(prodRecertPitches) qs += 'prodRecertPitches=' + prodRecertPitches + '&';var u='/aboutfifa/organisation/marketing/qualityprogramme/footballturf/library/pitchesproducts/_turfproductsearchresults.htmx?' + qs;$j.get(u,function(data) {$j("#turfSearchResultsPane").replaceWith(data);});}}var qTeams={ RSA:43883,ALG:43843,CMR:43849,CIV:43854,GHA:43860,NGA:43876,AUS:43976,JPN:43819,PRK:43821,KOR:43822,DEN:43941,ENG:43942,FRA:43946,GER:43948,GRE:43949,ITA:43954,NED:43960,POR:43963,SRB:1902465,SVK:44002,SVN:43968,ESP:43969,SUI:43971,HON:43909,MEX:43911,USA:43921,ARG:43922,BRA:43924,CHI:43925,PAR:43928,URU:43930,NZL:43978};$j(document).ready(function() {try {var arVersion=navigator.appVersion.split("MSIE")var version=parseFloat(arVersion[1])if((version>=5.5)&&(version<7)) {for (var i=0;i<document.images.length;i++) {var img=document.images[i]var imgName=img.src.toUpperCase()if(imgName.substring(imgName.length - 3,imgName.length)=="PNG") {var imgID=(img.id) ? "id='" + img.id + "' ":""var imgClass=(img.className) ? "class='" + img.className + "' ":""var imgTitle=(img.title) ? "title='" + img.title + "' ":"title='" + img.alt + "' "var imgStyle="display:inline-block;" + img.style.cssTextif(img.align=="left") imgStyle="float:left;" + imgStyleif(img.align=="right") imgStyle="float:right;" + imgStyleif(img.parentElement.href) imgStyle="cursor:hand;" + imgStylevar strNewHTML="<span " + imgID + imgClass + imgTitle+ " style=\"" + "width:" + img.width + "px;height:" + img.height + "px;" + imgStyle + ";"+ "filter:progid:DXImageTransform.Microsoft.AlphaImageLoader"+ "(src=\'" + img.src + "\',sizingMethod='scale');\"></span>"img.outerHTML=strNewHTMLi=i - 1}}}} catch (e) { }});var pageredirect={goToPage:function(page) {location.href=page;}};var FWCLoginModule={myGamesLoaded:false,partnerSite:false,init:function(partner) {if(partner===true) FWCLoginModule.partnerSite=true;var c=Cookie.get('FIFAComClub');bLoggedIn=false;if(c!=null&&c!==undefined) {try { if(c.toQueryParams().un.length>0) bLoggedIn=true;}catch (e) { }}if(!bLoggedIn) {$j("#noLogged").show();$j("#Logged").hide();} else {$j("#noLogged").hide();$j(".fwc_club").addClass('logged');$j("#myFwcName a").text(c.toQueryParams().un);var avatarUrl=baseUrl + "/userdata/" + splitResourceId(getUOpt('id'),3) + "/avatar_50.png";$j("#myFwcAvatar a").html("<img src='" + avatarUrl + "' height='50' width='50'/>");$j("#myFwcName a,#myFwcAvatar a").attr("href",baseUrl + "/theclub/myprofile/index.htmx");var t1=c.toQueryParams().m1;if(t1.length>0) {FWCLoginModule.bindTeam(1,t1);} else {$j("#myFwcTeam").hide();}$j("#Logged").show();changeAbsLink('#fwc_lev0menu',baseUrl + '/theclub/index.html',baseUrl + '/theclub/myprofile/index.htmx');}},bindTeam:function(i,code) {if(code.length>0) {if(qTeams[code]!=undefined)$j("#myFwcTeam").html('<a href="' + baseUrl + '/worldcup/archive/southafrica2010/teams/team=' + qTeams[code] + '/index.html"><img width="40" height="35" title="' + code + '" alt="' + code + '" src="' + baseUrl + '/imgml/flags/reflected/m/' + code + '.png"/><span>' + code + '</span></a>');else$j("#myFwcTeam").html('<a href="' + baseUrl + '/worldcup/archive/southafrica2010/preliminaries/teams/ma=' + code + '/index.html"><img width="30" height="20" title="' + code + '" alt="' + code + '" src="' + baseUrl + '/imgml/flags/xm/' + code + '.gif"/><span>' + code + '</span></a>');}else {$j("#myFwcTeam" + i).hide();}},loginPopup:function() {if($j('#loginRegister').hasClass("open")) {$j('#loginRegister').removeClass("open");$j('#loginRegister #FwcLoginPopup').hide();} else {$j('#loginRegister').addClass("open");$j('#loginRegister #FwcLoginPopup').show();}},loggedPopup:function() {if($j('#myActivities').hasClass("open")) {$j('#myActivities').removeClass("open");$j('#myFwcProfile #FwcLoggedPopup').hide();} else {$j('#myActivities').addClass("open");$j('#myFwcProfile #FwcLoggedPopup').show();if(!FWCLoginModule.partnerSite&&!FWCLoginModule.myGamesLoaded) {FWCLoginModule.myGamesLoaded=true;$j("#FwcLoggedPopup #games").load("/theclub/library/common/_mygames.html",function() {$j('#myGamesAccordion').append("<dt class='bottom'><div></div></dt><dd></dd>");var dth=0;$j('#myGamesAccordion dt').each(function() { dth += $j(this).height() });$j('#myGamesAccordion dd').height($j('#myGamesAccordion').height() - dth);$j('#myGamesAccordion dt:first a').addClass("current");$j('#myGamesAccordion dd:first').show();$j('#myGamesAccordion dd:not(:first)').hide();$j('#myGamesAccordion dt a').click(function() {if(!$j(this).hasClass("current")) {$j('#myGamesAccordion dd').slideUp();$j(this).parent().next().slideDown();$j('#myGamesAccordion dt a.current').removeClass("current");$j(this).addClass("current");}return false;});});}}},logout:function() {Cookie.erase('FIFAComClub');Cookie.erase('warned');bLoggedIn=false;$j("#noLogged").show();$j("#Logged").hide();changeAbsLink('#fwc_lev0menu',baseUrl + '/theclub/myprofile/index.htmx',baseUrl + '/theclub/index.html');if(bNeedAutentication)document.location.href="/";elsedocument.location.href=document.location.href;if($j("#nr_tabs").hasClass("bgTabMyTeam")) {NewsReader.showMyTeam();}}}var NewsReader ={options:undefined,news:undefined,videos:undefined,photos:undefined,myteam:undefined,urlVideos:undefined,urlPhotos:undefined,urlMyTeam:undefined,init:function(opt,urlVideos,urlPhotos) {NewsReader.options=opt;NewsReader.urlVideos=urlVideos;NewsReader.urlPhotos=urlPhotos;NewsReader.news=$j('#fwc_hpNRDetailContainer').html();$j('#fwc_hpnewsreader #fwc_newsreaderWrapper .empty').remove();$j('#fwc_hpNRDetailContainer').show();NewsReader.setTabAnalytics("newsreader - news");$j('#fwc_hpNRDetailContainer').galleryView(NewsReader.options);},showNews:function(mode) {if(!mode) wAnalytics.onHPTop("newsreader - news - tab news");$j('#fwc_hpNRDetailContainer').html(NewsReader.news);$j(document).stopTime("transition");$j('#fwc_hpNRDetailContainer').show();NewsReader.setTabAnalytics("newsreader - news");$j('#fwc_hpNRDetailContainer').galleryView(NewsReader.options);$j('.nh h3').attr('class','');$j('.nh h3').addClass('news');$j('#nr_tabs').attr('class','');$j('#nr_tabs').addClass('bgTabNews');try {mngHPMatchDetail.deselectAll();if(!mode) $j('#fwcHPMatchlist').load('/Live/Competitions/worldcup/_hptournament.html');}catch (e) { }},showVideos:function() {if(NewsReader.videos!='loading') {if(NewsReader.videos===undefined) {NewsReader.videos='loading';$j.get(NewsReader.urlVideos,function(data) { NewsReader.videos=data;NewsReader.showVideos();});}else {wAnalytics.onHPTop("newsreader - videos - tab videos");$j('#fwc_hpNRDetailContainer').replaceWith(NewsReader.videos);$j(document).stopTime("transition");$j('#fwc_hpNRDetailContainer').show();NewsReader.setTabAnalytics("newsreader - videos");$j('#fwc_hpNRDetailContainer').galleryView(NewsReader.options);$j('.nh h3').attr('class','');$j('.nh h3').addClass('video');$j('#nr_tabs').attr('class','');$j('#nr_tabs').addClass('bgTabVideo');try {mngHPMatchDetail.deselectAll();$j('#fwcHPMatchlist').load('/Live/Competitions/worldcup/_hptournament.html');}catch (e) { }}}},showPhotos:function() {if(NewsReader.photos!='loading') {if(NewsReader.photos===undefined) {NewsReader.photos='loading';$j.get(NewsReader.urlPhotos,function(data) { NewsReader.photos=data;NewsReader.showPhotos();});}else {wAnalytics.onHPTop("newsreader - photos - tab photos");$j('#fwc_hpNRDetailContainer').replaceWith(NewsReader.photos);$j(document).stopTime("transition");$j('#fwc_hpNRDetailContainer').show();NewsReader.setTabAnalytics("newsreader - photos");$j('#fwc_hpNRDetailContainer').galleryView(NewsReader.options);$j('.nh h3').attr('class','');$j('.nh h3').addClass('photo');$j('#nr_tabs').attr('class','');$j('#nr_tabs').addClass('bgTabPhoto');try {mngHPMatchDetail.deselectAll();$j('#fwcHPMatchlist').load('/Live/Competitions/worldcup/_hptournament.html');}catch (e) { }}}},showMyTeam:function() {if(NewsReader.myteam!='loading') {var teamurl=NewsReader.calculateTeamUrl();if(teamurl!=NewsReader.urlMyTeam||(NewsReader.myteam===undefined)) {NewsReader.myteam='loading';NewsReader.urlMyTeam=teamurl;$j.get(teamurl,function(data) { NewsReader.myteam=data;NewsReader.showMyTeam();});}else {wAnalytics.onHPTop("newsreader - my team - tab my team");$j('#fwc_hpNRDetailContainer').replaceWith(NewsReader.myteam);$j(document).stopTime("transition");NewsReader.setTabAnalyticsMyTeam("newsreader - my team");$j('#fwc_hpNRDetailContainer').show();$j('#nr_tabs').attr('class','');$j('#nr_tabs').addClass('bgTabMyTeam');try {mngHPMatchDetail.deselectAll();$j('#fwcHPMatchlist').load('/Live/Competitions/worldcup/_hptournament.html');}catch (e) { }}}},calculateTeamUrl:function() {if(bLoggedIn) {var c=Cookie.get('FIFAComClub');var t1Tri=c.toQueryParams().m1;if(qTeams[t1Tri]!=undefined) {return '/worldcup/archive/southafrica2010/teams/team=' + qTeams[t1Tri] + '/library/_myteam_hp.html';}else {return '/worldcup/archive/southafrica2010/library/homepage/_myteam_teamselection.html';}}else {return '/worldcup/archive/southafrica2010/library/homepage/_myteam_login.html';}},showNone:function() {$j('#nr_tabs').attr('class','');$j('#nr_tabs').addClass('bgTabNone');},setTabAnalytics:function(val) {$j("div",$j(".fwc_filmstrip li").eq(0)).click(function() { wAnalytics.onHPTop(val + " - box " + 1);});$j("div",$j(".fwc_filmstrip li").eq(1)).click(function() { wAnalytics.onHPTop(val + " - box " + 2);});$j("div",$j(".fwc_filmstrip li").eq(2)).click(function() { wAnalytics.onHPTop(val + " - box " + 3);});$j("div",$j(".fwc_filmstrip li").eq(3)).click(function() { wAnalytics.onHPTop(val + " - box " + 4);});$j(".fwc_panel>a").click(function() { wAnalytics.onHPTop(val + " - picture");});$j(".fwc_panel-overlay h2 a,.fwc_panel-overlay .summary a").click(function() { wAnalytics.onHPTop(val + " - caption");});$j(".fwc_panel-overlay .related a").click(function() { wAnalytics.onHPTop(val + " - related items");});},setTabAnalyticsMyTeam:function(val) {$j(".fwchp_myteamtabTop .favTnews a").click(function() { wAnalytics.onHPTop(val + " - news");});$j(".fwchp_myteamtabTop .favTmatch a").click(function() { wAnalytics.onHPTop(val + " - fixtures and results");});$j(".fwchp_myteamtabTop .favTphoto a").click(function() { wAnalytics.onHPTop(val + " - photos");});}}function addBBHover(url) {if(url!='') {var elem=$j("a[href='" + url + "']").parents('.box').children('div.bH');elem.attr("class","bH bHHover");if(elem.children('h2').html()!=null) elem.children('h2').wrap('<a href="' + url + '"></a>');if(elem.children('h3').html()!=null) elem.children('h3').wrap('<a href="' + url + '"></a>');}}if(typeof (splitResourceId)==='undefined') {function splitResourceId(id,splitLen) {var ret='';id=id.toString();if(id!='') {for (var i=0;i<(id.length - id.length % splitLen) / splitLen;i++) {ret += id.substr(i * splitLen,splitLen) + '/';}if(i * splitLen<id.length) ret += id.substr(i * splitLen) + '/';ret=ret.slice(0,-1);}return ret;}}var MyTeamTabHandler ={LoginSubmit:function(validator) {if(validator.validate()) {$j('#d_errorPanelLogin').hide();var u=$j("#f_login #cf_email").val();var p=$j("#f_login #cf_password").val();var c=$j("#f_login #c_rememberMe").val();var url="/users/modulelogin.htmx";$j.post(url,{ password:p,login:u,saveLogin:c },function(resp) {if(resp.match("^0#")=="0#") //StartsWith miming{FWCLoginModule.init();NewsReader.showMyTeam();}else {$j("d_errorPanelLogin").text(resp.substr(resp.indexOf("#") + 1,resp.length)).show();}});return false;}else {$j('#d_errorPanelLogin').show();return false;}},TeamSelect:function() {$j("#chooseTeam td a").click(function() {var maTri=$j(this).find("img").attr("src")maTri=maTri.substring(maTri.lastIndexOf("/") + 1).replace(".gif","")var url="/theclub/myprofile/profile/favteam.htmx";$j.post(url,{ m:maTri },function(resp) {if(resp=="0") {NewsReader.showMyTeam();FWCLoginModule.init();}})return false;});}}var HighlightHeaderTable={main:function(tableClass,replaceTag) {var rTag="acronym";if(replaceTag) rTag=replaceTag;$j(tableClass).each(function() {var tableID=$j(this).attr("id");$j("#" + tableID + " tbody td.info").live("mouseover",function() { HighlightHeaderTable.mOver(this,tableID,rTag);}).live('mouseout',function() { HighlightHeaderTable.mOut(this,tableID,rTag);})})},mOver:function(el,id,rTag) {$j(el).parent().addClass('on');$j("#" + id + " td:nth-child(" + (el.cellIndex + 1) + ")").addClass("on");if($j("#" + id + " th:eq(" + el.cellIndex + ") " + rTag + "").attr("title")) {$j("#" + id).each(function() {$j("th:eq(" + el.cellIndex + ")",this).prepend('<span class="expandedDesc">'+ $j("th:eq(" + el.cellIndex + ") " + rTag + "",this).attr("title") + "</span>");$j("th:eq(" + el.cellIndex + ") " + rTag + "",this).hide();})}},mOut:function(el,id,rTag) {$j(el).parent().removeClass('on');$j("#" + id + " td:nth-child(" + (el.cellIndex + 1) + ")").removeClass("on");if($j("#" + id + " th:eq(" + el.cellIndex + ") " + rTag + "").attr("title")) {$j("#" + id).each(function() {$j("th:eq(" + el.cellIndex + ") span.expandedDesc",this).remove();$j("th:eq(" + el.cellIndex + ") " + rTag + "",this).show();})}}};(function($) {$.fn.tickerScroll=function(settings) {var config={ 'ulSelector':'#ulTicker','openSelector':'#hpLatestNews' };if(settings) $.extend(config,settings);function animateHeadline() {$("#ulTicker li:first").css("position","relative").animate({ left:'0px' },1500,function() {timedFunc=setTimeout(function() {resetLiStyle();},2000)})};function animateHeadlineRev() {$("#ulTicker li:first").css("position","relative").animate({ right:'0px' },1500,function() {timedFunc=setTimeout(function() {resetLiStyle();},2000)})};function fadeOutIE() {$("#tickerBody").fadeOut(500,function() {$("#hpLatestNewsBody").fadeIn(500,function() {$("#hpLatestNews").animate({ height:'516px' },200);});});};function fadeOutFF() {$("#tickerBody").animate({ opacity:0 },500,function() {$("#hpLatestNewsBody").fadeIn(500,function() {$("#hpLatestNews").animate({ height:'516px' },200);$("#hpLatestNews").css("z-index","4920");});});};function fadeInFF() {$("#hpLatestNews").animate({ height:'40px' },200,function() {$("#hpLatestNewsBody").fadeOut(500,function() {$("#tickerBody").animate({ opacity:1 },500);});});$("#hpLatestNews").css("z-index","4900");};function fadeInIE() {$("#hpLatestNews").animate({ height:'40px' },200,function() {$("#hpLatestNewsBody").fadeOut(500,function() {$("#tickerBody").fadeIn(500);});});};function resetLiStyle() {$("#ulTicker li:first").fadeOut(500,function() {$(this).remove().attr("style","").appendTo("#ulTicker");if(/^(.)*(ar.){1}(.)*(fifa.com){1}/.test(location.toString())) { animateHeadlineRev();} else { animateHeadline();}})};var newsLoaded=false;this.each(function() {if(/^(.)*(ar.){1}(.)*(fifa.com){1}/.test(location.toString())) { animateHeadlineRev();} else { animateHeadline();}$(".tickOpen").click(function() {wAnalytics.onHPTop("newsreader - open news");if(newsLoaded) {if($.browser.msie) { fadeOutIE();} else { fadeOutFF();}}else {$("#hpLatestNews .hpNews").load('/worldcup/archive/southafrica2010/library/homepage/_latestnews_hp.html',function() {$j("#hpLatestNews .hpNews .newsl li:nth-child(9)").css("background","none");$j("#hpLatestNews .hpNews .newsl li:nth-child(10)").css("background","none");if($.browser.msie) { fadeOutIE();} else { fadeOutFF();}newsLoaded=true;});}});$("#hpClose").click(function() {if($.browser.msie) { fadeInIE();} else { fadeInFF();}});});return this;};})(jQuery);var eCommerceModule={uListCurrent:0,ulListItemsCount:0,ulListContainerWidth:100,c:1,headline_interval:null,delay:3000,init:function() {eCommerceModule.ulListItemsCount=$j('.storemodule #ulSlide li').size();$j(".storemodule #ulSlide li:last").clone().prependTo($j(".storemodule #ulSlide"));$j(".storemodule #ulSlide li:eq(1)").clone().appendTo($j(".storemodule #ulSlide"));$j('.storemodule #ulSlide').animate({ left:"-100px" },0);$j('.storemodule #ulSlide').width(eCommerceModule.ulListContainerWidth * (eCommerceModule.ulListItemsCount + 2));eCommerceModule.headline_interval=setInterval('eCommerceModule.headline_rotate()',eCommerceModule.delay);$j('.storemodule .sx').hover(function() { $j(this).addClass('hover') },function() { $j(this).removeClass('hover') });$j('.storemodule .dx').hover(function() { $j(this).addClass('hover') },function() { $j(this).removeClass('hover') });$j('.storemodule ul.nav li').hover(function() { $j(this).addClass('hover') },function() { $j(this).removeClass('hover') })$j('.storemodule ul.nav li').click(function() {var id=$j(this).attr('id').replace('item','');var leftmove="0px";switch (id) {case "1":leftmove="100px";break;case "2":leftmove="-200px";break;case "3":leftmove="-300px";break;case "4":leftmove="-400px";break;}eCommerceModule.c=parseInt(id);eCommerceModule.headline_animate(eCommerceModule.c,leftmove);});$j('.storemodule .sx').click(function() {if(eCommerceModule.c>1) {eCommerceModule.c--;} else {eCommerceModule.c=eCommerceModule.ulListItemsCount;}eCommerceModule.headline_animate(eCommerceModule.c,"+=100px");});$j('.storemodule .dx').click(function() {if(eCommerceModule.c<eCommerceModule.ulListItemsCount) {eCommerceModule.c++;} else {eCommerceModule.c=1;}eCommerceModule.headline_animate(eCommerceModule.c,"-=100px");});},headline_animate:function(c,leftValue) {clearInterval(eCommerceModule.headline_interval);$j('.storemodule #ulSlide').stop(true,true).animate({ left:leftValue },"fast",function() {if(c==1) {$j(this).animate({ left:"-100px" },0);} else if(c==eCommerceModule.ulListItemsCount) {$j(this).animate({ left:"-400px" },0);}});$j('.storemodule ul.nav li').removeClass('first hover active');$j('.storemodule #item' + c).addClass('active');$j('.storemodule ul#listItem li').removeClass('first hover');$j('.storemodule #list' + c).addClass('hover');eCommerceModule.headline_interval=setInterval('eCommerceModule.headline_rotate()',eCommerceModule.delay);},headline_rotate:function() {if(eCommerceModule.c==eCommerceModule.ulListItemsCount) {eCommerceModule.c=1;} else {eCommerceModule.c++;}eCommerceModule.headline_animate(eCommerceModule.c,"-=100px");}}var contentBrowsing=function(dest,guid,dotOnImg,dotOffImg,rollInterval){this.initialize(dest,guid,dotOnImg,dotOffImg,rollInterval);}contentBrowsing.prototype= {initialize:function(dest,guid,dotOnImg,dotOffImg,rollInterval) {this.dest=dest;this.guid=guid;this.bulletid='nb' + guid + '_';this.current=0;this.prevSel=0;this.dotOnImg=dotOnImg;this.dotOffImg=dotOffImg;this._url=[''];if(rollInterval) {this.rollInterval=rollIntervalrollInterval += Math.round(Math.random() * rollInterval / 2);this.tm=setInterval(this.onTimer.bind(this),rollInterval);}},onTimer:function() {this.moveNext(true);},add:function(elem) {if(this._url[0]=='') this._url[0]=(elem);else this._url.push(elem);},move:function(num) {clearInterval(this.tm);this.current=num;var _guid=this.guid;var _bulletid=this.bulletid;var _current=this.current;var _prevSel=this.prevSel;var _dotOnImg=this.dotOnImgvar _dotOffImg=this.dotOffImg$j(this.dest).load(this._url[num],function() {if(_dotOnImg.length>0&&_dotOffImg.length>0) {$j('#' + _bulletid + '' + _current + ' img').attr("src",_dotOnImg);$j('#' + _bulletid + '' + _prevSel + ' img').attr("src",_dotOffImg);}});this.prevSel=this.current;if(this.rollInterval!=undefined) this.tm=setInterval(this.onTimer.bind(this),this.rollInterval);},moveNext:function(continuous) {if(continuous&&this.current==this._url.length - 1) this.current=-1;if(this.current<this._url.length - 1) this.move(++this.current);},movePrevious:function(continuous) {if(continuous&&this.current==0) this.current=this._url.length;if(this.current>0) this.move(--this.current);}};function initDynMap(mapId,images) {var popup=$j("#" + mapId + "_popup");$j("body").prepend(popup);var highlight=$j("#" + mapId + "_highlight");$j("#" + mapId + " area[class*='resId_']").each(function(i) {var resId;var classes=$j(this).attr("class").split(" ");for (var i=0;i<classes.length;i++) {if(classes[i].lastIndexOf("resId_")==0) {resId=classes[i];break;}}if(resId) {$j(this).mouseover(function() {popup.html("<img src='" + images[resId] + "' width='80' height='80' />");popup.show();var target=$j("#" + mapId + " area.target." + resId);if(target.length>0) {var coordsif(target.attr("shape").toLowerCase()=="circle") {coords=target.attr('coords').split(',');} else if(target.attr("shape").toLowerCase()=="rect") {var tCoords=target.attr('coords').split(',');coords=new Array();coords[0]=Number(tCoords[0]) + Math.round((tCoords[2] - tCoords[0]) / 2);coords[1]=Number(tCoords[1]) + Math.round((tCoords[3] - tCoords[1]) / 2);}if(coords) {highlight.css({ 'left':(coords[0] - highlight.width() / 2) + 'px','top':(coords[1] - highlight.height() / 2) + 'px' });$j("a",highlight).attr("href",$j(this).attr("href"));highlight.show();}}});$j(this).mousemove(function(e) {popup.css({ 'left':(e.pageX + 10) + 'px','top':(e.pageY + 20) + 'px' });});$j(this).mouseout(function() {popup.hide();highlight.hide();});highlight.mousemove(function(e) {popup.css({ 'left':(e.pageX + 10) + 'px','top':(e.pageY + 20) + 'px' });popup.show();highlight.show();});highlight.mouseout(function() {popup.hide();highlight.hide();});}});}(function($){$.fn.tooltip=function(options){var defaults={debug:false,console:false,tSelector:null,ajaxHref:true,cssClass:null,position:'auto',cSelector:'#jquery-tooltip-content',isInner:false,imgLoading:'images/ajax-loader.gif',lazyLoadImg:false};var options=$.extend(defaults,options);var _dHeight=$(document).height();var _dWidth=$(document).width();_appendDebug();var _t=_getTooltip();var $this;var _cExists=false;var _img=_getImage();var _tm=null;return this.each(function(){$this=$(this);var _c=_getContentSelector();_cExists=__exists(_c);$this.bind('mouseenter',function(evt){_setClass();_debug('mouseenter '+evt.pageX);$(this).bind('mousemove',function(evt){_debug('mousemove '+evt.pageX);if(_img&&_img.is(':visible'))_setCss(_img,evt);else _setCss(_t,evt);});var callback=function(){if(options.lazyLoadImg)_c.html(_lazyLoad(_c.html()));_setCss(_t,evt).show(0);};if(options.ajaxHref){var _url=null;if(options.isInner)_url=_c.html();if(!_url)_url=$(evt.target).attr('href');if(_url){_setCss(_img,evt).show();$.get(_url,function(data){_img.hide();_t.html(data);callback();});}else callback();}else if(__exists(_c)){_t.html(_c.html());callback();}}).bind('mouseleave',function(){_debug('mouseleave');$(this).unbind('mousemove');_t.hide();});});function _lazyLoad(_html){var result=_html;var re=new RegExp(/\$.img{src:'+([/\w\.-:]*)'}/gim);var _m=re.exec(_html);if(_m){for(var i=0;i<_m.length;i++){if(_m.indexOf('$.img')!=-1)return;_html=_html.replace(_m[i-1],'<img src="'+_m[i]+'"/>');_t.html(_html);if(_cExists)result=_html;}_m=re.exec(result);if(_m)result=_lazyLoad(result);}return result;};function _appendDebug(){if(options.debug&&!__exists('#debug'))$('body').append('<div id="debug"></div>');};function _getTooltip(){var _o=null;if(options.tSelector)_o=$(tSelector);else if(!(_o=__exists('#jquery-tooltip')))_o=$('<div id="jquery-tooltip"></div>').appendTo('body');return _o;};function _getImage(){var _o=null;if(options.ajaxHref)if(!(_o=__exists('#jquery-tooltip-loader')))_o=$('<img src="'+options.imgLoading+'" id="jquery-tooltip-loader" style="position:absolute;display:none"/>').appendTo('body');return _o;};function _setClass(){_t.attr('class','');if(options.cssClass)_t.addClass(options.cssClass);};function _debug(s,append){if(options.debug){var _a='';if(append)_a=$('#debug').html();$('#debug').html(_a+s);}else if(options.console)console.log(s);};function _setCss(o,evt){var result={};switch(options.position){case'auto':var _left=evt.pageX+15;var _top=evt.pageY+10;var _cLeft=evt.pageX+o.outerWidth();if(_cLeft>_dWidth)_left=evt.pageX-o.outerWidth()-7;var _cTop=evt.pageY+_t.outerHeight();if(_cTop>_dHeight)_top=evt.pageY-o.outerHeight()+5;result={left:_left,top:_top};break;case'bl':result={left:evt.pageX-o.outerWidth()-7,top:evt.pageY+10};break;case'bc':result={left:evt.pageX-(o.outerWidth()/2),top:evt.pageY+10};break;case'br':result={left:evt.pageX+15,top:evt.pageY+10};break;case'rc':result={left:evt.pageX+15,top:evt.pageY-(o.outerHeight()/2)};break;case'tr':result={left:evt.pageX+15,top:evt.pageY-o.outerHeight()+5};break;case'tc':result={left:evt.pageX-(o.outerWidth()/2),top:evt.pageY-o.outerHeight()+5};break;case'tl':result={left:evt.pageX-o.outerWidth()-7,top:evt.pageY-o.outerHeight()+5};break;case'lc':result={left:evt.pageX-o.outerWidth()-7,top:evt.pageY-(o.outerHeight()/2)};break;}_debug(result.left+' '+result.top+' ');return o.css(result);};function _getContentSelector(){return options.isInner?$($this).find(options.cSelector):$(options.cSelector);}function __exists(sel){var _s=$(sel);return _s.length>0?_s:null;}};})(jQuery);(function($) {$.fn.jcarousel=function(o) {return this.each(function() {new $jc(this,o);});};var defaults={vertical:false,start:1,offset:1,size:null,scroll:5,visible:null,animation:'normal',easing:'swing',auto:0,wrap:null,initCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,buttonNextHTML:'<div></div>',buttonPrevHTML:'<div></div>',buttonNextEvent:'click',buttonPrevEvent:'click',buttonNextCallback:null,buttonPrevCallback:null,isArabic:currLang=='A'?true:false,leftOrRight:currLang=='A'?'right':'left'};$.jcarousel=function(e,o) {this.options=$.extend({},defaults,o||{});this.locked =false;this.container=null;this.clip =null;this.list =null;this.buttonNext=null;this.buttonPrev=null;this.wh=!this.options.vertical ? 'width':'height';this.lt=!this.options.vertical ? this.options.leftOrRight:'top';var skin='',split=e.className.split(' ');for (var i=0;i<split.length;i++) {if(split[i].indexOf('jcarousel-skin')!=-1) {$(e).removeClass(split[i]);var skin=split[i];break;}}if(e.nodeName=='UL'||e.nodeName=='OL') {this.list=$(e);this.container=this.list.parent();if(this.container.hasClass('jcarousel-clip')) {if(!this.container.parent().hasClass('jcarousel-container'))this.container=this.container.wrap('<div></div>');this.container=this.container.parent();} else if(!this.container.hasClass('jcarousel-container'))this.container=this.list.wrap('<div></div>').parent();} else {this.container=$(e);this.list=$(e).find('>ul,>ol,div>ul,div>ol');}if(skin!=''&&this.container.parent()[0].className.indexOf('jcarousel-skin')==-1)this.container.wrap('<div class=" '+ skin + '"></div>');this.clip=this.list.parent();if(!this.clip.length||!this.clip.hasClass('jcarousel-clip'))this.clip=this.list.wrap('<div></div>').parent();this.buttonPrev=$('.jcarousel-prev',this.container);if(this.buttonPrev.size()==0&&this.options.buttonPrevHTML!=null)this.buttonPrev=this.clip.before(this.options.buttonPrevHTML).prev();this.buttonPrev.addClass(this.className('jcarousel-prev'));this.buttonNext=$('.jcarousel-next',this.container);if(this.buttonNext.size()==0&&this.options.buttonNextHTML!=null)this.buttonNext=this.clip.before(this.options.buttonNextHTML).prev();this.buttonNext.addClass(this.className('jcarousel-next'));this.clip.addClass(this.className('jcarousel-clip'));this.list.addClass(this.className('jcarousel-list'));this.container.addClass(this.className('jcarousel-container'));var di=this.options.visible!=null ? Math.ceil(this.clipping() / this.options.visible):null;var li=this.list.children('li');var self=this;if(li.size()>0) {var wh=0,i=this.options.offset;li.each(function() {self.format(this,i++);wh += self.dimension(this,di);});this.list.css(this.wh,wh + 'px');if(!o||o.size===undefined)this.options.size=li.size();}this.container.css('display','block');this.buttonNext.css('display','block');this.buttonPrev.css('display','block');this.funcNext=function() { self.next();};this.funcPrev=function() { self.prev();};this.funcResize=function() { self.reload();};if(this.options.initCallback!=null)this.options.initCallback(this,'init');if($.browser.safari) {this.buttons(false,false);$(window).bind('load',function() { self.setup();});} elsethis.setup();};var $jc=$.jcarousel;$jc.fn=$jc.prototype={jcarousel:'0.2.3'};$jc.fn.extend=$jc.extend=$.extend;$jc.fn.extend({setup:function() {this.first =null;this.last =null;this.prevFirst=null;this.prevLast=null;this.animating=false;this.timer =null;this.tail =null;this.inTail=false;if(this.locked)return;this.list.css(this.lt,this.pos(this.options.offset) + 'px');var p=this.pos(this.options.start);this.prevFirst=this.prevLast=null;this.animate(p,false);$(window).unbind('resize',this.funcResize).bind('resize',this.funcResize);},reset:function() {this.list.empty();this.list.css(this.lt,'0px');this.list.css(this.wh,'10px');if(this.options.initCallback!=null)this.options.initCallback(this,'reset');this.setup();},reload:function() {if(this.tail!=null&&this.inTail)this.list.css(this.lt,$jc.intval(this.list.css(this.lt)) + this.tail);this.tail=null;this.inTail=false;if(this.options.reloadCallback!=null)this.options.reloadCallback(this);if(this.options.visible!=null) {var self=this;var di=Math.ceil(this.clipping() / this.options.visible),wh=0,lt=0;$('li',this.list).each(function(i) {wh += self.dimension(this,di);if(i + 1<self.first)lt=wh;});this.list.css(this.wh,wh + 'px');this.list.css(this.lt,-lt + 'px');}this.scroll(this.first,false);},lock:function() {this.locked=true;this.buttons();},unlock:function() {this.locked=false;this.buttons();},size:function(s) {if(s!=undefined) {this.options.size=s;if(!this.locked)this.buttons();}return this.options.size;},has:function(i,i2) {if(i2==undefined||!i2)i2=i;if(this.options.size!==null&&i2>this.options.size)i2=this.options.size;for (var j=i;j<=i2;j++) {var e=this.get(j);if(!e.length||e.hasClass('jcarousel-item-placeholder'))return false;}return true;},get:function(i) {return $('.jcarousel-item-' + i,this.list);},add:function(i,s) {var e=this.get(i),old=0,add=0;if(e.length==0) {var c,e=this.create(i),j=$jc.intval(i);while (c=this.get(--j)) {if(j<=0||c.length) {j<=0 ? this.list.prepend(e):c.after(e);break;}}} elseold=this.dimension(e);e.removeClass(this.className('jcarousel-item-placeholder'));typeof s=='string' ? e.html(s):e.empty().append(s);var di=this.options.visible!=null ? Math.ceil(this.clipping() / this.options.visible):null;var wh=this.dimension(e,di) - old;if(i>0&&i<this.first)this.list.css(this.lt,$jc.intval(this.list.css(this.lt)) - wh + 'px');this.list.css(this.wh,$jc.intval(this.list.css(this.wh)) + wh + 'px');return e;},remove:function(i) {var e=this.get(i);if(!e.length||(i>=this.first&&i<=this.last))return;var d=this.dimension(e);if(i<this.first)this.list.css(this.lt,$jc.intval(this.list.css(this.lt)) + d + 'px');e.remove();this.list.css(this.wh,$jc.intval(this.list.css(this.wh)) - d + 'px');},next:function() {this.stopAuto();if(this.tail!=null&&!this.inTail)this.scrollTail(false);elsethis.scroll(((this.options.wrap=='both'||this.options.wrap=='last')&&this.options.size!=null&&this.last==this.options.size) ? 1:this.first + this.options.scroll);},prev:function() {this.stopAuto();if(this.tail!=null&&this.inTail)this.scrollTail(true);elsethis.scroll(((this.options.wrap=='both'||this.options.wrap=='first')&&this.options.size!=null&&this.first==1) ? this.options.size:this.first - this.options.scroll);},scrollTail:function(b) {if(this.locked||this.animating||!this.tail)return;var pos=$jc.intval(this.list.css(this.lt));!b ? pos -= this.tail:pos += this.tail;this.inTail=!b;this.prevFirst=this.first;this.prevLast=this.last;this.animate(pos);},scroll:function(i,a) {if(this.locked||this.animating)return;this.animate(this.pos(i),a);},pos:function(i) {if(this.locked||this.animating)return;i=$jc.intval(i);if(this.options.wrap!='circular')i=i<1 ? 1:(this.options.size&&i>this.options.size ? this.options.size:i);var back=this.first>i;var pos=$jc.intval(this.list.css(this.lt));var f=this.options.wrap!='circular'&&this.first<=1 ? 1:this.first;var c=back ? this.get(f):this.get(this.last);var j=back ? f:f - 1;var e=null,l=0,p=false,d=0;while (back ? --j>=i:++j<i) {e=this.get(j);p=!e.length;if(e.length==0) {e=this.create(j).addClass(this.className('jcarousel-item-placeholder'));c[back ? 'before':'after' ](e);}c=e;d=this.dimension(e);if(p)l += d;if(this.first!=null&&(this.options.wrap=='circular'||(j>=1&&(this.options.size==null||j<=this.options.size))))pos=back ? pos + d:pos - d;}var clipping=this.clipping();var cache=[];var visible=0,j=i,v=0;var c=this.get(i - 1);while (++visible) {e=this.get(j);p=!e.length;if(e.length==0) {e=this.create(j).addClass(this.className('jcarousel-item-placeholder'));c.length==0 ? this.list.prepend(e):c[back ? 'before':'after' ](e);}c=e;var d=this.dimension(e);if(d==0) {alert('jCarousel:No width/height set for items. This will cause an infinite loop. Aborting...');return 0;}if(this.options.wrap!='circular'&&this.options.size!==null&&j>this.options.size)cache.push(e);else if(p)l += d;v += d;if(v>=clipping)break;j++;}for (var x=0;x<cache.length;x++)cache[x].remove();if(l>0) {this.list.css(this.wh,this.dimension(this.list) + l + 'px');if(back) {pos -= l;this.list.css(this.lt,$jc.intval(this.list.css(this.lt)) - l + 'px');}}var last=i + visible - 1;if(this.options.wrap!='circular'&&this.options.size&&last>this.options.size)last=this.options.size;if(j>last) {visible=0,j=last,v=0;while (++visible) {var e=this.get(j--);if(!e.length)break;v += this.dimension(e);if(v>=clipping)break;}}var first=last - visible + 1;if(this.options.wrap!='circular'&&first<1)first=1;if(this.inTail&&back) {pos += this.tail;this.inTail=false;}this.tail=null;if(this.options.wrap!='circular'&&last==this.options.size&&(last - visible + 1)>=1) {var m=$jc.margin(this.get(last),!this.options.vertical ? 'marginRight':'marginBottom');if((v - m)>clipping)this.tail=v - clipping - m;}while (i-->first)pos += this.dimension(this.get(i));this.prevFirst=this.first;this.prevLast=this.last;this.first =first;this.last =last;return pos;},animate:function(p,a) {if(this.locked||this.animating)return;this.animating=true;var self=this;var scrolled=function() {self.animating=false;if(p==0)self.list.css(self.lt,0);if(self.options.wrap=='both'||self.options.wrap=='last'||self.options.size==null||self.last<self.options.size)self.startAuto();self.buttons();self.notify('onAfterAnimation');};this.notify('onBeforeAnimation');if(!this.options.animation||a==false) {this.list.css(this.lt,p + 'px');scrolled();} else {var o;if(this.options.vertical){o= {'top':p}}else{o=this.options.isArabic ? {'right':p}:{'left':p}}this.list.animate(o,this.options.animation,this.options.easing,scrolled);}},startAuto:function(s) {if(s!=undefined)this.options.auto=s;if(this.options.auto==0)return this.stopAuto();if(this.timer!=null)return;var self=this;this.timer=setTimeout(function() { self.next();},this.options.auto * 1000);},stopAuto:function() {if(this.timer==null)return;clearTimeout(this.timer);this.timer=null;},buttons:function(n,p) {if(n==undefined||n==null) {var n=!this.locked&&this.options.size!==0&&((this.options.wrap&&this.options.wrap!='first')||this.options.size==null||this.last<this.options.size);if(!this.locked&&(!this.options.wrap||this.options.wrap=='first')&&this.options.size!=null&&this.last>=this.options.size)n=this.tail!=null&&!this.inTail;}if(p==undefined||p==null) {var p=!this.locked&&this.options.size!==0&&((this.options.wrap&&this.options.wrap!='last')||this.first>1);if(!this.locked&&(!this.options.wrap||this.options.wrap=='last')&&this.options.size!=null&&this.first==1)p=this.tail!=null&&this.inTail;}var self=this;this.buttonNext[n ? 'bind':'unbind'](this.options.buttonNextEvent,this.funcNext)[n ? 'removeClass':'addClass'](this.className('jcarousel-next-disabled')).attr('disabled',n ? false:true);this.buttonPrev[p ? 'bind':'unbind'](this.options.buttonPrevEvent,this.funcPrev)[p ? 'removeClass':'addClass'](this.className('jcarousel-prev-disabled')).attr('disabled',p ? false:true);if(this.buttonNext.length>0&&(this.buttonNext[0].jcarouselstate==undefined||this.buttonNext[0].jcarouselstate!=n)&&this.options.buttonNextCallback!=null) {this.buttonNext.each(function() { self.options.buttonNextCallback(self,this,n);});this.buttonNext[0].jcarouselstate=n;}if(this.buttonPrev.length>0&&(this.buttonPrev[0].jcarouselstate==undefined||this.buttonPrev[0].jcarouselstate!=p)&&this.options.buttonPrevCallback!=null) {this.buttonPrev.each(function() { self.options.buttonPrevCallback(self,this,p);});this.buttonPrev[0].jcarouselstate=p;}},notify:function(evt) {var state=this.prevFirst==null ? 'init':(this.prevFirst<this.first ? 'next':'prev');this.callback('itemLoadCallback',evt,state);if(this.prevFirst!==this.first) {this.callback('itemFirstInCallback',evt,state,this.first);this.callback('itemFirstOutCallback',evt,state,this.prevFirst);}if(this.prevLast!==this.last) {this.callback('itemLastInCallback',evt,state,this.last);this.callback('itemLastOutCallback',evt,state,this.prevLast);}this.callback('itemVisibleInCallback',evt,state,this.first,this.last,this.prevFirst,this.prevLast);this.callback('itemVisibleOutCallback',evt,state,this.prevFirst,this.prevLast,this.first,this.last);},callback:function(cb,evt,state,i1,i2,i3,i4) {if(this.options[cb]==undefined||(typeof this.options[cb]!='object'&&evt!='onAfterAnimation'))return;var callback=typeof this.options[cb]=='object' ? this.options[cb][evt]:this.options[cb];if(!$.isFunction(callback))return;var self=this;if(i1===undefined)callback(self,state,evt);else if(i2===undefined)this.get(i1).each(function() { callback(self,this,i1,state,evt);});else {for (var i=i1;i<=i2;i++)if(i!==null&&!(i>=i3&&i<=i4))this.get(i).each(function() { callback(self,this,i,state,evt);});}},create:function(i) {return this.format('<li></li>',i);},format:function(e,i) {var $e=$(e).addClass(this.className('jcarousel-item')).addClass(this.className('jcarousel-item-' + i));$e.attr('jcarouselindex',i);return $e;},className:function(c) {return c + ' ' + c + (!this.options.vertical ? '-horizontal':'-vertical');},dimension:function(e,d) {var el=e.jquery!=undefined ? e[0]:e;var old=!this.options.vertical ?el.offsetWidth + $jc.margin(el,'marginLeft') + $jc.margin(el,'marginRight'):el.offsetHeight + $jc.margin(el,'marginTop') + $jc.margin(el,'marginBottom');if(d==undefined||old==d)return old;var w=!this.options.vertical ?d - $jc.margin(el,'marginLeft') - $jc.margin(el,'marginRight'):d - $jc.margin(el,'marginTop') - $jc.margin(el,'marginBottom');$(el).css(this.wh,w + 'px');return this.dimension(el);},clipping:function() {return !this.options.vertical ?this.clip[0].offsetWidth - $jc.intval(this.clip.css('borderLeftWidth')) - $jc.intval(this.clip.css('borderRightWidth')):this.clip[0].offsetHeight - $jc.intval(this.clip.css('borderTopWidth')) - $jc.intval(this.clip.css('borderBottomWidth'));},index:function(i,s) {if(s==undefined)s=this.options.size;return Math.round((((i-1) / s) - Math.floor((i-1) / s)) * s) + 1;}});$jc.extend({defaults:function(d) {return $.extend(defaults,d||{});},margin:function(e,p) {if(!e)return 0;var el=e.jquery!=undefined ? e[0]:e;if(p=='marginRight'&&$.browser.safari) {var old={'display':'block','float':'none','width':'auto'},oWidth,oWidth2;$.swap(el,old,function() { oWidth=el.offsetWidth;});old['marginRight']=0;$.swap(el,old,function() { oWidth2=el.offsetWidth;});return oWidth2 - oWidth;}return $jc.intval($.css(el,p));},intval:function(v) {v=parseInt(v);return isNaN(v) ? 0:v;}});})(jQuery);$j.fn.equalHeights=function() {$j(this).each(function() {var _currentTallest=0;$j(this).children().each(function(i) {if($j(this).height()>_currentTallest) { _currentTallest=$j(this).height();}});$j(this).children().css({ 'height':_currentTallest });});return this;};$j.fn.clipH=function() {var _clip=$j(this).children('ul.jcarousel-list-horizontal>li').outerHeight();$j(this).parent('.jcarousel-clip-horizontal').css("height",_clip + "px");$j(this).parents('div.carousel').css("height",_clip + "px");return this;};$j=jQuery.noConflict();var FIFAcountDown ={_year:'2010',_month:'06',_day:'11',_hour:'16',_minute:'30',_montharray:new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),setCountDown:function(_targhetdata) {var d=FIFAcountDown.decodeDate(_targhetdata);var _d=d.getDate().toString();var _M=d.getMonth() + 1;var _y=d.getFullYear();var _h=d.getHours();var _m=d.getMinutes();FIFAcountDown._year=_y;FIFAcountDown._month=_M;FIFAcountDown._day=_d;FIFAcountDown._hour=_h;FIFAcountDown._minute=_m;},decodeDate:function(n) {n=n / 100;var _m=n % 100,_h=Math.floor(n / 100) % 100,_d=Math.floor(n / 10000) % 100,_M=(Math.floor(n / 1000000) % 100) - 1,_y=Math.floor(n / 100000000)var _dt=new Date(_y,_M,_d,_h,_m);return _dt;},padString:function(s,l,pc) {while (s.length<l) {s=pc + s};return s;},CountDown:function() {var today=new Date();var todayy=today.getYear();if(todayy<1000) {todayy += 1900;}var todaym=today.getMonth();var todayd=today.getDate();var todayh=today.getHours();var todaymin=today.getMinutes();var todaysec=today.getSeconds();var todaystring=FIFAcountDown._montharray[todaym] + " " + todayd + "," + todayy + " " + todayh + ":" + todaymin + ":" + todaysecvar futurestring=FIFAcountDown._montharray[FIFAcountDown._month - 1] + " " + FIFAcountDown._day + "," + FIFAcountDown._year + " " + FIFAcountDown._hour + ":" + FIFAcountDown._minutevar _occasion=Date.parse(futurestring) - Date.parse(todaystring)dday=Math.floor(_occasion / (60 * 60 * 1000 * 24) * 1)dhour=Math.floor((_occasion % (60 * 60 * 1000 * 24)) / (60 * 60 * 1000) * 1)dmin=Math.floor(((_occasion % (60 * 60 * 1000 * 24)) % (60 * 60 * 1000)) / (60 * 1000) * 1)dsec=Math.floor((((_occasion % (60 * 60 * 1000 * 24)) % (60 * 60 * 1000)) % (60 * 1000)) / 1000 * 1)dday=FIFAcountDown.padString(dday.toString(),2,'0');dhour=FIFAcountDown.padString(dhour.toString(),2,'0');dmin=FIFAcountDown.padString(dmin.toString(),2,'0');dsec=FIFAcountDown.padString(dsec.toString(),2,'0');$j(".CountDownDay").html(dday);$j(".CountDownHour").html(dhour);$j(".CountDownMinute").html(dmin);$j(".CountDownSecond").html(dsec);$j(".conteinerCountDown").show();setTimeout("FIFAcountDown.CountDown()",1000);},init:function(_targhetdata) {$j(document).ready(function() {if($j('#countdownNoFlashContainer').is(':visible')) {FIFAcountDown.setCountDown(_targhetdata);FIFAcountDown.CountDown();}});}}var memberAssociations=[{ "code":"AFG","name":"Afghanistan" },{ "code":"ALB","name":"Albania" },{ "code":"ALG","name":"Algeria" },{ "code":"ASA","name":"American Samoa" },{ "code":"AND","name":"Andorra" },{ "code":"ANG","name":"Angola" },{ "code":"AIA","name":"Anguilla" },{ "code":"ATG","name":"Antigua and Barbuda" },{ "code":"ARG","name":"Argentina" },{ "code":"ARM","name":"Armenia" },{ "code":"ARU","name":"Aruba" },{ "code":"AUS","name":"Australia" },{ "code":"AUT","name":"Austria" },{ "code":"AZE","name":"Azerbaijan" },{ "code":"BAH","name":"Bahamas" },{ "code":"BHR","name":"Bahrain" },{ "code":"BAN","name":"Bangladesh" },{ "code":"BRB","name":"Barbados" },{ "code":"BLR","name":"Belarus" },{ "code":"BEL","name":"Belgium" },{ "code":"BLZ","name":"Belize" },{ "code":"BEN","name":"Benin" },{ "code":"BER","name":"Bermuda" },{ "code":"BHU","name":"Bhutan" },{ "code":"BOL","name":"Bolivia" },{ "code":"BIH","name":"Bosnia-Herzegovina" },{ "code":"BOT","name":"Botswana" },{ "code":"BRA","name":"Brazil" },{ "code":"VGB","name":"British Virgin Islands" },{ "code":"BRU","name":"Brunei Darussalam" },{ "code":"BUL","name":"Bulgaria" },{ "code":"BFA","name":"Burkina Faso" },{ "code":"BDI","name":"Burundi" },{ "code":"CAM","name":"Cambodia" },{ "code":"CMR","name":"Cameroon" },{ "code":"CAN","name":"Canada" },{ "code":"CPV","name":"Cape Verde Islands" },{ "code":"CAY","name":"Cayman Islands" },{ "code":"CTA","name":"Central African Republic" },{ "code":"CHA","name":"Chad" },{ "code":"CHI","name":"Chile" },{ "code":"CHN","name":"China PR" },{ "code":"TPE","name":"Chinese Taipei" },{ "code":"COL","name":"Colombia" },{ "code":"COM","name":"Comoros" },{ "code":"CGO","name":"Congo" },{ "code":"COD","name":"Congo DR" },{ "code":"COK","name":"Cook Islands" },{ "code":"CRC","name":"Costa Rica" },{ "code":"CIV","name":"Cte d'Ivoire" },{ "code":"CRO","name":"Croatia" },{ "code":"CUB","name":"Cuba" },{ "code":"CUW","name":"Curacao" },{ "code":"CYP","name":"Cyprus" },{ "code":"CZE","name":"Czech Republic" },{ "code":"DEN","name":"Denmark" },{ "code":"DJI","name":"Djibouti" },{ "code":"DMA","name":"Dominica" },{ "code":"DOM","name":"Dominican Republic" },{ "code":"ECU","name":"Ecuador" },{ "code":"EGY","name":"Egypt" },{ "code":"SLV","name":"El Salvador" },{ "code":"ENG","name":"England" },{ "code":"EQG","name":"Equatorial Guinea" },{ "code":"ERI","name":"Eritrea" },{ "code":"EST","name":"Estonia" },{ "code":"ETH","name":"Ethiopia" },{ "code":"FRO","name":"Faroe Islands" },{ "code":"FIJ","name":"Fiji" },{ "code":"FIN","name":"Finland" },{ "code":"FRA","name":"France" },{ "code":"MKD","name":"FYR Macedonia" },{ "code":"GAB","name":"Gabon" },{ "code":"GAM","name":"Gambia" },{ "code":"GEO","name":"Georgia" },{ "code":"GER","name":"Germany" },{ "code":"GHA","name":"Ghana" },{ "code":"GRE","name":"Greece" },{ "code":"GRN","name":"Grenada" },{ "code":"GUM","name":"Guam" },{ "code":"GUA","name":"Guatemala" },{ "code":"GUI","name":"Guinea" },{ "code":"GNB","name":"Guinea-Bissau" },{ "code":"GUY","name":"Guyana" },{ "code":"HAI","name":"Haiti" },{ "code":"HON","name":"Honduras" },{ "code":"HKG","name":"Hong Kong" },{ "code":"HUN","name":"Hungary" },{ "code":"ISL","name":"Iceland" },{ "code":"IND","name":"India" },{ "code":"IDN","name":"Indonesia" },{ "code":"IRN","name":"Iran" },{ "code":"IRQ","name":"Iraq" },{ "code":"ISR","name":"Israel" },{ "code":"ITA","name":"Italy" },{ "code":"JAM","name":"Jamaica" },{ "code":"JPN","name":"Japan" },{ "code":"JOR","name":"Jordan" },{ "code":"KAZ","name":"Kazakhstan" },{ "code":"KEN","name":"Kenya" },{ "code":"PRK","name":"Korea DPR" },{ "code":"KOR","name":"Korea Republic" },{ "code":"KUW","name":"Kuwait" },{ "code":"KGZ","name":"Kyrgyzstan" },{ "code":"LAO","name":"Laos" },{ "code":"LVA","name":"Latvia" },{ "code":"LIB","name":"Lebanon" },{ "code":"LES","name":"Lesotho" },{ "code":"LBR","name":"Liberia" },{ "code":"LBY","name":"Libya" },{ "code":"LIE","name":"Liechtenstein" },{ "code":"LTU","name":"Lithuania" },{ "code":"LUX","name":"Luxembourg" },{ "code":"MAC","name":"Macau" },{ "code":"MAD","name":"Madagascar" },{ "code":"MWI","name":"Malawi" },{ "code":"MAS","name":"Malaysia" },{ "code":"MDV","name":"Maldives" },{ "code":"MLI","name":"Mali" },{ "code":"MLT","name":"Malta" },{ "code":"MTN","name":"Mauritania" },{ "code":"MRI","name":"Mauritius" },{ "code":"MEX","name":"Mexico" },{ "code":"MDA","name":"Moldova" },{ "code":"MNG","name":"Mongolia" },{ "code":"MNE","name":"Montenegro" },{ "code":"MSR","name":"Montserrat" },{ "code":"MAR","name":"Morocco" },{ "code":"MOZ","name":"Mozambique" },{ "code":"MYA","name":"Myanmar" },{ "code":"NAM","name":"Namibia" },{ "code":"NEP","name":"Nepal" },{ "code":"NED","name":"Netherlands" },{ "code":"NCL","name":"New Caledonia" },{ "code":"NZL","name":"New Zealand" },{ "code":"NCA","name":"Nicaragua" },{ "code":"NIG","name":"Niger" },{ "code":"NGA","name":"Nigeria" },{ "code":"NIR","name":"Northern Ireland" },{ "code":"NOR","name":"Norway" },{ "code":"OMA","name":"Oman" },{ "code":"PAK","name":"Pakistan" },{ "code":"PLE","name":"Palestine" },{ "code":"PAN","name":"Panama" },{ "code":"PNG","name":"Papua New Guinea" },{ "code":"PAR","name":"Paraguay" },{ "code":"PER","name":"Peru" },{ "code":"PHI","name":"Philippines" },{ "code":"POL","name":"Poland" },{ "code":"POR","name":"Portugal" },{ "code":"PUR","name":"Puerto Rico" },{ "code":"QAT","name":"Qatar" },{ "code":"IRL","name":"Republic of Ireland" },{ "code":"ROU","name":"Romania" },{ "code":"RUS","name":"Russia" },{ "code":"RWA","name":"Rwanda" },{ "code":"SAM","name":"Samoa" },{ "code":"SMR","name":"San Marino" },{ "code":"STP","name":"Sao Tome e Principe" },{ "code":"KSA","name":"Saudi Arabia" },{ "code":"SCO","name":"Scotland" },{ "code":"SEN","name":"Senegal" },{ "code":"SRB","name":"Serbia" },{ "code":"SEY","name":"Seychelles" },{ "code":"SLE","name":"Sierra Leone" },{ "code":"SIN","name":"Singapore" },{ "code":"SVK","name":"Slovakia" },{ "code":"SVN","name":"Slovenia" },{ "code":"SOL","name":"Solomon Islands" },{ "code":"SOM","name":"Somalia" },{ "code":"RSA","name":"South Africa" },{ "code":"SSD","name":"South Sudan" },{ "code":"ESP","name":"Spain" },{ "code":"SRI","name":"Sri Lanka" },{ "code":"SKN","name":"St. Kitts and Nevis" },{ "code":"LCA","name":"St. Lucia" },{ "code":"VIN","name":"St. Vincent / Grenadines" },{ "code":"SDN","name":"Sudan" },{ "code":"SUR","name":"Suriname" },{ "code":"SWZ","name":"Swaziland" },{ "code":"SWE","name":"Sweden" },{ "code":"SUI","name":"Switzerland" },{ "code":"SYR","name":"Syria" },{ "code":"TAH","name":"Tahiti" },{ "code":"TJK","name":"Tajikistan" },{ "code":"TAN","name":"Tanzania" },{ "code":"THA","name":"Thailand" },{ "code":"TLS","name":"Timor-Leste" },{ "code":"TOG","name":"Togo" },{ "code":"TGA","name":"Tonga" },{ "code":"TRI","name":"Trinidad and Tobago" },{ "code":"TUN","name":"Tunisia" },{ "code":"TUR","name":"Turkey" },{ "code":"TKM","name":"Turkmenistan" },{ "code":"TCA","name":"Turks and Caicos Islands" },{ "code":"UGA","name":"Uganda" },{ "code":"UKR","name":"Ukraine" },{ "code":"UAE","name":"United Arab Emirates" },{ "code":"URU","name":"Uruguay" },{ "code":"VIR","name":"US Virgin Islands" },{ "code":"USA","name":"USA" },{ "code":"UZB","name":"Uzbekistan" },{ "code":"VAN","name":"Vanuatu" },{ "code":"VEN","name":"Venezuela" },{ "code":"VIE","name":"Vietnam" },{ "code":"WAL","name":"Wales" },{ "code":"YEM","name":"Yemen" },{ "code":"ZAM","name":"Zambia" },{ "code":"ZIM","name":"Zimbabwe"}];var current=0;function ulListArrowLeft() {if(ulListCurrent>0) {current=ulListCurrent;switchNavigateLeft(ulListCurrent--);$j('#slideContent').animate({ left:"-" + (ulListContainerWidth * ulListCurrent) + "px" },{ duration:500 });}}function ulListArrowRight() {if(ulListCurrent<ulListItemsCount - 1) {current=ulListCurrent;switchNavigateRight(ulListCurrent++);$j('#slideContent').animate({ left:"-" + (ulListContainerWidth * ulListCurrent) + "px" },{ duration:500 });}}function switchNavigateRight(position,last) {position=position + 1;$j('#link_' + position).removeClass('on').addClass('off');position=position + 1;$j('#link_' + position).removeClass('off').addClass('on');current=position;if(last!='undefined') {$j('#link_4').removeClass('on').addClass('off');}}function switchOnOff(position) {$j('#link_' + current).removeClass('on').addClass('off');$j('#link_' + position).removeClass('off').addClass('on');current=position;ulListCurrent=position - 1;}function switchNavigateLeft(position) {position=position + 1;$j('#link_' + position).removeClass('on').addClass('off');position=position - 1;$j('#link_' + position).removeClass('off').addClass('on');current=position;}function ulListScrollRightInterval() {if(ulListCurrent<ulListItemsCount - 1) {current=ulListCurrent;if(ulListCurrent==0) {switchNavigateRight(ulListCurrent++,'last');} else {switchNavigateRight(ulListCurrent++);}$j('#slideContent').animate({ left:"-" + (ulListContainerWidth * ulListCurrent) + "px" },{ duration:500 });} else {ulListCurrent=-1;}$j('#link_' + current).removeClass('off').addClass('on');}function ulListPuntual(position) {$j('#slideContent').animate({ left:"-" + (ulListContainerWidth * (position - 1)) + "px" },{ duration:500 });switchOnOff(position);}function _getLanguage() {var tmp=new Array();tmp=window.location.href.split('.');alert(tmp[0]);}(function($) {$.timeago=function(timestamp) {if(timestamp instanceof Date) return inWords(timestamp);else if(typeof timestamp=="string") return inWords($.timeago.parse(timestamp));else return inWords($.timeago.datetime(timestamp));};var $t=$.timeago;$.extend($.timeago,{settings:{refreshMillis:60000,allowFuture:false,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",ago:null,// DEPRECATED,use suffixAgofromNow:null,// DEPRECATED,use suffixFromNowseconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years"}},inWords:function(distanceMillis) {var $l=this.settings.strings;var prefix=$l.prefixAgo;var suffix=$l.suffixAgo||$l.ago;if(this.settings.allowFuture) {if(distanceMillis<0) {prefix=$l.prefixFromNow;suffix=$l.suffixFromNow||$l.fromNow;}distanceMillis=Math.abs(distanceMillis);}var seconds=distanceMillis / 1000;var minutes=seconds / 60;var hours=minutes / 60;var days=hours / 24;var years=days / 365;var words=seconds<45&&substitute($l.seconds,Math.round(seconds))||seconds<90&&substitute($l.minute,1)||minutes<45&&substitute($l.minutes,Math.round(minutes))||minutes<90&&substitute($l.hour,1)||hours<24&&substitute($l.hours,Math.round(hours))||hours<48&&substitute($l.day,1)||days<30&&substitute($l.days,Math.floor(days))||days<60&&substitute($l.month,1)||days<365&&substitute($l.months,Math.floor(days / 30))||years<2&&substitute($l.year,1)||substitute($l.years,Math.floor(years));return $.trim([prefix,words,suffix].join(" "));},parse:function(iso8601) {var s=$.trim(iso8601);s=s.replace(/-/,"/").replace(/-/,"/");s=s.replace(/T/," ").replace(/Z/," UTC");s=s.replace(/([\+-]\d\d)\:?(\d\d)/," $1$2");// -04:00 ->-0400return new Date(s);},datetime:function(elem) {var isTime=$(elem).get(0).tagName.toLowerCase()=="time";// $(elem).is("time");var iso8601=isTime ? $(elem).attr("datetime"):$(elem).attr("title");return $t.parse(iso8601);}});$.fn.timeago=function() {var self=this;self.each(refresh);var $s=$t.settings;if($s.refreshMillis>0) {setInterval(function() { self.each(refresh);},$s.refreshMillis);}return self;};function refresh() {var data=prepareData(this);if(!isNaN(data.datetime)) {$(this).text(inWords(data.datetime));}return this;}function prepareData(element) {element=$(element);if(!element.data("timeago")) {element.data("timeago",{ datetime:$t.datetime(element) });var text=$.trim(element.text());if(text.length>0) element.attr("title",text);}return element.data("timeago");}function inWords(date) {return $t.inWords(distance(date));}function distance(date) {return (new Date().getTime() - date.getTime());}function substitute(stringOrFunction,value) {var string=$.isFunction(stringOrFunction) ? stringOrFunction(value):stringOrFunction;return string.replace(/%d/i,value);}document.createElement("abbr");document.createElement("time");})(jQuery);jQuery.timeago.settings.strings={suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years"}function WmcTicker(tickerContainer,feedUrl,basefolder,direction,doNotStart,cid,intcmp) {tickerContainer=$j(tickerContainer);var ticker=tickerContainer.find(".newsticker");var maskWidth;var tickerWidth=0;var tickerData=[];var interval=0;var currentMa=0;direction=direction||"left";var initialized=false;var frequency=30;var step=1;if(!doNotStart) {init();}function init() {maskWidth=tickerContainer.find(".mask").width();// here because it can't be calculated if hidden$j.get(feedUrl,function(data) {if(typeof data=="string") data=$j(parseXML(data));var lastLeague=false;$j("league",data).each(function() {if($j(this).next("league").size()==0) {lastLeague=true;}var code=$j(this).attr("code");var obj={ "maCode":code,"maData":"" };tickerData.push(obj);var buf="";var aLeagueUrl="/worldfootball/worldmatchcentre/index.html";if(cid!="undefined"&&!!cid) {aLeagueUrl += "?cid=" + cid;} else if(!!intcmp) {aLeagueUrl += "?intcmp=" + intcmp;}aLeagueUrl += "#" + code;var aLeague="<a href='" + aLeagueUrl + "' alt='" + code + "'>";var lastMatch=false;$j("match",$j(this)).each(function() {if($j(this).next("match").size()==0) {lastMatch=true;}var live=($j(this).find("status").text()=="3") ? "live":"";buf += aLeague +$j("home",$j(this)).text() +"<span class='wmcScore " + live + "'>" +$j("score",$j(this)).text() +"</span>" +$j("away",$j(this)).text() + "</a>";if(!lastMatch) {buf += " | ";} else {obj.maData=buf;if(lastLeague) {initialized=true;startMa(0);}}});});});ticker.hover(stop,start);}function startMa(ma) {stop();var maCode=tickerData[ma].maCodevar maUrl="/worldfootball/worldmatchcentre/index.html";if(cid!="undefined"&&!!cid) {maUrl += "?cid=" + cid;} else if(!!intcmp) {maUrl += "?intcmp=" + intcmp;}maUrl += "#" + maCode;tickerContainer.find(".maLabel").html("<div class='ma'><a href='" + maUrl + "'>" +"<span class='flagsp flagsp_" + maCode.toLowerCase() + "'></span>&nbsp;" +maCode.toUpperCase() +"</a></div>");ticker.css(direction,maskWidth);ticker.html(tickerData[ma].maData);tickerWidth=ticker.width();start();currentMa=ma;}function move() {var pos=ticker.css(direction);pos=parseInt(pos)||0;if(pos>=-tickerWidth) {ticker.css(direction,pos - step);} else {startMa((currentMa + step) % tickerData.length);}}function start() {if(!initialized) {init();} else {if(interval) clearInterval(interval);// prevent strange behaviours if this function is called multiple timesinterval=setInterval(move,frequency);}}function stop() {clearInterval(interval);}return {start:start,stop:stop}}var Fifacom2LoginModule={myGamesLoaded:false,partnerSite:false,init:function(partner,host) {host=(host) ? host:baseUrl;if(partner===true) {Fifacom2LoginModule.partnerSite=true;} else {if(window.location.protocol=='https:') {host='';}}var c=Cookie.get('FIFAComClub');bLoggedIn=false;if(c!=null&&c!==undefined) {try { if(c.toQueryParams().un.length>0) bLoggedIn=true;}catch (e) { }}if(!bLoggedIn) {$j("#noLogged").show();$j("#logged").hide();} else {$j("#noLogged").hide();$j("#logged").show();$j("#fifacom2_lev01menu a[href$='/theclub/index.html']").attr("href",host + '/theclub/myprofile/index.htmx');var avatarUrl=(partner==true&&window.location.protocol=='https:' ? "https://secure.fifa.com":host)+ "/userdata/" + splitResourceId(getUOpt('id'),3) + "/avatar_24.png";$j("#myFifacom2Avatar a").html("<img src='" + avatarUrl + "' height='24' width='24'/>");$j("#myFifacom2Name a,#myFifacom2Avatar a").attr("href",host + "/theclub/myprofile/index.htmx");$j("#myFifacom2Name a").text(c.toQueryParams().un);}},loginPopup:function() {if($j('#noLogged').hasClass("open")) {$j('#noLogged').removeClass("open");$j('#Fifacom2LoginPopup').hide();} else {$j('#noLogged').addClass("open");$j('#Fifacom2LoginPopup').show();}},loggedPopup:function() {if($j('#myActivities').hasClass("open")) {$j('#myActivities').removeClass("open");$j('#Fifacom2LoggedPopup').hide();} else {$j('#myActivities').addClass("open");$j('#Fifacom2LoggedPopup').show();if(!Fifacom2LoginModule.partnerSite&&!Fifacom2LoginModule.myGamesLoaded) {Fifacom2LoginModule.myGamesLoaded=true;$j("#Fifacom2LoggedPopup #games").load("/theclub/library/common/_mygames.html",function() {$j('#myGamesAccordion').append("<dt class='bottom'><div></div></dt><dd></dd>");var dth=0;$j('#myGamesAccordion dt').each(function() { dth += $j(this).height() });$j('#myGamesAccordion dd').height($j('#myGamesAccordion').height() - dth);$j('#myGamesAccordion dt:first a').addClass("current");$j('#myGamesAccordion dd:first').show();$j('#myGamesAccordion dd:not(:first)').hide();$j('#myGamesAccordion dt a').click(function() {if(!$j(this).hasClass("current")) {$j('#myGamesAccordion dd').slideUp();$j(this).parent().next().slideDown();$j('#myGamesAccordion dt a.current').removeClass("current");$j(this).addClass("current");}return false;});});}}},cleanLogin:function() {try {var e=$j('#cp_email');if(e.hasClass('toclean')) {e.removeClass('toclean');e.val('');}var p=$j('#cp_password');if(p.hasClass('toclean')) {p.removeClass('toclean');p.val('');}} catch (exc) { }},logout:function() {Cookie.erase('FIFAComClub');Cookie.erase('warned');bLoggedIn=false;$j("#noLogged").show();$j("#logged").hide();$j("#fifacom2_lev01menu a[href$='/theclub/myprofile/index.htmx']").attr("href",baseUrl + '/theclub/index.html');if(bNeedAutentication)document.location.href="/";elsedocument.location.href=document.location.href;}};function associationsDropdownToggle(obj,baseUrl) {var a=$j(obj);var dd=$j("#fifacom2_header #fifacom2_associationsDropdown");if(a.hasClass("open")) {a.removeClass("open");a.addClass("closed");dd.hide();} else {var ma,buf;if($j(".c ul",dd).size()==0) {buf="<ul>";for (ma=0;ma<memberAssociations.length;ma++) {buf += "<li><span class='flagsp flagsp_" + memberAssociations[ma].code.toLowerCase() + "' title='" + memberAssociations[ma].name + "'></span>&nbsp;";buf += "<a href='" + baseUrl + "/associations/association=" + memberAssociations[ma].code.toLowerCase() + "/index.html'>" + memberAssociations[ma].name + "</a></li>";}buf += "</ul>";$j(".c",dd).html(buf);}a.removeClass("closed");a.addClass("open");dd.show();}}var UserServices={activateService:function(form,container,service) {if($j("#c_" + service + "TOS").is(":checked")) {var opt='';for (i=0;i<form.elements.length;i++) {if(form.elements[i].checked) {opt += '&' + form.elements[i].name + '=1';}}$j(container).load("/theclub/myprofile/games/_activate.htmx?activate=true&service=" + service + opt);} else {$j("#l_" + service + "TOS").css("color","red");$j("#" + service + "Error").show();}},activateServiceEAFO3:function(container,service) {$j(container).load("/theclub/myprofile/games/_activate.htmx?activate=true&service=" + service);},activateActivitymeterChallengeService:function(form,container,service) {if($j('#c_' + service + 'TOS').checked) {var opt='';for (i=0;i<form.elements.length;i++) {if(form.elements[i].checked) {opt += '&' + form.elements[i].name + '=1';}}$j(container).load("/theclub/myprofile/games/_activateActivitymeterChallenge.htmx?activate=true&service=" + service + opt);} else {$j("#l_" + service + "TOS").css("color","red");$j("#" + service + "Error").show();}},showGameResults:function(service,datafile,userId) {$j.get(datafile,function(data) {try {var j=eval('(' + data + ')');if(!userId) {userId=Cookie.get('FIFAComClub').toQueryParams().id;}if(j.hasOwnProperty("u" + userId)) {if(service=='wlpredictor') {var ju=j["u" + userId];try {$j("#wlpredictor_ls").html(ju.ls);$j("#wlpredictor_cs").html(ju.cs);$j("#wlpredictor_w").html(ju.w);$j("#wlpredictor_l").html(ju.l);$j("#wlpredictor_rk").html(ju.rk);$j("#wlpredictor_lu").html(ju.lu);$j('#myGame_wlpredictorScore').show();} catch (e) {$j('#myGame_wlpredictorScore').hide();}} else if(service=="trivia") {var ju=j["u" + userId];try {$j("#trivia_pts").html(ju.pt);$j("#trivia_rk").html(ju.rk);$j("#trivia_lu").html(ju.lu);$j('#myGame_triviaScore').show();} catch (e) {$j('#myGame_triviaScore').hide();}}}} catch (e) { }});},initMenuHeader:function(userFolder,selfProfile) {var c=Cookie.get('FIFAComClub');if(selfProfile!='true'&&c!=undefined&&this.getUserFolder(c.toQueryParams().id)==userFolder) {document.location='/theclub/myprofile/index.htmx';}var u='/theclub/profiles/library/' + userFolder + 'activitymeter.jsonx';if(selfProfile=="true") {var now=new Date()u=u + "?" + now.getTime();}$j.get(u,function(data) {var j=eval('(' + data + ')');$j('#hActivitymeterValue').html(j.tot);$j('#hActivitymeterLabel').html(eval('uml' + j.tot));if(j.tot==0) {$j('#hActivitymeterBar').css("width","1px");$j('#hActivitymeterBar').css("background","none");} else$j('#hActivitymeterBar').css("width",j.tot + "%");$j('#hActivitymeterContainer').show();if(j.tot==100) {$j('#cockade').html('<img src="/imgml/icons/theclub/cockade.png" alt=""/>');}});},getUserFolder:function(userid) {return splitResourceId(userid,3) + "/";},updateActivityMeterTable:function() {var c=Cookie.get('FIFAComClub');var userFolder=this.getUserFolder(c.toQueryParams().id);var u='/theclub/profiles/library/' + userFolder + 'activitymeter.jsonx';var now=new Date()u=u + "?" + now.getTime();$j.get(u,function(data) {var j=eval('(' + data + ')');$j('#activityMeterTable_av').html(j.av);$j('#activityMeterTable_nl').html(j.nl);$j('#activityMeterTable_pr').html(j.pr);$j('#activityMeterTable_cm').html(j.cm);$j('#activityMeterTable_wlp').html(j.wlp);$j('#activityMeterTable_tr').html(j.tr);$j('#activityMeterTable_st').html(j.st||"0");$j('#activityMeterTable_tot').html(j.tot);});}};var tSlider={logoW:0,liW:0,tournaments:0,current:0,ar:false,init:function(ar) {if(ar) tSlider.ar=true;tSlider.logoW=$j("#tournamentSlider .logo").width();tSlider.liW=$j("#tournamentSlider li").width();tSlider.current=1;tSlider.tournaments=$j("#tournamentSlider li").size();var w=tSlider.logoW * (tSlider.tournaments - 1) + tSlider.liW;$j("#tournamentSlider ul").width(w);var count=0;$j("#tournamentSlider li").each(function() {if(count==tSlider.current) {$j(this).width(tSlider.liW);} else {$j(this).width(tSlider.logoW);}count++;});},prev:function() {tSlider.show(tSlider.current - 1);},next:function() {tSlider.show(tSlider.current + 1);},show:function(el) {if(el!=tSlider.current&&el>=0&&el<=tSlider.tournaments - 1) {var oldelem=$j("#tournamentSlider li:eq(" + tSlider.current + ")");var newelem=$j("#tournamentSlider li:eq(" + el + ")");oldelem.animate({ width:tSlider.logoW },300);newelem.animate({ width:tSlider.liW },300);var shift;if(el<=1) {shift="-1px";} else if(el==tSlider.tournaments - 1) {shift="-" + (1 + tSlider.logoW * (tSlider.tournaments - 3)) + "px";} else {shift="-" + (1 + tSlider.logoW * (el - 1)) + "px";}if(tSlider.ar) {$j("#tournamentSlider ul").animate({ right:shift },300);} else {$j("#tournamentSlider ul").animate({ left:shift },300);}if(el==0) {$j("#tournamentSlider .prev").addClass("disabled");} else {$j("#tournamentSlider .prev").removeClass("disabled");}if(el==tSlider.tournaments - 1) {$j("#tournamentSlider .next").addClass("disabled");} else {$j("#tournamentSlider .next").removeClass("disabled");}tSlider.current=el;}}};function typeOf(value) {var s=typeof value;if(s==='object') {if(value) {if(typeof value.length==='number'&&!(value.propertyIsEnumerable('length'))&&typeof value.splice==='function') {s='array';}} else {s='null';}}return s;}function isEmpty(o) {var i,v;if(typeOf(o)==='object') {for (i in o) {v=o[i];if(v!==undefined&&typeOf(v)!=='function') {return false;}}}return true;}if(!String.prototype.hasOwnProperty("trim")) {String.prototype.trim=function() {return this.replace(/^\s*(\S*(?:\s+\S+)*)\s*$/,"$1");};}(function($) {$.fn.periodicalUpdate=function(url,options,callback) {var me=$j(this);var myTimeStamp=0;var settings=jQuery.extend({frequency:2,decay:1,useIgn:false,tsPath:""},options);loadData();function loadData() {if(settings.tsPath!="") {$j.getJSON(settings.tsPath + "?ign=" + getIgn(),function(data) { manageTs(data);});}else {var actualUrl=url;if(settings.useIgn) {actualUrl += (url.indexOf("?")>0) ? "&":"?";actualUrl += "ign=" + getIgn();}me.load(actualUrl,function(data) {if(settings.callback) {settings.callback($(this),data);}});} // end if tsPathsetTimeout(loadData,settings.frequency * 1000);}function manageTs(data) {if(data.ts>myTimeStamp) {myTimeStamp=data.ts;var feedUrl=url;if(data.hasOwnProperty("v")) {feedUrl += ((url.indexOf("?")>0) ? "&":"?") + "timestamp=" + data.ts + "&v=" + data.v;} else if(settings.useIgn) {feedUrl += ((url.indexOf("?")>0) ? "&":"?") + "ign=" + getIgn();}me.load(feedUrl,function(data) {if(settings.callback) {settings.callback($(this),data);}});}}};})(jQuery);(function($) {$.fn.lCarousel=function(options) {var me=$j(this);var mask,container,prev,next,liList;var currentIndex=0;settings=jQuery.extend({direction:"left",selected:null},options);mask=me.wrap("<div class='lCarouselContainer'><div class='lCarouselMask'></div></div>").parent();container=mask.parent();container.prepend("<a class='lCarouselPrev'></a>").append("<a class='lCarouselNext'></a>");prev=$("a.lCarouselPrev",container);next=$("a.lCarouselNext",container);var w=0;$("li",me).each(function() {w += $(this).outerWidth();});me.css("width",w + "px").css("position","absolute").css(settings.direction,"0");liList=$("li",me);me.css(settings.direction,"-" + $(liList[currentIndex]).position().left + "px");prev.click(function() { scrollTo(currentIndex - 1);});next.click(function() { scrollTo(currentIndex + 1);});var scrollTo=function(index) {if(currentIndex!=index) {if(index<0) {index=0;} else if(index>=liList.size()) {index=liList.size() - 1;}$(liList[currentIndex]).removeClass("current");currentIndex=index;var maxScrollPosition=mask.width() - $(liList[liList.size() - 1]).position().left - $(liList[liList.size() - 1]).outerWidth();var targetPosition=-1 * $(liList[currentIndex]).position().left;if(targetPosition<maxScrollPosition) {targetPosition=maxScrollPosition}if(settings.direction=="right") {me.animate({ right:targetPosition });} else {me.animate({ left:targetPosition });}$(liList[currentIndex]).addClass("current");}}};})(jQuery);String.prototype.sanitize=function() {return this ? this.toString().replace(new RegExp(/[\/<>]/gi),'').replace(new RegExp(/%3[CE]*[\/]*/gi),''):'';};if(!String.prototype.hasOwnProperty("toQueryParams")) {String.prototype.toQueryParams=function(separator) {var q=new Object();var match=this.trim().sanitize().match(/([^?#]*)(#.*)?$/);if(match) {var qs=match[1].replace("+"," ").split(separator||"&");var i,qps,name,value;for (i=0;i<qs.length;i++) {qps=qs[i].split("=",2);name=unescape(qps[0]);value=(qps.length==1) ? undefined:qs[i].substring(name.length + 1);if(!q[name]) {q[name]=value;} else if(typeOf(q[name])==="array") {q[name][q[name].length]=value;} else {q[name]=[q[name],value];}}}return q;}String.prototype.parseQuery=String.prototype.toQueryParams;}objectExtend=function(destination,source) {for (var property in source) {destination[property]=source[property];}return destination;}function getIgn() {return ((new Date()).getTime().toString() + Math.floor(Math.random() * 100000000));}function attrEscape(str) {if(typeof str=="string") {return str.replace(/'/g,"&#39;").replace(/"/g,"&#34;");} else return str;}function sanitizeHtml(text2Sanitize) {text2Sanitize=text2Sanitize.replace(/(<\/?[^>]+>|\s)/gi," ").replace(/\s\s+/g," ");return text2Sanitize;}function parseUri(str) {var o=parseUri.options,m=o.parser[o.strictMode ? "strict":"loose"].exec(str),uri={},i=14;while (i--) uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2) {if($1) uri[o.q.name][$1]=$2;});uri.toString=function() {var query=""for (var q in uri.queryKey) {query += (query ? "&":"") + q + "=" + uri.queryKey[q];}uri.query=query;return uri.protocol + "://" + uri.authority + uri.path + (uri.query ? "?" + uri.query:"") + (uri.anchor ? "#" + uri.anchor:"");}return uri;};parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function isValidEmailAddress(str,allowMultiple) {if(allowMultiple&&(str.indexOf(";")>=0||str.indexOf(",")>=0)) {var sArray=str.replace(/,/g,";").split(";");var i,s;var result=true;for (i=0;i<sArray.length;i++) {s=sArray[i].trim();if(s) {result=result&&isValidEmailAddress(s,false);}}return result;}str=str.trim();var re=new RegExp("^(\\w|-|\\.)+@(\\w|-|\\.)+\\.[a-z]{2,3}$","i");var moreExt=new Array("info","aero","museum","name");var i;if(re.test(str)) {return true;} else {for (i=0;i<moreExt.length;i++) {re.compile("^(\\w|-|\\.)+@(\\w|-|\\.)+\\." + moreExt[i] + "$");if(re.test(str)) {return true;}}return false;}}(function($) {$.fn.tickerAnimation=function(settings) {var config={ 'ulSelector':'#genericTicker','openSelector':'#hpLatestNews' };if(settings) $.extend(config,settings);function animateHeadline() {$("#genericTicker li:first").css("position","relative").animate({ left:'0px' },1500,function() {timedFunc=setTimeout(function() {resetLiStyle();},2000)})};function animateHeadlineRev() {$("#genericTicker li:first").css("position","relative").animate({ right:'0px' },1500,function() {timedFunc=setTimeout(function() {resetLiStyle();},2000)})};function fadeOutIE() {$("#tickerBody").fadeOut(500,function() {$("#hpLatestNewsBody").fadeIn(500,function() {$("#hpLatestNews").animate({ height:'516px' },200);});});};function fadeOutFF() {$("#tickerBody").animate({ opacity:0 },500,function() {$("#hpLatestNewsBody").fadeIn(500,function() {$("#hpLatestNews").animate({ height:'516px' },200);$("#hpLatestNews").css("z-index","4920");});});};function fadeInFF() {$("#hpLatestNews").animate({ height:'40px' },200,function() {$("#hpLatestNewsBody").fadeOut(500,function() {$("#tickerBody").animate({ opacity:1 },500);});});$("#hpLatestNews").css("z-index","4900");};function fadeInIE() {$("#hpLatestNews").animate({ height:'40px' },200,function() {$("#hpLatestNewsBody").fadeOut(500,function() {$("#tickerBody").fadeIn(500);});});};function resetLiStyle() {$("#genericTicker li:first").fadeOut(500,function() {$(this).remove().attr("style","").appendTo("#genericTicker");if(/^(.)*(ar.){1}(.)*(fifa.com){1}/.test(location.toString())) { animateHeadlineRev();} else { animateHeadline();}})};var newsLoaded=false;this.each(function() {if(/^(.)*(ar.){1}(.)*(fifa.com){1}/.test(location.toString())) { animateHeadlineRev();} else { animateHeadline();}$(".tickOpen").click(function() {wAnalytics.onHPTop("newsreader - open news");if(newsLoaded) {if($.browser.msie) { fadeOutIE();} else { fadeOutFF();}}else {$("#hpLatestNews .hpNews").load($("#tickerContent").attr("value"),function() {$j("#hpLatestNews .hpNews .newsl li:nth-child(9)").css("background","none");$j("#hpLatestNews .hpNews .newsl li:nth-child(10)").css("background","none");if($.browser.msie) { fadeOutIE();} else { fadeOutFF();}newsLoaded=true;});}});$("#hpClose").click(function() {if($.browser.msie) { fadeInIE();} else { fadeInFF();}});});return this;};})(jQuery);(function($) {var fixCellIndexes=function(table) {var rows=table.rows;var len=rows.length;var matrix=[];for (var i=0;i<len;i++) {var cells=rows[i].cells;var clen=cells.length;for (var j=0;j<clen;j++) {var c=cells[j];var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol=-1;if(!matrix[i]) {matrix[i]=[];}var m=matrix[i];while (m[++firstAvailCol]) { }c.realIndex=firstAvailCol;for (var k=i;k<i + rowSpan;k++) {if(!matrix[k]) {matrix[k]=[];}var matrixrow=matrix[k];for (var l=firstAvailCol;l<firstAvailCol + colSpan;l++) {matrixrow[l]=1;}}}}};var fixRowIndexes=function(tbl) {var v=0,i,k,r=(tbl.tHead) ? tbl.tHead.rows:0;if(r) {for (i=0;i<r.length;i++) {r[i].realRIndex=v++;}}for (k=0;k<tbl.tBodies.length;k++) {r=tbl.tBodies[k].rows;if(r) {for (i=0;i<r.length;i++) {r[i].realRIndex=v++;}}}r=(tbl.tFoot) ? tbl.tFoot.rows:0;if(r) {for (i=0;i<r.length;i++) {r[i].realRIndex=v++;}}};$.fn.tableHover=function(options) {var settings=$.extend({allowHead:true,allowBody:true,allowFoot:true,headRows:false,bodyRows:true,footRows:false,spanRows:true,headCols:false,bodyCols:true,footCols:false,spanCols:true,ignoreCols:[],headCells:false,bodyCells:true,footCells:false,rowClass:'hover',colClass:'',cellClass:'',clickClass:''},options);return this.each(function() {var colIndex=[],rowIndex=[],tbl=this,r,rCnt=0,lastClick=[-1,-1];if(!tbl.tBodies||!tbl.tBodies.length) {return;}var addToIndex=function(rows,nodeName) {var c,row,rowI,cI,rI,s;for (rowI=0;rowI<rows.length;rowI++,rCnt++) {row=rows[rowI];for (cI=0;cI<row.cells.length;cI++) {c=row.cells[cI];if((nodeName=='TBODY'&&settings.bodyRows)||(nodeName=='TFOOT'&&settings.footRows)||(nodeName=='THEAD'&&settings.headRows)) {s=c.rowSpan;while (--s>=0) {rowIndex[rCnt + s].push(c);}}if((nodeName=='TBODY'&&settings.bodyCols)||(nodeName=='THEAD'&&settings.headCols)||(nodeName=='TFOOT'&&settings.footCols)) {s=c.colSpan;while (--s>=0) {rI=c.realIndex + s;if($.inArray(rI + 1,settings.ignoreCols)>-1) {break;//dont highlight the columns in the ignoreCols array}if(!colIndex[rI]) {colIndex[rI]=[];}colIndex[rI].push(c);}}if((nodeName=='TBODY'&&settings.allowBody)||(nodeName=='THEAD'&&settings.allowHead)||(nodeName=='TFOOT'&&settings.allowFoot)) {c.thover=true;}}}};var over=function(e) {var p=e.target;while (p!=this&&p.thover!==true) {p=p.parentNode;}if(p.thover===true) {highlight(p,true);}};var out=function(e) {var p=e.target;while (p!=this&&p.thover!==true) {p=p.parentNode;}if(p.thover===true) {highlight(p,false);}};var click=function(e) {var t=e.target;while (t&&t!=tbl&&!t.thover) //search the real targett=t.parentNode;if(t.thover&&settings.clickClass!='') {var x=t.realIndex,y=t.parentNode.realRIndex,s='';$('td.' + settings.clickClass + ',th.' + settings.clickClass,tbl).removeClass(settings.clickClass);if(x!=lastClick[0]||y!=lastClick[1]) {if(settings.rowClass!='') {s += ',.' + settings.rowClass;}if(settings.colClass!='') {s += ',.' + settings.colClass;}if(settings.cellClass!='') {s += ',.' + settings.cellClass;}if(s!='') {$('td,th',tbl).filter(s.substring(1)).addClass(settings.clickClass);}lastClick=[x,y];}else {lastClick=[-1,-1];}}};var highlight=function(cell,on) {if(on) //create dummy funcs - dont want to test for on==true all the time{$.fn.tableHoverHover=$.fn.addClass;}else {$.fn.tableHoverHover=$.fn.removeClass;}var h=colIndex[cell.realIndex]||[],rH=[],i=0,rI,nn;if(settings.colClass!='') {while (settings.spanCols&&++i<cell.colSpan&&colIndex[cell.realIndex + i]) {h=h.concat(colIndex[cell.realIndex + i]);}$(h).tableHoverHover(settings.colClass);}if(settings.rowClass!='') {rI=cell.parentNode.realRIndex;if(rowIndex[rI]) {rH=rH.concat(rowIndex[rI]);}i=0;while (settings.spanRows&&++i<cell.rowSpan) {if(rowIndex[rI + i]) {rH=rH.concat(rowIndex[rI + i]);}}$(rH).tableHoverHover(settings.rowClass);$(cell.parentNode).tableHoverHover(settings.rowClass);}if(settings.cellClass!='') {nn=cell.parentNode.parentNode.nodeName.toUpperCase();if((nn=='TBODY'&&settings.bodyCells)||(nn=='THEAD'&&settings.headCells)||(nn=='TFOOT'&&settings.footCells)) {$(cell).tableHoverHover(settings.cellClass);}}};fixCellIndexes(tbl);fixRowIndexes(tbl);for (r=0;r<tbl.rows.length;r++) {rowIndex[r]=[];}if(tbl.tHead) {addToIndex(tbl.tHead.rows,'THEAD');}for (r=0;r<tbl.tBodies.length;r++) {addToIndex(tbl.tBodies[r].rows,'TBODY');}if(tbl.tFoot) {addToIndex(tbl.tFoot.rows,'TFOOT');}$(this).bind('mouseover',over).bind('mouseout',out).click(click);});};})(jQuery);(function($) { $.extend({ tablesorter:new function() { var parsers=[],widgets=[];this.defaults={ cssHeader:"tbHeader",cssAsc:"tbHeaderSortAsc",cssDesc:"tbHeaderSortDesc",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{ css:["even","odd"] },headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:'/\.|\,/g',onRenderHeader:null,selectorHeaders:'thead th',debug:false };function benchmark(s,d) { log(s + "," + (new Date().getTime() - d.getTime()) + "ms");} this.benchmark=benchmark;function log(s) { if(typeof console!="undefined"&&typeof console.debug!="undefined") { console.log(s);} else { alert(s);} } function buildParserCache(table,$headers) { if(table.config.debug) { var parsersDebug="";} if(table.tBodies.length==0) return;var rows=table.tBodies[0].rows;if(rows[0]) { var list=[],cells=rows[0].cells,l=cells.length;for (var i=0;i<l;i++) { var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)) { p=getParserById($($headers[i]).metadata().sorter);} else if((table.config.headers[i]&&table.config.headers[i].sorter)) { p=getParserById(table.config.headers[i].sorter);} if(!p) { p=detectParserForColumn(table,rows,-1,i);} if(table.config.debug) { parsersDebug += "column:" + i + " parser:" + p.id + "\n";} list.push(p);} } if(table.config.debug) { log(parsersDebug);} return list;};function detectParserForColumn(table,rows,rowIndex,cellIndex) { var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while (nodeValue==''&&keepLooking) { rowIndex++;if(rows[rowIndex]) { node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug) { log('Checking if value was empty on row:' + rowIndex);} } else { keepLooking=false;} } for (var i=1;i<l;i++) { if(parsers[i].is(nodeValue,table,node)) { return parsers[i];} } return parsers[0];} function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex) { return rows[rowIndex].cells[cellIndex];} function trimAndGetNodeText(config,node) { return $.trim(getElementText(config,node));} function getParserById(name) { var l=parsers.length;for (var i=0;i<l;i++) { if(parsers[i].id.toLowerCase()==name.toLowerCase()) { return parsers[i];} } return false;} function buildCache(table) { if(table.config.debug) { var cacheTime=new Date();} var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={ row:[],normalized:[] };for (var i=0;i<totalRows;++i) { var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)) { cache.row[cache.row.length - 1]=cache.row[cache.row.length - 1].add(c);continue;} cache.row.push(c);for (var j=0;j<totalCells;++j) { cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]));} cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null;};if(table.config.debug) { benchmark("Building cache for " + totalRows + " rows:",cacheTime);} return cache;};function getElementText(config,node) { var text="";if(!node) return "";if(!config.supportsTextContent) config.supportsTextContent=node.textContent||false;if(config.textExtraction=="simple") { if(config.supportsTextContent) { text=node.textContent;} else { if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()) { text=node.childNodes[0].innerHTML;} else { text=node.innerHTML;} } } else { if(typeof (config.textExtraction)=="function") { text=config.textExtraction(node);} else { text=$(node).text();} } return text;} function appendToTable(table,cache) { if(table.config.debug) { var appendTime=new Date() } var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length - 1),tableBody=$(table.tBodies[0]),rows=[];for (var i=0;i<totalRows;i++) { var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender) { var l=r[pos].length;for (var j=0;j<l;j++) { tableBody[0].appendChild(r[pos][j]);} } } if(table.config.appender) { table.config.appender(table,rows);} rows=null;if(table.config.debug) { benchmark("Rebuilt table:",appendTime);} applyWidget(table);setTimeout(function() { $(table).trigger("sortEnd");},0);};function buildHeaders(table) { if(table.config.debug) { var time=new Date();} var meta=($.metadata) ? true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index) { this.column=header_index[this.parentNode.rowIndex + "-" + this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index)) this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(table,index)) this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index);if(!this.sortDisabled) { var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader) table.config.onRenderHeader.apply($th);} table.config.headerList[index]=this;});if(table.config.debug) { benchmark("Built headers:",time);log($tableHeaders);} return $tableHeaders;};function computeTableHeaderCellIndexes(t) { var matrix=[];var lookup={};var thead=t.getElementsByTagName('THEAD')[0];var trs=thead.getElementsByTagName('TR');for (var i=0;i<trs.length;i++) { var cells=trs[i].cells;for (var j=0;j<cells.length;j++) { var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex + "-" + c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof (matrix[rowIndex])=="undefined") { matrix[rowIndex]=[];} for (var k=0;k<matrix[rowIndex].length + 1;k++) { if(typeof (matrix[rowIndex][k])=="undefined") { firstAvailCol=k;break;} } lookup[cellId]=firstAvailCol;for (var k=rowIndex;k<rowIndex + rowSpan;k++) { if(typeof (matrix[k])=="undefined") { matrix[k]=[];} var matrixrow=matrix[k];for (var l=firstAvailCol;l<firstAvailCol + colSpan;l++) { matrixrow[l]="x";} } } } return lookup;} function checkCellColSpan(table,rows,row) { var arr=[],r=table.tHead.rows,c=r[row].cells;for (var i=0;i<c.length;i++) { var cell=c[i];if(cell.colSpan>1) { arr=arr.concat(checkCellColSpan(table,headerArr,row++));} else { if(table.tHead.length==1||(cell.rowSpan>1||!r[row + 1])) { arr.push(cell);} } } return arr;};function checkHeaderMetadata(cell) { if(($.metadata)&&($(cell).metadata().sorter===false)) { return true;};return false;} function checkHeaderOptions(table,i) { if((table.config.headers[i])&&(table.config.headers[i].sorter===false)) { return true;};return false;} function checkHeaderOptionsSortingLocked(table,i) { if((table.config.headers[i])&&(table.config.headers[i].lockedOrder)) return table.config.headers[i].lockedOrder;return false;} function applyWidget(table) { var c=table.config.widgets;var l=c.length;for (var i=0;i<l;i++) { getWidgetById(c[i]).format(table);} } function getWidgetById(name) { var l=widgets.length;for (var i=0;i<l;i++) { if(widgets[i].id.toLowerCase()==name.toLowerCase()) { return widgets[i];} } };function formatSortingOrder(v) { if(typeof (v)!="Number") { return (v.toLowerCase()=="desc") ? 1:0;} else { return (v==1) ? 1:0;} } function isValueInArray(v,a) { var l=a.length;for (var i=0;i<l;i++) { if(a[i][0]==v) { return true;} } return false;} function setHeadersCss(table,$headers,list,css) { $headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset) { if(!this.sortDisabled) { h[this.column]=$(this);} });var l=list.length;for (var i=0;i<l;i++) { h[list[i][0]].addClass(css[list[i][1]]);} } function fixColumnWidth(table,$headers) { var c=table.config;if(c.widthFixed) { var colgroup=$('<colgroup>');$("tr:first td",table.tBodies[0]).each(function() { colgroup.append($('<col>').css('width',$(this).width()));});$(table).prepend(colgroup);};} function updateHeaderSortCount(table,sortList) { var c=table.config,l=sortList.length;for (var i=0;i<l;i++) { var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++;} } function multisort(table,sortList,cache) { if(table.config.debug) { var sortTime=new Date();} var dynamicExp="var sortWrapper=function(a,b) {",l=sortList.length;for (var i=0;i<l;i++) { var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text") ? ((order==0) ? makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0) ? makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e" + i;dynamicExp += "var " + e + "=" + s;dynamicExp += "if(" + e + ") { return " + e + ";} ";dynamicExp += "else { ";} var orgOrderCol=cache.normalized[0].length - 1;dynamicExp += "return a[" + orgOrderCol + "]-b[" + orgOrderCol + "];";for (var i=0;i<l;i++) { dynamicExp += "};";} dynamicExp += "return 0;";dynamicExp += "};";if(table.config.debug) { benchmark("Evaling expression:" + dynamicExp,new Date());} eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug) { benchmark("Sorting on " + sortList.toString() + " and dir " + order + " time:",sortTime);} return cache;};function makeSortFunction(type,direction,index) { var a="a[" + index + "]",b="b[" + index + "]";if(type=='text'&&direction=='asc') { return "(" + a + "==" + b + " ? 0:(" + a + "===null ? Number.POSITIVE_INFINITY:(" + b + "===null ? Number.NEGATIVE_INFINITY:(" + a + "<" + b + ") ? -1:1)));";} else if(type=='text'&&direction=='desc') { return "(" + a + "==" + b + " ? 0:(" + a + "===null ? Number.POSITIVE_INFINITY:(" + b + "===null ? Number.NEGATIVE_INFINITY:(" + b + "<" + a + ") ? -1:1)));";} else if(type=='numeric'&&direction=='asc') { return "(" + a + "===null&&" + b + "===null) ? 0:(" + a + "===null ? Number.POSITIVE_INFINITY:(" + b + "===null ? Number.NEGATIVE_INFINITY:" + a + " - " + b + "));";} else if(type=='numeric'&&direction=='desc') { return "(" + a + "===null&&" + b + "===null) ? 0:(" + a + "===null ? Number.POSITIVE_INFINITY:(" + b + "===null ? Number.NEGATIVE_INFINITY:" + b + " - " + a + "));";} };function makeSortText(i) { return "((a[" + i + "]<b[" + i + "]) ? -1:((a[" + i + "]>b[" + i + "]) ? 1:0));";};function makeSortTextDesc(i) { return "((b[" + i + "]<a[" + i + "]) ? -1:((b[" + i + "]>a[" + i + "]) ? 1:0));";};function makeSortNumeric(i) { return "a[" + i + "]-b[" + i + "];";};function makeSortNumericDesc(i) { return "b[" + i + "]-a[" + i + "];";};function sortText(a,b) { if(table.config.sortLocaleCompare) return a.localeCompare(b);return ((a<b) ? -1:((a>b) ? 1:0));};function sortTextDesc(a,b) { if(table.config.sortLocaleCompare) return b.localeCompare(a);return ((b<a) ? -1:((b>a) ? 1:0));};function sortNumeric(a,b) { return a - b;};function sortNumericDesc(a,b) { return b - a;};function getCachedSortType(parsers,i) { return parsers[i].type;};this.construct=function(settings) { return this.each(function() { if(!this.tHead||!this.tBodies) return;var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e) { var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0) { $this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++ % 2;if(this.lockedOrder) this.order=this.lockedOrder;if(!e[config.sortMultiSortKey]) { config.sortList=[];if(config.sortForce!=null) { var a=config.sortForce;for (var j=0;j<a.length;j++) { if(a[j][0]!=i) { config.sortList.push(a[j]);} } } config.sortList.push([i,this.order]);} else { if(isValueInArray(i,config.sortList)) { for (var j=0;j<config.sortList.length;j++) { var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i) { o.count=s[1];o.count++;s[1]=o.count % 2;} } } else { config.sortList.push([i,this.order]);} };setTimeout(function() { setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache));},1);return false;} }).mousedown(function() { if(config.cancelSelection) { this.onselectstart=function() { return false };return false;} });$this.bind("update",function() { var me=this;setTimeout(function() { me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me);},1);}).bind("updateCell",function(e,cell) { var config=this.config;var pos=[(cell.parentNode.rowIndex - 1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell);}).bind("sorton",function(e,list) { $(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache));}).bind("appendCache",function() { appendToTable(this,cache);}).bind("applyWidgetId",function(e,id) { getWidgetById(id).format(this);}).bind("applyWidgets",function() { applyWidget(this);});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)) { config.sortList=$(this).metadata().sortlist;} if(config.sortList.length>0) { $this.trigger("sorton",[config.sortList]);} applyWidget(this);});};this.addParser=function(parser) { var l=parsers.length,a=true;for (var i=0;i<l;i++) { if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()) { a=false;} } if(a) { parsers.push(parser);};};this.addWidget=function(widget) { widgets.push(widget);};this.formatFloat=function(s) { var i=parseFloat(s);return (isNaN(i)) ? 0:i;};this.formatInt=function(s) { var i=parseInt(s);return (isNaN(i)) ? 0:i;};this.isDigit=function(s,config) { return /^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,'')));};this.clearTableBody=function(table) { if($.browser.msie) { function empty() { while (this.firstChild) this.removeChild(this.firstChild);} empty.apply(table.tBodies[0]);} else { table.tBodies[0].innerHTML="";} };} });$.fn.extend({ tablesorter:$.tablesorter.construct });var ts=$.tablesorter;ts.addParser({ id:"text",is:function(s) { return true;},format:function(s) { return $.trim(s.toLocaleLowerCase());},type:"text" });ts.addParser({ id:"digit",is:function(s,table) { var c=table.config;return $.tablesorter.isDigit(s,c);},format:function(s) { return $.tablesorter.formatFloat(s);},type:"numeric" });ts.addParser({ id:"currency",is:function(s) { return /^[$?.]/.test(s);},format:function(s) { return $.tablesorter.formatFloat(s.replace(new RegExp(/[$]/g),""));},type:"numeric" });ts.addParser({ id:"ipAddress",is:function(s) { return /^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s);},format:function(s) { var a=s.split("."),r="",l=a.length;for (var i=0;i<l;i++) { var item=a[i];if(item.length==2) { r += "0" + item;} else { r += item;} } return $.tablesorter.formatFloat(r);},type:"numeric" });ts.addParser({ id:"url",is:function(s) { return /^(https?|ftp|file):\/\/$/.test(s);},format:function(s) { return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),''));},type:"text" });ts.addParser({ id:"isoDate",is:function(s) { return /^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s);},format:function(s) { return $.tablesorter.formatFloat((s!="") ? new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0");},type:"numeric" });ts.addParser({ id:"percent",is:function(s) { return /\%$/.test($.trim(s));},format:function(s) { return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""));},type:"numeric" });ts.addParser({ id:"usLongDate",is:function(s) { return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2},([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/));},format:function(s) { return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric" });ts.addParser({ id:"shortDate",is:function(s) { return /\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s);},format:function(s,table) { var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us") { s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");} else if(c.dateFormat=="uk") { s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");} else if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy") { s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");} return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric" });ts.addParser({ id:"time",is:function(s) { return /^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s);},format:function(s) { return $.tablesorter.formatFloat(new Date("2000/01/01 " + s).getTime());},type:"numeric" });ts.addParser({ id:"metadata",is:function(s) { return false;},format:function(s,table,cell) { var c=table.config,p=(!c.parserMetadataName) ? 'sortValue':c.parserMetadataName;return $(cell).metadata()[p];},type:"numeric" });ts.addWidget({ id:"zebra",format:function(table) { if(table.config.debug) { var time=new Date();} var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i) { $tr=$(this);if(!$tr.hasClass(table.config.cssChildRow)) row++;odd=(row % 2==0);$tr.removeClass(table.config.widgetZebra.css[odd ? 0:1]).addClass(table.config.widgetZebra.css[odd ? 1:0]) });if(table.config.debug) { $.tablesorter.benchmark("Applying Zebra widget",time);} } });})(jQuery);(function($) {$.fn.tableExtend=function() {$(this).each(function() {var me=$(this);if(me[0].nodeName.toLowerCase()=="table") {if(me.hasClass("tableHoverRow")) {me.tableHover(tableHoverParameters(me,true)).removeClass("tableHoverRow");} else if(me.hasClass("tableHover")) {me.tableHover(tableHoverParameters(me,false,false)).removeClass("tableHover");} else if(me.hasClass("tableHoverExcludeFirst")) {me.tableHover(tableHoverParameters(me,false,true)).removeClass("tableHoverExcludeFirst");}if(me.hasClass("tableSortable")) {me.tablesorter(tablesorterParameters(me)).removeClass("tableSortable");}} else {$j("table",me).tableExtend();}});function tableHoverParameters(obj,onlyRows,ignoreFirstCol) {if(onlyRows) {return {rowClass:'tbHoverRow',headRows:true,footRows:true}} else {var p={rowClass:'tbHoverRow',colClass:'tbHoverCol',headRows:true,footRows:true,headCols:true,footCols:true,ignoreCols:[]};if(ignoreFirstCol) {p.ignoreCols=[1];}var thList=$("th",obj);$("th.noHover",obj).each(function() {p.ignoreCols.push(thList.index($(this)) + 1);});return p;}}function tablesorterParameters(obj) {var noSortList=$("th.noSort",obj);if(noSortList.size()>0) {var p={ headers:{} };var thList=$("th",obj);noSortList.each(function() {p.headers[thList.index($(this))]={ sorter:false };});return p;}}};})(jQuery);$j(document).ready(function() {$j(document).tableExtend();});var sharingResourceId="";function SharingToolbar() {this.url="";this.resourceId="";this.boxId="";this.cid="";this.intcmp="";this.twitterAccount="";this.enableFacebook=true;this.enableTwitter=true;this.enableGooglePlus=true;this.enableComments=true;this._log=((window.console) ?function(args) {console.log(args);}:function() { });this.init=function(shareUrl,baseUrl,campaignId,internalCampaign,bId,twAccount,facebook,twitter,googlePlus,comments) {this.resourceId=$j("meta[name='resourceid']").attr("content");sharingResourceId=this.resourceId;this.boxId=bId;this.twitterAccount=twAccount;this.enableFacebook=facebook;this.enableTwitter=twitter;this.enableGooglePlus=googlePlus;this.enableComments=comments;if(shareUrl==''||!baseUrl) {shareUrl=window.location.href.replace(/\?.*/,'').replace(/\/$/,'/index.html');} else if(shareUrl.substring(0,1)=='/') {shareUrl=baseUrl + shareUrl;} else if(shareUrl.substring(0,4)!='http') {shareUrl=baseUrl + window.location.pathname.replace(/\/[^\/]*$/i,'/' + shareUrl);}if(/dynamic|stg|preview|static|origin/.test(shareUrl)) {var pu=parseUri(shareUrl);pu.authority=(siteLang=="en") ? "www.fifa.com":siteLang + ".fifa.com";shareUrl=pu.toString();}this.cid=campaignId;this.intcmp=internalCampaign;this.url=shareUrl;}this.displayFacebookButton=function() {if(this.enableFacebook) {var fbShareUrl=appendCampaign(this.url,"facebook_share","");$j.getScript('http://connect.facebook.net/en_US/all.js',function() {FB.init({ status:true,cookie:true,xfbml:true,channelUrl:'/library/sharingtools/_fbchannel.html',ref:"facebook_like_button" });FB.Event.subscribe('edge.create',function() { sharingToolbarMediaShare('fbl');});});$j("#" + this.boxId).append('<div class="FBLikeButton"><fb:like href="' + fbShareUrl + '" send="false" layout="button_count" width="60" show_faces="false" action="like" font="" ref="facebook_like_button"></fb:like></div>');}}this.displayTwitterButton=function() {if(this.enableTwitter) {var twShareUrl=appendCampaign(this.url,"twitter_share","");$j("#" + this.boxId).append('<div class="TwitterButton"><a href="http://twitter.com/share" class="twitter-share-button" data-url="' + twShareUrl + '" data-text="' + document.title.replace(/^FIFA.com - | - FIFA.com$/,"") + '" data-via="' + this.twitterAccount + '" data-lang="en"></a></div>');$j.getScript('http://platform.twitter.com/widgets.js',function(r) {twttr.events.bind('tweet',function() { sharingToolbarMediaShare('ts');});});}}this.displayGooglePlusButton=function() {var myBoxId=this.boxId;if(this.enableGooglePlus) {var gpShareUrl=appendCampaign(this.url,"googleplus_share","");if(typeof gapi!=="undefined") {gapi.plusone.render(document.getElementById(myBoxId + "_googlePlus1_sharingToolbar"),{ "href":gpShareUrl,"size":"medium","count":"true","callback":"sharingToolbarMediaShare" });} else {$j.getScript('http://apis.google.com/js/plusone.js',function() {gapi.plusone.render(document.getElementById(myBoxId + "_googlePlus1_sharingToolbar"),{ "href":gpShareUrl,"size":"medium","count":"true","callback":"sharingToolbarMediaShare" });});}$j("#" + this.boxId).append('<div class="GooglePlusOneButton"><div id="' + this.boxId + '_googlePlus1_sharingToolbar' + '"></div></div>');}}this.addComment=function() {Comment.addComments(this.resourceId);}this.showEmail=function() {Email.viewFrmEmail(this.resourceId,'frmEmail','frmBookmarks');}this.goToRSS=function() {window.location="/newscentre/rssfeeds/index.html";}this.print=function() {window.print();}this.share=function() {if(this.url) {SharingToolsPopup.show(this.url);} else {SharingToolsPopup.show();}}}function appendCampaign(url,cid,intcmp) {var uwc=url;if(cid!="") {if(uwc.indexOf("?")==-1) {uwc += "?cid=" + cid;} else {uwc += "&cid=" + cid;}}if(intcmp!="") {if(uwc.indexOf("?")==-1) {uwc += "?cid=" + intcmp;} else {uwc += "&cid=" + intcmp;}}return uwc;}function sharingToolbarMediaShare(p) {console.log("traking id:" + sharingResourceId);console.log("traking p:" + p);console.log("Traking trakSocialMediaShare:" + (typeof trackSocialMediaShare));if(typeof trackSocialMediaShare=="undefined") {console.log("creo trackSocialMediaShare");mediaShareObject={};if(typeof mediaShareObject.trackedList=="undefined") mediaShareObject.trackedList={};var tracked=mediaShareObject.trackedList[sharingResourceId];if(typeof tracked=="undefined") {tracked={};mediaShareObject.trackedList[sharingResourceId]=tracked;}try {if(p=='ts') {if(typeof tracked["ts"]=="undefined") {wAnalytics.onShare('tweet button');console.log("trakkato twitter");tracked["ts"]=true;}} else if(p=='fbl') {if(typeof tracked["fbl"]=="undefined") {wAnalytics.onShare('facebook like button');console.log("trakkato facebook");tracked["fbl"]=true;}} else if(p.state=='on'&&p.href) {if(typeof tracked["gplus"]=="undefined") {wAnalytics.onShare('google +1 button');console.log("trakkato google");tracked["gplus"]=true;}}} catch (e) { console.log("exception " + e);}} else {console.log("trackSocialMediaShare esiste");if((p=="fbl"||p=="ts")||(p.state=='on'&&p.href)) {console.log("chiamo trackSocialMediaShare");trackSocialMediaShare(p);}}}var _sf_startpt=_sf_startpt||(new Date()).getTime();(function() {var w=window;w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};w.fifa.analytics.manager=w.fifa.analytics.manager||(function() {return function(_params) {var _defaults={pageName:'',cbuid:342,cbdomain:'fifa.com',qsparams:'',addsections:'',authors:'web'},_cfg=function() {var pars;if(typeof (_params)!='undefined') {pars=_params;for (var key in _defaults) {if((typeof pars[key]=='undefined')||pars[key]=='') {pars[key]=_defaults[key];}}}else {pars=_defaults;}return pars;} ();return {Chartbeat:{getDomain:function() {if((document.domain.indexOf("gold.fifa.com")>-1)||(document.domain.indexOf("stg.fifa.com")>-1)||(document.domain.indexOf("dev.fifa.deltatre.it")>-1)) {return "stg.fifa.com";}else {return _cfg.cbdomain;}},getUid:function() {return _cfg.cbuid;},getQsParams:function() {return _cfg.qsparams;},isCbCanonical:function() {if(location.href.indexOf(".html#")>-1) {return false;}else {return true;}},getAddSections:function(initcomma) {function getwpsect() {return _cfg.addsections;};function geturlsect() {var sect="";var exp=new RegExp("match=([A-Za-z_0-9]*\-)*([0-9]+)/index");if(exp.test(window.location.pathname)) {sect="matchpages";}return sect;};var sct=getwpsect();if((!!initcomma)&&(sct!="")) {sct=","+sct;}if(((sct!="")||(initcomma))&&(geturlsect()!="")) {sct=sct + ",";}sct=sct + geturlsect();return sct;},getAuthors:function() {return _cfg.authors;},getPath:function() {var pth=window.location.pathname;if(pth=='/') {return pth + 'index.html';}else {return window.location.pathname;}}},getHierarchy:function(l,separator) {separator=separator||',';var s=this;var o='';try {var a=_cfg.pageName.replace(/:[^:]*$/,'').split(':');l=l||a.length;var max=Math.min(l,a.length);for (var i=0;i<max;i++) {o=o + separator + a[i];}} catch (e) { }return o.substring(1);},getPageName:function() {return _cfg.pageName;},getContentType:function() {var s=this;var o='';try {o=_cfg.pageName.match(/[^:]* [^:]*/g)[_cfg.pageName.match(/[^:]* [^:]*/g).length - 1];o=o.match(/[^ ]*/);} catch (e) { }return o;}};};}());})();